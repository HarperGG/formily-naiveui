var Nu=Object.defineProperty,Mu=Object.defineProperties;var Ru=Object.getOwnPropertyDescriptors;var hr=Object.getOwnPropertySymbols;var la=Object.prototype.hasOwnProperty,ca=Object.prototype.propertyIsEnumerable;var ua=(e,t,r)=>t in e?Nu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))la.call(t,r)&&ua(e,r,t[r]);if(hr)for(var r of hr(t))ca.call(t,r)&&ua(e,r,t[r]);return e},R=(e,t)=>Mu(e,Ru(t));var pr=(e,t)=>{var r={};for(var n in e)la.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&hr)for(var n of hr(e))t.indexOf(n)<0&&ca.call(e,n)&&(r[n]=e[n]);return r};import{j as pt,n as ku,k as mi,l as $u,p as ae,m as B,f as O,q as v,s as gi,v as rr,x as yi,y as le,z as Fe,A as co,B as bi,C as Hn,o as Pe,c as Ae,d as U,b as fo,D as Du,E as ju,G as Lu,H as Vu,N as Ve,I as ut,J as ho,K as Kn,L as po,M as vo,O as mo,P as an,Q as go,R as yo,S as Bu,T as Fr,U as Uu,V as bo,W as Gu,X as _o,Y as xo,Z as qu,$ as Wu,a0 as fa,a1 as zu,a2 as Hu,a3 as Ku,a4 as Ju,a5 as Yu,a6 as wo,a7 as Xu,a8 as Oo,a9 as Qu,aa as Zu,ab as el,ac as tl,ad as rl,ae as nl,af as So,ag as il,ah as al,ai as ol,aj as sl,ak as ul,al as ll}from"./app.95cea80d.js";var cl=Object.prototype.toString,on=function(e){return function(t){return fl(t)==="[object ".concat(e,"]")}},fl=function(e){return cl.call(e)},P=function(e){return typeof e=="function"},D=Array.isArray,Ie=on("Object"),J=on("String"),sn=on("Boolean"),at=on("Number"),dl=function(e){return at(e)||/^\d+$/.test(e)},To=function(e){return typeof e=="object"},ye=function(e){return D(e)?e:e?[e]:[]};function j(e,t,r){if(D(e)||J(e)){if(r){for(var n=e.length-1;n>=0;n--)if(t(e[n],n)===!1)return}else for(var n=0;n<e.length;n++)if(t(e[n],n)===!1)return}else if(To(e)){var i=void 0;for(i in e)if(Object.hasOwnProperty.call(e,i)&&t(e[i],i)===!1)return}}function hl(e,t,r){var n=D(e)||J(e)?[]:{};return j(e,function(i,a){var o=t(i,a);D(n)?n.push(o):n[a]=o},r),n}function Io(e,t,r,n){var i=r;return j(e,function(a,o){i=t(i,a,o)},n),i}function pl(){try{if(typeof self!="undefined")return self}catch{}try{if(typeof window!="undefined")return window}catch{}try{if(typeof global!="undefined")return global}catch{}return Function("return this")()}var ot=pl(),He=function(e,t){return P(t)?e instanceof t:J(t)&&ot[t]?e instanceof ot[t]:!1},da=D,ha=Object.keys,vl=Object.prototype.hasOwnProperty;function Ir(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=da(e),n=da(t),i=void 0,a,o=void 0;if(r&&n){if(a=e.length,a!==t.length)return!1;for(i=a;i--!==0;)if(!Ir(e[i],t[i]))return!1;return!0}if(r!==n)return!1;var s=e&&e._isAMomentObject,l=t&&t._isAMomentObject;if(s!==l)return!1;if(s&&l)return e.isSame(t);var u=e&&e.toJS,c=t&&t.toJS;if(u!==c)return!1;if(u)return e.is?e.is(t):e===t;var f=He(e,"Date"),p=He(t,"Date");if(f!==p)return!1;if(f&&p)return e.getTime()===t.getTime();var h=He(e,"RegExp"),d=He(t,"RegExp");if(h!==d)return!1;if(h&&d)return e.toString()===t.toString();var y=He(e,"URL"),b=He(t,"URL");if(y!==b)return!1;if(y&&b)return e.href===t.href;var g=e&&e.toJSON,x=t&&t.toJSON;if(g!==x)return!1;if(g&&x)return Ir(e.toJSON(),t.toJSON());var w=ha(e);if(a=w.length,a!==ha(t).length)return!1;for(i=a;i--!==0;)if(!vl.call(t,w[i]))return!1;for(i=a;i--!==0;)if(o=w[i],!(o==="_owner"&&e.$$typeof)&&!Ir(e[o],t[o]))return!1;return!0}return e!==e&&t!==t}var ml=function(t,r){try{return Ir(t,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}},pa=globalThis&&globalThis.__assign||function(){return pa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pa.apply(this,arguments)},lt=function(e){if(Array.isArray(e)){var t=[];return e.forEach(function(i){t.push(lt(i))}),t}else if(Ie(e)){if("$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject)return e;if(P(e.toJS))return e.toJS();if(P(e.toJSON))return e.toJSON();var r={};for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=lt(e[n]));return r}else return e},gl=Object.prototype.hasOwnProperty,yl=Object.prototype.toString,Nr=function(e){return e===void 0},$=function(e){return e!=null};function ct(e,t){if(t===void 0&&(t=!1),e==null)return!0;if(typeof e=="boolean"||typeof e=="number")return!1;if(typeof e=="string"||typeof e=="function")return e.length===0;if(Array.isArray(e)){if(e.length===0)return!0;for(var r=0;r<e.length;r++)if(t){if(e[r]!==void 0&&e[r]!==null)return!1}else if(e[r]!==void 0&&e[r]!==null&&e[r]!==""&&e[r]!==0)return!1;return!0}if(He(e,"Error"))return e.message==="";if(e.toString===yl)switch(e.toString()){case"[object File]":case"[object Map]":case"[object Set]":return e.size===0;case"[object Object]":{for(var n in e)if(gl.call(e,n))return!1;return!0}}return!1}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kt=function(){return Kt=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Kt.apply(this,arguments)};function Jt(e){return e.toLowerCase()}var bl=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],_l=/[^A-Z0-9]+/gi;function Po(e,t){t===void 0&&(t={});for(var r=t.splitRegexp,n=r===void 0?bl:r,i=t.stripRegexp,a=i===void 0?_l:i,o=t.transform,s=o===void 0?Jt:o,l=t.delimiter,u=l===void 0?" ":l,c=va(va(e,n,"$1\0$2"),a,"\0"),f=0,p=c.length;c.charAt(f)==="\0";)f++;for(;c.charAt(p-1)==="\0";)p--;return c.slice(f,p).split("\0").map(s).join(u)}function va(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(n,i){return n.replace(i,r)},e)}function xl(e,t){var r=e.charAt(0),n=e.substr(1).toLowerCase();return t>0&&r>="0"&&r<="9"?"_"+r+n:""+r.toUpperCase()+n}function wl(e,t){return t===void 0&&(t={}),Po(e,Kt({delimiter:"",transform:xl},t))}function Ol(e,t){return t===void 0&&(t={}),Po(e,Kt({delimiter:"."},t))}function Sl(e,t){return t===void 0&&(t={}),Ol(e,Kt({delimiter:"-"},t))}var Tl=function(){var e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");return new RegExp(e,"g")},ma="[\uD800-\uDBFF][\uDC00-\uDFFF]",Il=function(e){return e&&e.exact?new RegExp("^".concat(ma,"$")):new RegExp(ma,"g")},Pl=function(e){return typeof e=="string"?e.replace(Tl(),""):e},Al=function(e){return Pl(e).replace(Il()," ").length},Jn=globalThis&&globalThis.__assign||function(){return Jn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jn.apply(this,arguments)},Et=function(e,t){return Jn({flag:e},t)},Ao=Et("[]"),Yn=Et("[\\d]"),Mr=Et("[[]]"),Eo=Et("()"),Co=Et("{}"),Se=Et("{x}"),Xn=globalThis&&globalThis.__assign||function(){return Xn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xn.apply(this,arguments)},te=function(e,t){return Xn({flag:e},t)},ue=te("name",{expectNext:function(e){return this.includesContext(Se)?e===ue||e===ce||e===he||e===Ye||e===Ue:e===be||e===ce||e===re||e===he||e===qe||e===Ue||e===un||e===oe}}),Ot=te("*",{expectNext:function(e){return e===be||e===Ct||e===oe||e===re||e===ce||e===qe}}),Rr=te("**",{expectNext:function(e){return e===be||e===Ct||e===oe||e===re||e===ce||e===qe}}),be=te(".",{expectNext:function(e){return e===be||e===ue||e===Ge||e===Ot||e===Rr||e===oe||e===Be||e===re},expectPrev:function(e){return e===be||e===ue||e===xi||e===Ot||e===qe||e===he||e===un||e===Ye}}),_i=te("!",{expectNext:function(e){return e===ue||e===Ge}}),Ue=te(":",{expectNext:function(e){return this.includesContext(Se)?e===ue||e===Be||e===oe:e===ue||e===Ge||e===he}}),Be=te("{",{expectNext:function(e){return e===ue},expectPrev:function(e){return this.includesContext(Se)?e===Ue||e===ce||e===oe:e===be||e===Ue||e===Ct},updateContext:function(){this.state.context.push(Co)}}),Ye=te("}",{expectNext:function(e){return this.includesContext(Se)?e===ce||e===Ye||e===re||e===he:e===be||e===re||e===ce},expectPrev:function(e){return e===ue||e===Ye||e===he},updateContext:function(){this.state.context.pop(Co)}}),oe=te("[",{expectNext:function(e){return this.includesContext(Se)?e===ue||e===oe||e===Be||e===he:e===ue||e===Ge||e===Ue||e===oe||e===Fo||e===he},expectPrev:function(e){return this.includesContext(Se)?e===Ue||e===ce||e===oe:e===Ot||e===oe||e===be||e===ue||e===Ct||e==ce},updateContext:function(){this.state.context.push(Ao)}}),he=te("]",{expectNext:function(e){return this.includesContext(Se)?e===ce||e===Ye||e===he||e===re:e===be||e===re||e===ce||e===qe||e===he},updateContext:function(){if(!this.includesContext(Yn)){if(!this.includesContext(Ao))throw this.unexpect();this.state.context.pop()}}}),Ge=te("[[",{updateContext:function(){this.state.context.push(Mr)}}),xi=te("]]",{updateContext:function(){if(this.curContext()!==Mr)throw this.unexpect();this.state.context.pop()}}),Ct=te("(",{expectNext:function(e){return e===ue||e===Ge||e===Be||e===_i||e===oe},expectPrev:function(e){return e===Ot},updateContext:function(){this.state.context.push(Eo)}}),qe=te(")",{expectNext:function(e){return e===be||e===re||e===ce||e===qe},updateContext:function(){if(this.curContext()!==Eo)throw this.unexpect();this.state.context.pop()}}),ce=te(",",{expectNext:function(e){return e===ue||e===Ge||e===oe||e===Be}}),Fo=te("ignore",{expectNext:function(e){return e===xi},expectPrev:function(e){return e==Ge}}),un=te("expandTok",{expectNext:function(e){return e===be||e===re||e===ce||e===qe}}),re=te("eof"),ga=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,El=function(e,t){if(String.fromCharCode)return e.codePointAt(t);var r=e.charCodeAt(t);if(r<=55295||r>=57344)return r;var n=e.charCodeAt(t+1);return(r<<10)+n-56613888},Cl=function(e){return e===42||e===46||e===33||e===91||e===93||e===40||e===41||e===44||e===58||e===126||e===123||e===125},In=function(e,t){var r=new Error(e);return Object.assign(r,t),r},Bt=function(e,t,r){for(var n="",i=t;i<r;i++){var a=e.charAt(i);a!=="\\"&&(n+=a)}return n},Fl=function(){function e(t){this.input=t,this.state={context:[],type:null,pos:0},this.type_=null}return e.prototype.curContext=function(){return this.state.context[this.state.context.length-1]},e.prototype.includesContext=function(t){for(var r=this.state.context.length-1;r>=0;r--)if(this.state.context[r]===t)return!0;return!1},e.prototype.unexpect=function(t){return t=t||this.state.type,In('Unexpect token "'.concat(t.flag,'" in ').concat(this.state.pos," char."),{pos:this.state.pos})},e.prototype.expectNext=function(t,r){if(t&&t.expectNext&&r&&!t.expectNext.call(this,r))throw In('Unexpect token "'.concat(r.flag,'" token should not be behind "').concat(t.flag,'" token.(').concat(this.state.pos,"th char)"),{pos:this.state.pos})},e.prototype.expectPrev=function(t,r){if(t&&t.expectPrev&&r&&!t.expectPrev.call(this,r))throw In('Unexpect token "'.concat(t.flag,'" should not be behind "').concat(r.flag,'"(').concat(this.state.pos,"th char)."),{pos:this.state.pos})},e.prototype.match=function(t){return this.state.type===t},e.prototype.skipSpace=function(){if(this.curContext()===Mr)return;e:for(;this.state.pos<this.input.length;){var t=this.input.charCodeAt(this.state.pos);switch(t){case 32:case 160:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos;break;default:if(t>8&&t<14||t>=5760&&ga.test(String.fromCharCode(t)))++this.state.pos;else break e}}},e.prototype.next=function(){if(this.type_=this.state.type,this.input.length<=this.state.pos)return this.finishToken(re);this.skipSpace(),this.readToken(this.getCode(),this.state.pos>0?this.getCode(this.state.pos-1):-1/0)},e.prototype.getCode=function(t){return t===void 0&&(t=this.state.pos),El(this.input,t)},e.prototype.eat=function(t){return this.match(t)?(this.next(),!0):!1},e.prototype.readKeyWord=function(){for(var t=this.state.pos,r="";;){var n=this.getCode(),i=this.getCode(this.state.pos-1);if(this.input.length===this.state.pos){r=Bt(this.input,t,this.state.pos+1);break}if(!Cl(n)||i===92){if(n===32||n===160||n===10||n===8232||n===8233){r=Bt(this.input,t,this.state.pos);break}if(n===13&&this.input.charCodeAt(this.state.pos+1)===10){r=Bt(this.input,t,this.state.pos);break}if(n>8&&n<14||n>=5760&&ga.test(String.fromCharCode(n))){r=Bt(this.input,t,this.state.pos);break}this.state.pos++}else{r=Bt(this.input,t,this.state.pos);break}}this.finishToken(ue,r)},e.prototype.readIngoreString=function(){for(var t=this.state.pos,r,n="";;){var i=this.getCode();if(this.state.pos>=this.input.length)break;if((i===91||i===93)&&r===92)this.state.pos++,r="";else if(i==93&&r===93){n=this.input.slice(t,this.state.pos-1).replace(/\\([\[\]])/g,"$1"),this.state.pos++;break}else this.state.pos++,r=i}this.finishToken(Fo,n),this.finishToken(xi)},e.prototype.finishToken=function(t,r){var n=this.state.type;this.state.type=t,r!==void 0&&(this.state.value=r),this.expectNext(n,t),this.expectPrev(t,n),t.updateContext&&t.updateContext.call(this,n)},e.prototype.readToken=function(t,r){if(r===92)return this.readKeyWord();if(this.input.length<=this.state.pos)this.finishToken(re);else if(this.curContext()===Mr)this.readIngoreString();else if(t===123)this.state.pos++,this.finishToken(Be);else if(t===125)this.state.pos++,this.finishToken(Ye);else if(t===42){if(this.state.pos++,this.getCode()===42)return this.state.pos++,this.finishToken(Rr);this.finishToken(Ot)}else if(t===33)this.state.pos++,this.finishToken(_i);else if(t===46)this.state.pos++,this.finishToken(be);else if(t===91){if(this.state.pos++,this.getCode()===91)return this.state.pos++,this.finishToken(Ge);this.finishToken(oe)}else t===126?(this.state.pos++,this.finishToken(un)):t===93?(this.state.pos++,this.finishToken(he)):t===40?(this.state.pos++,this.finishToken(Ct)):t===41?(this.state.pos++,this.finishToken(qe)):t===44?(this.state.pos++,this.finishToken(ce)):t===58?(this.state.pos++,this.finishToken(Ue)):this.readKeyWord()},e}(),Me=function(e){return function(t){return t&&t.type===e}},Qn=Me("Identifier"),Nl=Me("IgnoreExpression"),Ml=Me("DotOperator"),ya=Me("WildcardOperator"),ba=Me("ExpandOperator"),Rl=Me("GroupExpression"),kl=Me("RangeExpression"),No=Me("DestructorExpression"),$l=Me("ObjectPattern"),Dl=Me("ArrayPattern"),jl=Object.prototype.toString,nr=function(e){return function(t){return jl.call(t)==="[object ".concat(e,"]")}},Zn=nr("Function"),ln=Array.isArray||nr("Array"),cn=nr("String"),fn=nr("Number"),Mo=function(e){return typeof e=="object"},Ro=nr("RegExp"),_a=function(e){return fn(e)||/^(\d+)(\.\d+)?$/.test(e)},xa=ln,wa=Object.keys,Ll=Object.prototype.hasOwnProperty,Vl=function(e){return Array.isArray(e)?e:e!==void 0?[e]:[]},Yt=function(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=xa(e),n=xa(t),i=void 0,a=void 0,o=void 0;if(r&&n){if(a=e.length,a!==t.length)return!1;for(i=a;i--!==0;)if(!Yt(e[i],t[i]))return!1;return!0}if(r!==n)return!1;var s=wa(e);if(a=s.length,a!==wa(t).length)return!1;for(i=a;i--!==0;)if(!Ll.call(t,s[i]))return!1;for(i=a;i--!==0;)if(o=s[i],!Yt(e[o],t[o]))return!1;return!0}return e!==e&&t!==t},Bl=function(e,t){return e=typeof e=="symbol"?e:"".concat(e),t=typeof t=="symbol"?t:"".concat(t),e===t},ko=new Map,Ul=function(e){return e!=null},dn=function(e){return ko.get(e)},Gl=function(e,t){ko.set(e,t)},Pr=function(e){var t=[];if($l(e)){var r=0;return e.properties.forEach(function(i){t[r]={path:[]},t[r].key=i.key.value,t[r].path.push(i.key.value),Qn(i.value)&&(t[r].key=i.value.value);var a=t[r].path,o=Pr(i.value),s=r;o.forEach(function(l){t[s]?(t[s].key=l.key,t[s].path=a.concat(l.path)):t[s]={key:l.key,path:a.concat(l.path)},s++}),s>r?r=s:r++}),t}else if(Dl(e)){var n=0;return e.elements.forEach(function(i,a){t[n]={path:[]},t[n].key=a,t[n].path.push(a),Qn(i)&&(t[n].key=i.value);var o=t[n].path,s=Pr(i),l=n;s.forEach(function(u){t[l]?(t[l].key=u.key,t[l].path=o.concat(u.path)):t[l]={key:u.key,path:o.concat(u.path)},l++}),l>n?n=l:n++}),t}return No(e)?Pr(e.value):t},ql=function(e,t,r,n){t.forEach(function(i){var a=i.key,o=i.path;n.setIn([a],e,n.getIn(o,r))})},Wl=function(e,t,r){var n={};return t.length&&fn(t[0].path[0])&&(n=[]),e=Ul(e)?e:{},t.forEach(function(i){var a=i.key,o=i.path;r.setIn(o,n,e[a])}),n},zl=function(e,t,r){t.forEach(function(n){var i=n.key;r.deleteIn([i],e)})},Hl=function(e,t,r,n){return t.every(function(i){var a=i.key;return n.existIn([a],e,r)})},Kl=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jl=function(e,t){e===void 0&&(e=[]);var r=e.length,n=function(i){i===void 0&&(i=0);var a=i<r-1?n(i+1):t,o=a&&{type:"DotOperator",after:a};return{type:"Identifier",value:e[i],after:o}};return n()},Pn=function(e,t,r){if(_a(e)&&_a(t)){if(r==="+")return String(Number(e)+Number(t));if(r==="-")return String(Number(e)-Number(t));if(r==="*")return String(Number(e)*Number(t));if(r==="/")return String(Number(e)/Number(t))}else{if(r==="+")return String(e)+String(t);if(r==="-"||r==="*"||r==="/")return"NaN"}return String(Number(t))},Yl=function(e){Kl(t,e);function t(r,n){var i=e.call(this,r)||this;return i.isMatchPattern=!1,i.isWildMatchPattern=!1,i.haveExcludePattern=!1,i.haveRelativePattern=!1,i.base=n,i}return t.prototype.parse=function(){var r;return this.data={segments:[]},this.eat(re)||(this.next(),r=this.parseAtom(this.state.type)),this.data.tree=r,r},t.prototype.append=function(r,n){r&&n&&(r.after=n)},t.prototype.parseAtom=function(r){switch(r){case Be:case oe:return this.includesContext(Se)?r===Be?this.parseObjectPattern():this.parseArrayPattern():this.parseDestructorExpression();case ue:return this.parseIdentifier();case un:return this.parseExpandOperator();case Rr:case Ot:return this.parseWildcardOperator();case Ge:return this.parseIgnoreExpression();case be:return this.parseDotOperator()}},t.prototype.pushSegments=function(r){this.data.segments.push(r)},t.prototype.parseIdentifier=function(){var r={type:"Identifier",value:this.state.value},n=!this.includesContext(Se)&&!this.isMatchPattern&&!this.isWildMatchPattern;if(this.next(),this.includesContext(Yn)){if(this.state.type!==he)throw this.unexpect();this.state.context.pop(),this.next()}else n&&this.pushSegments(r.value);if(this.state.type===oe){if(this.next(),this.state.type!==ue)throw this.unexpect();this.state.context.push(Yn);var i=!1;/^\d+$/.test(this.state.value)&&(i=!0);var a=this.state.value;this.pushSegments(i?Number(a):a);var o=this.parseAtom(this.state.type);i&&(o.arrayIndex=!0),this.append(r,o)}else this.append(r,this.parseAtom(this.state.type));return r},t.prototype.parseExpandOperator=function(){var r={type:"ExpandOperator"};return this.isMatchPattern=!0,this.isWildMatchPattern=!0,this.data.segments=[],this.next(),this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseWildcardOperator=function(){var r={type:"WildcardOperator"};return this.state.type===Rr&&(r.optional=!0),this.isMatchPattern=!0,this.isWildMatchPattern=!0,this.data.segments=[],this.next(),this.state.type===Ct?r.filter=this.parseGroupExpression(r):this.state.type===oe&&(r.filter=this.parseRangeExpression(r)),this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseDestructorExpression=function(){var r=this,n={type:"DestructorExpression"};this.state.context.push(Se);var i=this.state.pos-1;n.value=this.state.type===Be?this.parseObjectPattern():this.parseArrayPattern();var a=this.state.pos;return this.state.context.pop(),n.source=this.input.substring(i,a).replace(/\[\s*([\+\-\*\/])?\s*([^,\]\s]*)\s*\]/,function(o,s,l){return r.relative!==void 0?s?l?Pn(r.relative,l,s):Pn(r.relative,1,s):l?Pn(r.relative,l,"+"):String(r.relative):o}).replace(/\s*\.\s*/g,"").replace(/\s*/g,""),this.relative===void 0&&Gl(n.source,Pr(n)),this.relative=void 0,this.pushSegments(n.source),this.next(),this.append(n,this.parseAtom(this.state.type)),n},t.prototype.parseArrayPattern=function(){var r={type:"ArrayPattern",elements:[]};return this.next(),r.elements=this.parseArrayPatternElements(),r},t.prototype.parseArrayPatternElements=function(){for(var r=[];this.state.type!==he&&this.state.type!==re;){if(r.push(this.parseAtom(this.state.type)),this.state.type===he)return this.includesContext(Se)&&this.next(),r;this.next()}return r},t.prototype.parseObjectPattern=function(){var r={type:"ObjectPattern",properties:[]};return this.next(),r.properties=this.parseObjectProperties(),r},t.prototype.parseObjectProperties=function(){for(var r=[];this.state.type!==Ye&&this.state.type!==re;){var n={type:"ObjectPatternProperty",key:this.parseAtom(this.state.type)};if(r.push(n),this.state.type===Ue&&(this.next(),n.value=this.parseAtom(this.state.type)),this.state.type===Ye)return this.includesContext(Se)&&this.next(),r;this.next()}return r},t.prototype.parseDotOperator=function(){var r={type:"DotOperator"},n=this.type_;if(!n&&this.base){if(this.base.isMatchPattern)throw new Error("Base path must be an absolute path.");for(this.data.segments=this.base.toArr();this.state.type===be;)this.relative=this.data.segments.pop(),this.haveRelativePattern=!0,this.next();return Jl(this.data.segments.slice(),this.parseAtom(this.state.type))}else this.next();return this.append(r,this.parseAtom(this.state.type)),r},t.prototype.parseIgnoreExpression=function(){this.next();var r=String(this.state.value).replace(/\s*/g,""),n={type:"IgnoreExpression",value:r};return this.pushSegments(r),this.next(),this.append(n,this.parseAtom(this.state.type)),this.next(),n},t.prototype.parseGroupExpression=function(r){var n={type:"GroupExpression",value:[]};this.isMatchPattern=!0,this.data.segments=[],this.next();e:for(;;)switch(this.state.type){case ce:this.next();break;case _i:n.isExclude=!0,this.haveExcludePattern=!0,this.next();break;case re:break e;case qe:break e;default:n.value.push(this.parseAtom(this.state.type))}return this.next(),this.append(r,this.parseAtom(this.state.type)),n},t.prototype.parseRangeExpression=function(r){var n={type:"RangeExpression"};this.next(),this.isMatchPattern=!0,this.data.segments=[];var i=!1,a=!1;e:for(;;)switch(this.state.type){case Ue:a=!0,i=!0,this.next();break;case he:!a&&!n.end&&(n.end=n.start);break e;case ce:throw this.unexpect();case re:break e;default:i?n.end=this.parseAtom(this.state.type):n.start=this.parseAtom(this.state.type)}return this.next(),this.append(r,this.parseAtom(this.state.type)),n},t}(Fl),Oa=function(){function e(t,r){this.tree=t,this.stack=[],this.excluding=!1,this.wildcards=[],this.record=r}return e.prototype.next=function(t,r){var n=r===this.path.length-1;if(t.after)return this.matchNode(t.after,r);if(ya(t)&&!t.filter)return this.excluding?!1:r===0||t.optional?!0:!!this.take(r);if(n)return!!this.take(r);var i=this.wildcards.pop();return i&&i.after?this.next(i,r):!1},e.prototype.shot=function(){var t;((t=this.record)===null||t===void 0?void 0:t.score)>=0&&this.record.score++},e.prototype.take=function(t){var r;return String((r=this.path[t])!==null&&r!==void 0?r:"")},e.prototype.matchExcludeIdentifier=function(t,r,n){var i=n===this.path.length-1,a=n<this.path.length;if(r.after||(this.excluding=!1),t){if(r.after)return this.next(r,n);if(i)return!1}return i?!0:a},e.prototype.matchIdentifier=function(t,r){var n=this.take(r),i=!1;return ba(t.after)?(n.indexOf(t.value)===0&&(this.shot(),i=!0),this.excluding?this.matchExcludeIdentifier(i,t.after,r):i&&this.next(t.after,r)):(n===t.value&&(this.shot(),i=!0),this.excluding?this.matchExcludeIdentifier(i,t,r):i&&this.next(t,r))},e.prototype.matchIgnoreExpression=function(t,r){return Yt(t.value,this.take(r))&&this.next(t,r)},e.prototype.matchDestructorExpression=function(t,r){return Yt(t.source,this.take(r))&&this.next(t,r)},e.prototype.matchExpandOperator=function(t,r){return this.next(t,r)},e.prototype.matchWildcardOperator=function(t,r){var n=!1;return t.filter?(this.stack.push(t),n=this.matchNode(t.filter,r),this.stack.pop()):n=this.next(t,r),n},e.prototype.matchGroupExpression=function(t,r){var n=this,i=!1;return t.isExclude&&(i=!this.excluding),Vl(t.value)[i?"every":"some"](function(a){return n.wildcards=n.stack.slice(),n.excluding=i,n.matchNode(a,r)})},e.prototype.matchRangeExpression=function(t,r){var n=Number(this.take(r));return t.start?t.end?n>=Number(t.start.value)&&n<=Number(t.end.value):n>=Number(t.start.value):t.end?n<=Number(t.end.value):(this.wildcards=this.stack.slice(),this.next(t,r))},e.prototype.matchNode=function(t,r){return r===void 0&&(r=0),Ml(t)?this.next(t,r+1):Qn(t)?this.matchIdentifier(t,r):Nl(t)?this.matchIgnoreExpression(t,r):No(t)?this.matchDestructorExpression(t,r):ba(t)?this.matchExpandOperator(t,r):ya(t)?this.matchWildcardOperator(t,r):Rl(t)?this.matchGroupExpression(t,r):kl(t)?this.matchRangeExpression(t,r):!1},e.prototype.match=function(t){return this.path=t,{matched:this.matchNode(this.tree),record:this.record}},e.matchSegments=function(t,r,n){if(t.length!==r.length)return{matched:!1,record:n};var i=function(a){a===void 0&&(a=0);var o=Bl(t[a],r[a]);return(n==null?void 0:n.score)>=0&&n.score++,o&&(a<t.length-1?i(a+1):!0)};return{matched:i(),record:n}},e}(),vr=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},mr=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},gr=new Map,Ar=Symbol("PATH_MATCHER"),St=function(e){return e!=null},Xl=function(e){return e.indexOf("*")===-1&&e.indexOf("~")===-1&&e.indexOf("[")===-1&&e.indexOf("]")===-1&&e.indexOf(",")===-1&&e.indexOf(":")===-1&&e.indexOf(" ")===-1&&e[0]!=="."},wi=function(e){return typeof e=="object"||typeof e=="function"},Ql=function(e){return cn(e)?/^\d+$/.test(e):fn(e)},ir=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=dn(n);if(i){t=Wl(t,i,{setIn:ar,getIn:ir});break}else{if(!St(t)){if(r!==e.length-1)return t;break}t=t[n]}}return t},ar=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],a=dn(i);if(a){ql(t,a,r,{setIn:ar,getIn:ir});break}else{if(!St(t)||!wi(t)||ln(t)&&!Ql(i))return;if(!St(t[i])){if(r===void 0){t[i]===null&&(t[i]=r);return}n<e.length-1&&(t[i]=fn(e[n+1])?[]:{})}n===e.length-1&&(t[i]=r),t=t[i]}}},Oi=function(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=dn(n);if(i){zl(t,i,{setIn:ar,getIn:ir,deleteIn:Oi});break}else{if(r===e.length-1&&St(t)){delete t[n];return}if(!St(t)||!wi(t)||(t=t[n],!Mo(t)))return}}},Zl=Object.prototype.hasOwnProperty,$o=function(e,t,r){r instanceof E&&(r=r.length);for(var n=r;n<e.length;n++){var i=e[n],a=dn(i);if(a)return Hl(t,a,r,{setIn:ar,getIn:ir,deleteIn:Oi,existIn:$o});if(n===e.length-1)return Zl.call(t,i);if(!St(t)||!wi(t)||(t=t[i],!Mo(t)))return!1}},Si=function(e,t){if(e instanceof E)return{entire:e.entire,segments:e.segments.slice(),isRegExp:!1,haveRelativePattern:e.haveRelativePattern,isWildMatchPattern:e.isWildMatchPattern,isMatchPattern:e.isMatchPattern,haveExcludePattern:e.haveExcludePattern,tree:e.tree};if(cn(e)){if(!e)return{entire:"",segments:[],isRegExp:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1};if(Xl(e))return{entire:e,segments:e.split("."),isRegExp:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1};var r=new Yl(e,E.parse(t)),n=r.parse();if(r.isMatchPattern)return{entire:e,segments:[],isRegExp:!1,haveRelativePattern:!1,isWildMatchPattern:r.isWildMatchPattern,haveExcludePattern:r.haveExcludePattern,isMatchPattern:!0,tree:n};var i=r.data.segments;return{entire:i.join("."),segments:i,tree:n,isRegExp:!1,haveRelativePattern:r.haveRelativePattern,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}}else return Zn(e)&&e[Ar]?Si(e.path):ln(e)?{entire:e.join("."),segments:e.reduce(function(a,o){return a.concat(ei(o))},[]),isRegExp:!1,haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}:Ro(e)?{entire:e,segments:[],isRegExp:!0,haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!0}:{entire:"",isRegExp:!1,segments:e!==void 0?[e]:[],haveRelativePattern:!1,isWildMatchPattern:!1,haveExcludePattern:!1,isMatchPattern:!1}},ei=function(e){if(cn(e)){e=e.replace(/\s*/g,"");try{var t=Si(e),r=t.segments,n=t.isMatchPattern;return n?e:r}catch{return e}}else if(e instanceof E)return e.segments;return e},E=function(){function e(t,r){var n=this;this.concat=function(){for(var h,d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be concat"));var b=new e("");return b.segments=(h=n.segments).concat.apply(h,mr([],vr(d.map(function(g){return ei(g)})),!1)),b.entire=b.segments.join("."),b},this.slice=function(h,d){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be slice"));var y=new e("");return y.segments=n.segments.slice(h,d),y.entire=y.segments.join("."),y},this.push=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return n.concat.apply(n,mr([],vr(h),!1))},this.pop=function(){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be pop"));return new e(n.segments.slice(0,n.segments.length-1))},this.splice=function(h,d){for(var y=[],b=2;b<arguments.length;b++)y[b-2]=arguments[b];if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be splice"));y=y.reduce(function(x,w){return x.concat(ei(w))},[]);var g=n.segments.slice();return g.splice.apply(g,mr([h,d],vr(y),!1)),new e(g)},this.forEach=function(h){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be each"));n.segments.forEach(h)},this.map=function(h){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be map"));return n.segments.map(h)},this.reduce=function(h,d){if(n.isMatchPattern||n.isRegExp)throw new Error("".concat(n.entire," cannot be reduce"));return n.segments.reduce(h,d)},this.parent=function(){return n.slice(0,n.length-1)},this.includes=function(h){var d=e.parse(h),y=d.entire,b=d.segments,g=d.isMatchPattern,x=n.includesCache.get(y);if(x!==void 0)return x;var w=function(k){return n.includesCache.set(y,k),k};if(n.isMatchPattern){if(g)throw new Error("".concat(n.entire," cannot be used to match ").concat(y));return w(n.match(b))}if(g)throw new Error("".concat(n.entire," cannot be used to match ").concat(y));if(b.length>n.segments.length)return w(!1);for(var A=0;A<b.length;A++)if(!Yt(String(b[A]),String(n.segments[A])))return w(!1);return w(!0)},this.transform=function(h,d){if(!Zn(d))return"";if(n.isMatchPattern)throw new Error("".concat(n.entire," cannot be transformed"));var y=n.segments.reduce(function(b,g){return new RegExp(h).test(g)?b.concat(g):b},[]);return d.apply(void 0,mr([],vr(y),!1))},this.match=function(h){var d,y,b=e.parse(h),g=n.matchCache.get(b.entire);if(g!==void 0)return g.record&&g.record.score!==void 0&&(n.matchScore=g.record.score),g.matched;var x=function(k){return n.matchCache.set(b.entire,k),k};if(b.isMatchPattern){if(n.isMatchPattern)throw new Error("".concat(b.entire," cannot match ").concat(n.entire));return n.matchScore=0,x(b.match(n.segments))}else if(n.isMatchPattern){if(n.isRegExp)try{return(y=(d=n.entire)===null||d===void 0?void 0:d.test)===null||y===void 0?void 0:y.call(d,b.entire)}finally{n.entire.lastIndex=0}var w={score:0},A=x(new Oa(n.tree,w).match(b.segments));return n.matchScore=w.score,A.matched}else{var w={score:0},A=x(Oa.matchSegments(n.segments,b.segments,w));return n.matchScore=w.score,A.matched}},this.matchAliasGroup=function(h,d){var y=e.parse(h),b=e.parse(d),g=n.match(y),x=n.matchScore,w=n.match(b),A=n.matchScore;return n.haveExcludePattern?x>=A?g:w:g||w},this.existIn=function(h,d){return d===void 0&&(d=0),$o(n.segments,h,d)},this.getIn=function(h){return ir(n.segments,h)},this.setIn=function(h,d){return ar(n.segments,h,d),h},this.deleteIn=function(h){return Oi(n.segments,h),h},this.ensureIn=function(h,d){var y=n.getIn(h);return y===void 0?(n.setIn(h,d),n.getIn(h)):y};var i=Si(t,r),a=i.tree,o=i.segments,s=i.entire,l=i.isRegExp,u=i.isMatchPattern,c=i.isWildMatchPattern,f=i.haveRelativePattern,p=i.haveExcludePattern;this.entire=s,this.segments=o,this.isMatchPattern=u,this.isWildMatchPattern=c,this.haveRelativePattern=f,this.isRegExp=l,this.haveExcludePattern=p,this.tree=a,this.matchCache=new Map,this.includesCache=new Map}return e.prototype.toString=function(){var t;return(t=this.entire)===null||t===void 0?void 0:t.toString()},e.prototype.toArr=function(){var t;return(t=this.segments)===null||t===void 0?void 0:t.slice()},Object.defineProperty(e.prototype,"length",{get:function(){return this.segments.length},enumerable:!1,configurable:!0}),e.match=function(t){var r=e.parse(t),n=function(i){return r.match(i)};return n[Ar]=!0,n.path=r,n},e.isPathPattern=function(t){return!!(cn(t)||ln(t)||Ro(t)||Zn(t)&&t[Ar])},e.transform=function(t,r,n){return e.parse(t).transform(r,n)},e.parse=function(t,r){if(t===void 0&&(t=""),t instanceof e){var n=gr.get(t.entire);return n||(gr.set(t.entire,t),t)}else{if(t&&t[Ar])return e.parse(t.path);var i=r?e.parse(r):"",a="".concat(t,":").concat(i),n=gr.get(a);return n||(t=new e(t,r),gr.set(a,t),t)}},e.getIn=function(t,r){var n=e.parse(r);return n.getIn(t)},e.setIn=function(t,r,n){var i=e.parse(r);return i.setIn(t,n)},e.deleteIn=function(t,r){var n=e.parse(r);return n.deleteIn(t)},e.existIn=function(t,r,n){var i=e.parse(r);return i.existIn(t,n)},e.ensureIn=function(t,r,n){var i=e.parse(r);return i.ensureIn(t,n)},e}(),ec=function(){function e(){var t=this;this.subscribers={index:0},this.subscribe=function(r){if(P(r)){var n=t.subscribers.index+1;return t.subscribers[n]=r,t.subscribers.index++,n}},this.unsubscribe=function(r){t.subscribers[r]?delete t.subscribers[r]:r||(t.subscribers={index:0})},this.notify=function(r,n){if(!(t.subscription&&t.subscription&&P(t.subscription.notify)&&t.subscription.notify.call(t,r)===!1)&&!n){var i=function(a){return t.subscription&&P(t.subscription.filter)?t.subscription.filter.call(t,a):a};j(t.subscribers,function(a){P(a)&&a(i(r))})}}}return e}(),wt=function(e,t){t===void 0&&(t=[]);var r=function(n,i){var a=n;return Promise.resolve(i[0](n,function(o){return r(o!=null?o:a,i.slice(1))}))};return new Promise(function(n,i){r(e,t.concat(function(a){n(a)})).catch(i)})};function tc(e){return rc(e)&&!nc(e)}function rc(e){return!!e&&typeof e=="object"}function nc(e){return"$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject||P(e.toJS)||P(e.toJSON)?!0:!Ie(e)}function ic(e){return Array.isArray(e)?[]:{}}function Xt(e,t){return t.clone!==!1&&t.isMergeableObject(e)?kr(ic(e),e,t):e}function ac(e,t,r){return e.concat(t).map(function(n){return Xt(n,r)})}function oc(e,t){if(!t.customMerge)return kr;var r=t.customMerge(e);return typeof r=="function"?r:kr}function sc(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function Sa(e){return $(e)?Object.keys(e).concat(sc(e)):[]}function Do(e,t){try{return t in e}catch{return!1}}function uc(e,t){return Do(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function lc(e,t,r){var n=r.assign?e||{}:{};return r.isMergeableObject(e)?(r.assign||Sa(e).forEach(function(i){n[i]=Xt(e[i],r)}),Sa(t).forEach(function(i){uc(e,i)||(ct(e[i])?n[i]=t[i]:Do(e,i)&&r.isMergeableObject(t[i])?n[i]=oc(i,r)(e[i],t[i],r):n[i]=Xt(t[i],r))}),n):e}function kr(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||ac,r.isMergeableObject=r.isMergeableObject||tc,r.cloneUnlessOtherwiseSpecified=Xt;var n=Array.isArray(t),i=Array.isArray(e),a=n===i;return a?n?r.arrayMerge(e,t,r):lc(e,t,r):Xt(t,r)}var $r=kr,Ta=36,jo="";for(;Ta--;)jo+=Ta.toString(36);function ti(e){for(var t="",r=e||11;r--;)t+=jo[Math.random()*36|0];return t}var Lo=function(){function e(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.buildListener=function(i){return function(a,o){for(var s=this,l=0;l<i.length;l++){var u=i[l];P(u)?u.call(this,a,o):J(u)&&P(i[l+1])?(u===a.type&&i[l+1].call(this,a.payload,o),l++):j(u,function(c,f){if(P(c)&&J(f)&&f===a.type)return c.call(s,a.payload,o),!1})}}},this.notify=function(i,a,o){J(i)&&t.listener.call(o,{type:i,payload:a},o)},this.listener=this.buildListener(r)}return e}(),cc=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fc=function(e){cc(t,e);function t(r){var n=r===void 0?{}:r,i=n.lifecycles,a=n.context,o=e.call(this)||this;return o.lifecycles=[],o.outerLifecycles=new Map,o.buildLifeCycles=function(s){return s.reduce(function(l,u){return u instanceof Lo?l.concat(u):D(u)?o.buildLifeCycles(u):(typeof u=="object"&&(o.context=u),l)},[])},o.addLifeCycles=function(s,l){l===void 0&&(l=[]);var u=o.buildLifeCycles(l);u.length&&o.outerLifecycles.set(s,u)},o.hasLifeCycles=function(s){return o.outerLifecycles.has(s)},o.removeLifeCycles=function(s){o.outerLifecycles.delete(s)},o.setLifeCycles=function(s){s===void 0&&(s=[]),o.lifecycles=o.buildLifeCycles(s)},o.publish=function(s,l,u){J(s)&&(o.lifecycles.forEach(function(c){c.notify(s,l,u||o.context)}),o.outerLifecycles.forEach(function(c){c.forEach(function(f){f.notify(s,l,u||o.context)})}),o.notify({type:s,payload:l}))},o.clear=function(){o.lifecycles=[],o.outerLifecycles.clear(),o.unsubscribe()},o.lifecycles=o.buildLifeCycles(i||[]),o.context=a,o}return t}(ec),dc=Object.prototype.toString,Vo=function(e){return e&&e instanceof Map},Bo=function(e){return e&&e instanceof Set},Uo=function(e){return e&&e instanceof WeakMap},Go=function(e){return e&&e instanceof WeakSet},X=function(e){return typeof e=="function"},Ti=Array.isArray,Ii=function(e){return dc.call(e)==="[object Object]"},hc=function(e){return e!=null},qo=function(e){return Vo(e)||Uo(e)||Bo(e)||Go(e)},Wo=function(e){return Ii(e)||Ti(e)},zo=function(e){return Array.isArray(e)?e:e!=null?[e]:[]},Xe=function(){function e(t){t===void 0&&(t=[]),this.batchDeleting=!1,this.value=t}return e.prototype.add=function(t){this.has(t)||this.value.push(t)},e.prototype.has=function(t){return this.value.indexOf(t)>-1},e.prototype.delete=function(t){if(!this.batchDeleting){var r=this.value.indexOf(t);r>-1&&this.value.splice(r,1)}},e.prototype.forEach=function(t){if(this.value.length!==0)for(var r=0,n=this.value.length;r<n;r++)t(this.value[r])},e.prototype.forEachDelete=function(t){if(this.value.length!==0){this.batchDeleting=!0;for(var r=0;r<this.value.length;r++){var n=this.value[r];this.value.splice(r,1),t(n),r--}this.batchDeleting=!1}},e.prototype.clear=function(){this.value.length=0},e}(),L=new WeakMap,Ze=new WeakMap,Pi=new WeakMap,Ho=new WeakMap,ri=new WeakMap,Y=[],Qt={value:0},Te={value:0},Ai={value:!1},ni={value:!1},Ei=new Xe,Ci=new Xe,Ko=new Xe,Ce=Symbol("MakeObservableSymbol"),ii=new Xe,Jo=Symbol("iteration key"),pc=function(e,t,r){var n=ri.get(e);if(n){var i=n.get(t);return i?i.add(r):n.set(t,new Xe([r])),n}else{var a=new Map([[t,new Xe([r])]]);return ri.set(e,a),a}},vc=function(e,t){var r=e._reactionsSet;return r?r.add(t):e._reactionsSet=new Xe([t]),r},Yo=function(e,t){var r=ri.get(e),n=[];if(r){var i=r.get(t);i&&i.forEach(function(a){n.indexOf(a)===-1&&n.push(a)})}return n},An=function(e,t){var r=Yo(e,t),n=Te.value;Te.value=0;for(var i=0,a=r.length;i<a;i++){var o=r[i];o._isComputed?o._scheduler(o):xc()?Ci.add(o):_c()?Ei.add(o):X(o._scheduler)?o._scheduler(o):o()}Te.value=n},mc=function(e){ii.forEach(function(t){return t(e)})},ie=function(e){var t=e.key,r=e.type,n=e.target;r==="iterate"&&(t=Jo);var i=Y[Y.length-1];Zo()||i&&(ni.value=!0,vc(i,pc(n,t,i)))},gc=function(e){if(X(e)){var t=Y[Y.length-1];if(t){var r=t._computesSet;r?r.add(e):t._computesSet=new Xe([e])}}},xe=function(e){var t=e.key,r=e.type,n=e.target,i=e.oldTarget;if(vt(),mc(e),r==="clear"?i.forEach(function(o,s){An(n,s)}):An(n,t),r==="add"||r==="delete"||r==="clear"){var a=Array.isArray(n)?"length":Jo;An(n,a)}mt()},yc=function(){return Y.length>0},or=function(e){var t;(t=e._reactionsSet)===null||t===void 0||t.forEach(function(r){r.forEach(function(n){n.delete(e)})}),Ei.delete(e),Ci.delete(e),delete e._reactionsSet},bc=function(e){var t;(t=e._computesSet)===null||t===void 0||t.forEach(function(r){var n=Yo(r._context,r._property);n.length===0&&(hn(r),r._dirty=!0)})},hn=function(e){e._disposed=!0,or(e),bc(e)},vt=function(){Qt.value++},mt=function(){if(Qt.value--,Qt.value===0){var e=Te.value;Te.value=0,wc(),Oc(),Te.value=e}},Xo=function(){Ai.value=!0},Qo=function(){var e=Te.value;Ai.value=!1,Te.value=0,Ci.forEachDelete(function(t){X(t._scheduler)?t._scheduler(t):t()}),Te.value=e},Fi=function(){Te.value++},Ni=function(){Te.value--},_c=function(){return Qt.value>0},xc=function(){return Ai.value},Zo=function(){return Te.value>0},wc=function(){Ei.forEachDelete(function(e){X(e._scheduler)?e._scheduler(e):e()})},Oc=function(){Ko.forEachDelete(function(e){e()})},es=function(e,t){return e===t?!1:!!(e.length!==t.length||e.some(function(r,n){return r!==t[n]}))},Sc=function(e){if(e._effects)try{vt(),e._effects.queue.forEach(function(t){!t||!t.dispose||t.dispose()})}finally{mt()}},Ia=function(){function e(t,r){this.key=t.key,this.type=t.type,this.object=t.target,this.value=t.value,this.oldValue=t.oldValue,this.path=r.path.concat(t.key)}return e}(),Tc=function(){function e(t,r,n){this.target=t,this.key=r,this.value=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?this.parent.path.concat(this.key):this.key?[this.key]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetRaw",{get:function(){return L.get(this.target)||this.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){if(!!this.target)return ft(this.targetRaw)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.key?t.targetRaw===this.targetRaw&&t.key===this.key:t.value===this.value},e.prototype.contains=function(t){if(t===this)return!0;for(var r=t.parent;r;){if(this.isEqual(r))return!0;r=r.parent}return!1},e}(),ft=function(e){return Ho.get(e)},Ic=function(e,t){Ho.set(e,t)},sr=function(e,t,r){var n=L.get(r)||r,i=ft(n);if(i)return i;Ic(n,new Tc(e,t,r))},Dr=Symbol("RAW_TYPE"),Pc=Symbol("OBSERVABLE_TYPE"),Ac=Object.prototype.hasOwnProperty,dt=function(e){return L.has(e)},Ec=function(e){return e&&!!e[Ce]},pn=function(e){return hc(e)?Ti(e)?!0:Ii(e)?e[Dr]?!1:e[Pc]?!0:!("$$typeof"in e&&"_owner"in e||e._isAMomentObject||e._isJSONSchemaObject||X(e.toJS)||X(e.toJSON)):!!(Vo(e)||Uo(e)||Bo(e)||Go(e)):!1},ts=function(e){if(!!e)return X(e)?e.prototype[Dr]=!0:e[Dr]=!0,e},Ne=function(e){var t=new WeakSet,r=function(n){if(t.has(n)||n&&n[Dr])return n;if(Ti(n)){if(dt(n)){t.add(n);var i=[];return n.forEach(function(s){i.push(r(s))}),t.delete(n),i}}else if(Ii(n)&&dt(n)){t.add(n);var a={};for(var o in n)Ac.call(n,o)&&(a[o]=r(n[o]));return t.delete(n),a}return n};return r(e)},jr=function(e,t){var r=L.get(e)||e,n=L.get(t)||t;if(r===n)return!0;var i=ft(r),a=ft(n);return!i||!a?!1:i.contains(a)},Cc=function(e){return ni.value=!1,e==null||e(),ni.value},Pa=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Aa=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},yr,Fc=new Set(Object.getOwnPropertyNames(Symbol).map(function(e){return Symbol[e]}).filter(function(e){return typeof e=="symbol"})),rs=Object.prototype.hasOwnProperty;function Lr(e,t,r){var n=Ze.get(r);return n||(!dt(r)&&pn(r)?Qe(e,t,r):r)}function En(e,t,r,n){var i=r.next;return r.next=function(){var a=i.call(r),o=a.done,s=a.value;return o||(n?s[1]=Lr(e,t,s[1]):s=Lr(e,t,s)),{done:o,value:s}},r}var Ea=(yr={has:function(e){var t=L.get(this),r=Reflect.getPrototypeOf(this);return ie({target:t,key:e,type:"has"}),r.has.apply(t,arguments)},get:function(e){var t=L.get(this),r=Reflect.getPrototypeOf(this);return ie({target:t,key:e,type:"get"}),Lr(t,e,r.get.apply(t,arguments))},add:function(e){var t=L.get(this),r=Reflect.getPrototypeOf(this),n=r.has.call(t,e),i=r.add.apply(t,arguments);return n||xe({target:t,key:e,value:e,type:"add"}),i},set:function(e,t){var r=L.get(this),n=Reflect.getPrototypeOf(this),i=n.has.call(r,e),a=n.get.call(r,e),o=n.set.apply(r,arguments);return i?t!==a&&xe({target:r,key:e,value:t,oldValue:a,type:"set"}):xe({target:r,key:e,value:t,type:"add"}),o},delete:function(e){var t=L.get(this),r=Reflect.getPrototypeOf(this),n=r.has.call(t,e),i=r.get?r.get.call(t,e):void 0,a=r.delete.apply(t,arguments);return n&&xe({target:t,key:e,oldValue:i,type:"delete"}),a},clear:function(){var e=L.get(this),t=Reflect.getPrototypeOf(this),r=e.size!==0,n=e instanceof Map?new Map(e):new Set(e),i=t.clear.apply(e,arguments);return r&&xe({target:e,oldTarget:n,type:"clear"}),i},forEach:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=L.get(this),a=Reflect.getPrototypeOf(this);ie({target:i,type:"iterate"});var o=function(s,l){for(var u=[],c=2;c<arguments.length;c++)u[c-2]=arguments[c];return e.apply(void 0,Aa([Lr(i,l,s),l],Pa(u),!1))};return(t=a.forEach).call.apply(t,Aa([i,o],Pa(r),!1))},keys:function(){var e=L.get(this),t=Reflect.getPrototypeOf(this);return ie({target:e,type:"iterate"}),t.keys.apply(e,arguments)},values:function(){var e=L.get(this),t=Reflect.getPrototypeOf(this);ie({target:e,type:"iterate"});var r=t.values.apply(e,arguments);return En(e,"",r,!1)},entries:function(){var e=L.get(this),t=Reflect.getPrototypeOf(this);ie({target:e,type:"iterate"});var r=t.entries.apply(e,arguments);return En(e,"",r,!0)}},yr[Symbol.iterator]=function(){var e=L.get(this),t=Reflect.getPrototypeOf(this);ie({target:e,type:"iterate"});var r=t[Symbol.iterator].apply(e,arguments);return En(e,"",r,e instanceof Map)},Object.defineProperty(yr,"size",{get:function(){var e=L.get(this),t=Reflect.getPrototypeOf(this);return ie({target:e,type:"iterate"}),Reflect.get(t,"size",e)},enumerable:!1,configurable:!0}),yr),Nc={get:function(e,t,r){return e=rs.call(Ea,t)?Ea:e,Reflect.get(e,t,r)}},Mc={get:function(e,t,r){if(!!t){var n=e[t];if(typeof t=="symbol"&&Fc.has(t))return n;ie({target:e,key:t,receiver:r,type:"get"});var i=Ze.get(n);if(i)return i;if(!dt(n)&&pn(n)){var a=Reflect.getOwnPropertyDescriptor(e,t);if(!a||!(a.writable===!1&&a.configurable===!1))return Qe(e,t,n)}return n}},has:function(e,t){var r=Reflect.has(e,t);return ie({target:e,key:t,type:"has"}),r},ownKeys:function(e){var t=Reflect.ownKeys(e);return ie({target:e,type:"iterate"}),t},set:function(e,t,r,n){var i=rs.call(e,t),a=Qe(e,t,r),o=e[t];return e[t]=a,i?r!==o&&xe({target:e,key:t,value:a,oldValue:o,receiver:n,type:"set"}):xe({target:e,key:t,value:a,oldValue:o,receiver:n,type:"add"}),!0},deleteProperty:function(e,t){var r=e[t];return delete e[t],xe({target:e,key:t,oldValue:r,type:"delete"}),!0}},ns=function(e,t){var r=new Proxy(e,Mc);return L.set(r,e),t?Pi.set(e,r):Ze.set(e,r),r},is=function(e,t){var r=new Proxy(e,Nc);return L.set(r,e),t?Pi.set(e,r):Ze.set(e,r),r},Rc=function(e){return Wo(e)?ns(e,!0):qo(e)?is(e,!0):e},Qe=function(e,t,r,n){if(typeof r!="object")return r;var i=L.get(r);if(i){var a=ft(i);return a.target||(a.target=e),a.key=t,r}if(!pn(r))return r;if(e){var o=L.get(e)||e,s=Pi.get(o);if(s)return r}return sr(e,t,r),n?Rc(r):Wo(r)?ns(r):qo(r)?is(r):r},Ft=function(e){var t=function(r){return e({value:r})};return X(e)&&(t[Ce]=e),t},as=function(e){if(e[Ce])return e[Ce][Ce]?as(e[Ce]):e[Ce]},os=function(e,t){function r(n){var i;try{e(),X(n)&&(i=n())}finally{t()}return i}return r.bound=kc(r),r},kc=function(e){function t(r,n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e(function(){return r.apply(n,i)})}}return t},vn=function(e,t){var r=os(e,t),n=Ft(function(i){var a=i.target,o=i.key;return a[o]=r.bound(a[o],a),a});return r[Ce]=n,r.bound[Ce]=n,r},F=vn(vt,mt);F.scope=vn(Xo,Qo);F.endpoint=function(e){!X(e)||(Qt.value===0?e():Ko.add(e))};var T=vn(function(){vt(),Fi()},function(){Ni(),mt()});T.scope=vn(function(){Xo(),Fi()},function(){Ni(),Qo()});var mn=os(Fi,Ni),ss=Ft(function(e){var t=e.target,r=e.key,n=e.value,i={value:Qe(t,r,t?t[r]:n)};function a(){return ie({target:t,key:r,type:"get"}),i.value}function o(s){var l=i.value;s=Qe(t,r,s),i.value=s,l!==s&&xe({target:t,key:r,type:"set",oldValue:l,value:s})}return t?(Object.defineProperty(t,r,{set:o,get:a,enumerable:!0,configurable:!1}),t):i.value}),$c=Ft(function(e){var t=e.target,r=e.key,n=e.value,i={value:t?t[r]:n},a={set:s,get:o};L.set(a,i),Ze.set(i,a),sr(t,r,i);function o(){return ie({target:i,key:r,type:"get"}),i.value}function s(l){var u=i.value;i.value=l,u!==l&&xe({target:i,key:r,type:"set",oldValue:u,value:l})}return t?(Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!1,writable:!1}),t):a}),Dc=Ft(function(e){var t=e.target,r=e.key,n=e.value,i={value:t?t[r]:n},a={},o=t||i,s=t?r:"value";function l(){return ie({target:o,key:s,type:"get"}),i.value}function u(c){var f=i.value;i.value=c,f!==c&&xe({target:o,key:s,type:"set",oldValue:f,value:c})}return t?(Object.defineProperty(t,r,{get:l,set:u,enumerable:!0}),t):(Object.defineProperty(a,"value",{set:u,get:l}),sr(t,r,i),L.set(a,i),Ze.set(i,a),a)}),jc=Ft(function(e){var t=e.target,r=e.key,n=e.value,i={value:Qe(t,r,t?t[r]:n,!0)};function a(){return ie({target:t,key:r,type:"get"}),i.value}function o(s){var l=i.value;s=Qe(t,r,s,!0),i.value=s,l!==s&&xe({target:t,key:r,type:"set",oldValue:l,value:s})}return t?(Object.defineProperty(t,r,{set:o,get:a,enumerable:!0,configurable:!1}),t):i.value}),Lc=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Vc=Object.getOwnPropertyDescriptor,Bc=Object.getPrototypeOf;function us(e,t,r){if(!e)return r?X(r)?[r]:[r.get,r.set]:[];var n=Vc(e,t);return n?[n.get,n.set]:us(Bc(e),t,r)}var Uc=Ft(function(e){var t=e.target,r=e.key,n=e.value,i={},a={},o=t||i,s=t?r:"value",l=Lc(us(o,s,n),2),u=l[0],c=l[1];function f(){i.value=u==null?void 0:u.call(o)}function p(){if(Y.indexOf(p)===-1){or(p);try{Y.push(p),f()}finally{Y.pop()}}}p._name="ComputedReaction",p._scheduler=function(){p._dirty=!0,xe({target:o,key:s,value:i.value,type:"set"})},p._isComputed=!0,p._dirty=!0,p._context=o,p._property=s;function h(){return yc()&&gc(p),Zo()?f():p._dirty&&(p(),p._dirty=!1),ie({target:o,key:s,type:"get"}),i.value}function d(y){try{vt(),c==null||c.call(o,y)}finally{mt()}}return t?(Object.defineProperty(t,r,{get:h,set:d,enumerable:!0}),t):(Object.defineProperty(a,"value",{set:d,get:h}),sr(t,r,i),L.set(a,i),Ze.set(i,a),a)});function m(e){return Qe(null,null,e)}m.box=$c;m.ref=Dc;m.deep=ss;m.shallow=jc;m.computed=Uc;m[Ce]=ss;function Nt(e,t){if(dt(e)||!pn(e))return e;sr(void 0,void 0,e),L.set(e,e),Ze.set(e,e);for(var r in t){var n=t[r];Ec(n)&&as(n)({target:e,key:r})}return e}function Mi(e){var t=Object.keys(e||{}).reduce(function(r,n){var i=Object.getOwnPropertyDescriptor(e,n);return i&&i.get?r[n]=m.computed:X(e[n])?r[n]=T:r[n]=m,r},{});return Nt(e,t)}var ai=globalThis&&globalThis.__assign||function(){return ai=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ai.apply(this,arguments)},Je=function(e,t){t===void 0&&(t="AutoRun");var r=function(){if(!!X(e)&&!(r._boundary>0)&&Y.indexOf(r)===-1){or(r);try{vt(),Y.push(r),e()}finally{Y.pop(),r._boundary++,mt(),r._boundary=0,r._memos.cursor=0,r._effects.cursor=0}}},n=function(){r._memos={queue:[],cursor:0},r._effects={queue:[],cursor:0}};return r._boundary=0,r._name=t,n(),r(),function(){hn(r),Sc(r),n()}};Je.memo=function(e,t){if(!!X(e)){var r=Y[Y.length-1];if(!r||!r._memos)throw new Error("autorun.memo must used in autorun function body.");var n=zo(t||[]),i=r._memos.cursor++,a=r._memos.queue[i];if(!a||es(n,a.deps)){var o=e();return r._memos.queue[i]={value:o,deps:n},o}return a.value}};Je.effect=function(e,t){if(!!X(e)){var r=Y[Y.length-1];if(!r||!r._effects)throw new Error("autorun.effect must used in autorun function body.");var n=r._effects,i=zo(t||[{}]),a=n.cursor++,o=n.queue[a];(!o||es(i,o.deps))&&(Promise.resolve(0).then(function(){if(!r._disposed){var s=e();X(s)&&(n.queue[a].dispose=s)}}),n.queue[a]={deps:i})}};var Mt=function(e,t,r){var n=ai({name:"Reaction"},r),i={},a=function(){return X(n.equals)?!n.equals(i.oldValue,i.currentValue):i.oldValue!==i.currentValue},o=function(){try{vt(),X(t)&&t(i.currentValue,i.oldValue)}finally{mt()}},s=function(){if(Y.indexOf(s)===-1){or(s);try{Y.push(s),i.currentValue=e()}finally{Y.pop()}}};return s._scheduler=function(l){l(),a()&&o(),i.oldValue=i.currentValue},s._name=n.name,s(),i.oldValue=i.currentValue,n.fireImmediately&&o(),function(){hn(s)}},Gc=function(){function e(t,r){var n=this;r===void 0&&(r="TrackerReaction"),this.track=function(i){if(!X(i))return n.results;if(!(n.track._boundary>0)){if(Y.indexOf(n.track)===-1){or(n.track);try{Y.push(n.track),n.results=i()}finally{Y.pop(),n.track._boundary++,n.track._boundary=0}}return n.results}},this.dispose=function(){hn(n.track)},this.track._scheduler=function(i){n.track._boundary===0&&n.dispose(),X(i)&&t(i)},this.track._name=r,this.track._boundary=0}return e}(),qc=function(e,t,r){r===void 0&&(r=!0);var n=function(i){var a=L.get(i)||i,o=ft(a),s=function(l){var u=L.get(l.target)||l.target,c=ft(u);if(r&&o.contains(c)){t(new Ia(l,c));return}(o===c||o.targetRaw===u&&o.key===l.key)&&t(new Ia(l,c))};return o&&X(t)&&ii.add(s),function(){ii.delete(s)}};if(e&&typeof e!="object")throw Error("Can not observe ".concat(typeof e," type."));return n(e)},Tt=function(e){return e instanceof Fs},Wc=function(e){return e instanceof ur},ls=function(e){return e instanceof ur||e instanceof Bi},Ri=function(e){return e instanceof Es},ki=function(e){return e instanceof Cs},q=function(e){return e instanceof Bi},zc=function(e){return P(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="Form"},Hc=function(e){return P(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="Field"},Kc=function(e){return P(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="ArrayField"},$i=function(e){return Wc(e)||Ri(e)||ki(e)},Jc=function(e){return P(e==null?void 0:e.initialize)?!1:(e==null?void 0:e.displayName)==="ObjectField"},cs=function(e){return e&&e instanceof Vi},Yc=function(){function e(t){var r=this;this.getGraph=function(){var n={};return n[""]=r.form.getState(),j(r.form.fields,function(i,a){n[a]=i.getState()}),n},this.setGraph=function(n){var i=r.form,a=function(o,s){var l=E.parse(o),u=l.segments[l.segments.length-1],c=l.parent();return Hc(s)?r.form.createField({name:u,basePath:c}):Kc(s)?r.form.createArrayField({name:u,basePath:c}):Jc(s)?r.form.createObjectField({name:u,basePath:c}):r.form.createVoidField({name:u,basePath:c})};j(n,function(o,s){if(zc(o))i.setState(o);else{var l=i.fields[s];l?l.setState(o):a(s,o).setState(o)}})},this.form=t,Nt(this,{setGraph:F})}return e}(),Xc=function(e){return!!e.type&&!!e.message},Qc=E.getIn,Cn=ot,oi="en",Zc=function(){return Cn.navigator&&(Cn.navigator.browserlanguage||Cn.navigator.language)||oi},ge={locales:{messages:{},language:Zc()},formats:{},rules:{},template:null},ef=function(e){var t=ge.locales.language,r=Jt(e);return ge.locales.messages[e]?e:(j(ge.locales.messages,function(n,i){var a=Jt(i);if(a.indexOf(r)>-1||r.indexOf(a)>-1)return t=i,!1}),t)},Fn=function(e,t){return t===void 0&&(t=ge.locales.language),Qc(ge.locales.messages,"".concat(ef(t),".").concat(e))},Ca=function(e){var t=Fn(e);return t||Fn("pattern")||Fn("pattern",oi)},tf=function(){return ge.template},rf=function(e){return e?ge.formats[e]:ge.formats},nf=function(e){return e?ge.rules[e]:ge.rules},af=function(e){ge.locales.messages=$r(ge.locales.messages,e)},of=function(e){j(e,function(t,r){P(t)&&(ge.rules[r]=t)})},sf=function(e){j(e,function(t,r){(J(t)||t instanceof RegExp)&&(ge.formats[r]=new RegExp(t))})},br=function(e,t){var r=e.message;if(J(e.message)){var n=tf();P(n)&&(e.message=n(r,t)),e.message=e.message.replace(/\{\{\s*([\w.]+)\s*\}\}/g,function(i,a){return E.getIn(t,a)})}return e},it=globalThis&&globalThis.__assign||function(){return it=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},it.apply(this,arguments)},uf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},lf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cf=function(e,t){return e.format?e.message||Ca(e.format):e.message||Ca(t)},fs=function(e){if(!e)return{};var t={};return J(e)?t.format=e:P(e)?t.validator=e:t=Object.assign(t,e),t},Di=function(e){if(!e)return[];var t=D(e)?e:[e];return t.map(function(r){return fs(r)})},ff=function(e){e===void 0&&(e={});var t=function(){var i=[];"required"in e&&i.push("required");for(var a in e)a==="required"||a==="validator"||i.push(a);return"validator"in e&&i.push("validator"),i},r=function(i,a){return it(it(it({},e),i),{value:a})},n=function(i,a){return function(o,s){return uf(void 0,void 0,void 0,function(){var l,u,c;return lf(this,function(f){switch(f.label){case 0:l=r(s,o),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i(o,it(it({},e),{message:a}),l,function(p,h){var d;return(d=br({type:"error",message:p},Object.assign(l,h)))===null||d===void 0?void 0:d.message})];case 2:return u=f.sent(),sn(u)?u?[2,{type:"error",message:void 0}]:[2,br({type:"error",message:a},l)]:u?Xc(u)?[2,br(u,l)]:[2,br({type:"error",message:u},l)]:[2,{type:"error",message:void 0}];case 3:return c=f.sent(),[2,{type:"error",message:(c==null?void 0:c.message)||c}];case 4:return[2]}})})}};return t().reduce(function(i,a){var o=nf(a);if(o){var s=n(o,cf(e,a));return i.concat(s)}return i},[])},df=function(e,t){if(t===void 0&&(t={}),!e)return[];var r=D(e)?e:[e];return r.reduce(function(n,i){var a,o=fs(i),s=(a=o.triggerType)!==null&&a!==void 0?a:"onInput";return(t==null?void 0:t.triggerType)&&t.triggerType!==s?n:o?n.concat(ff(o)):n},[])},hf={en:{pattern:"This field is invalid",invalid:"This field is invalid",required:"The field value is required",number:"The field value is not a number",integer:"The field value is not an integer number",url:"The field value is a invalid url",email:"The field value is not a email format",ipv6:"The field value is not a ipv6 format",ipv4:"The field value is not a ipv4 format",idcard:"The field value is not an idcard format",qq:"The field value is not a qq number format",phone:"The field value is not a phone number format",money:"The field value is not a currency format",zh:"The field value is not a chinese string",date:"The field value is not a valid date format",zip:"The field value is not a zip format",len:"The length or number of entries must be {{len}}",min:"The length or number of entries must be at least {{min}}",minLength:"The length or number of entries must be at least {{minLength}}",minItems:"The length or number of entries must be at least {{minItems}}",maximum:"The field value cannot be greater than {{maximum}}",exclusiveMaximum:"The field value must be less than {{exclusiveMaximum}}",minimum:"The field value cannot be less than {{minimum}}",exclusiveMinimum:"The field value must be greater than {{exclusiveMinimum}}",max:"The field length or number of entries must be at most {{max}}",maxLength:"The field length or number of entries must be at most {{maxLength}}",maxItems:"The field length or number of entries must be at most {{maxItems}}",whitespace:"This field value cannot be blank string.",enum:"The field value must be one of {{enum}}",const:"The field value must be equal to {{const}}",multipleOf:"The field value must be divisible by {{multipleOf}}",maxProperties:"The number of field properties cannot be greater than {{maxProperties}}",minProperties:"The number of field properties cannot be less than {{maxProperties}}",uniqueItems:"Array elements are not unique"},zh:{pattern:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u4E00\u4E2A\u5408\u6CD5\u7684\u5B57\u6BB5",invalid:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u4E00\u4E2A\u5408\u6CD5\u7684\u5B57\u6BB5",required:"\u8BE5\u5B57\u6BB5\u662F\u5FC5\u586B\u5B57\u6BB5",number:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6570\u5B57",integer:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6574\u578B\u6570\u5B57",url:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684url",email:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90AE\u7BB1\u683C\u5F0F",ipv6:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv6\u683C\u5F0F",ipv4:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv4\u683C\u5F0F",idcard:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u8EAB\u4EFD\u8BC1\u683C\u5F0F",qq:"\u8BE5\u5B57\u6BB5\u4E0D\u7B26\u5408QQ\u53F7\u683C\u5F0F",phone:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u7684\u624B\u673A\u53F7",money:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u8D27\u5E01\u683C\u5F0F",zh:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u4E2D\u6587\u5B57\u7B26\u4E32",date:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u65E5\u671F\u683C\u5F0F",zip:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90AE\u7F16\u683C\u5F0F",len:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u5FC5\u987B\u4E3A{{len}}",min:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{min}}",minLength:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{minLength}}",minItems:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{minItems}}",max:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{max}}",maxLength:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{maxLength}}",maxItems:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{maxItems}}",maximum:"\u6570\u503C\u4E0D\u80FD\u5927\u4E8E{{maximum}}",exclusiveMaximum:"\u6570\u503C\u5FC5\u987B\u5C0F\u4E8E{{exclusiveMaximum}}",minimum:"\u6570\u503C\u4E0D\u80FD\u5C0F\u4E8E{{minimum}}",exclusiveMinimum:"\u6570\u503C\u5FC5\u987B\u5927\u4E8E{{exclusiveMinimum}}",whitespace:"\u4E0D\u80FD\u4E3A\u7EAF\u7A7A\u767D\u5B57\u7B26\u4E32",enum:"\u5B57\u6BB5\u503C\u5FC5\u987B\u4E3A{{enum}}\u5176\u4E2D\u4E00\u4E2A",const:"\u5B57\u6BB5\u503C\u5FC5\u987B\u7B49\u4E8E{{const}}",multipleOf:"\u5B57\u6BB5\u503C\u4E0D\u80FD\u88AB{{multipleOf}}\u6574\u9664",maxProperties:"\u5B57\u6BB5\u5C5E\u6027\u6570\u91CF\u4E0D\u80FD\u5927\u4E8E{{maxProperties}}",minProperties:"\u5B57\u6BB5\u5C5E\u6027\u6570\u91CF\u4E0D\u80FD\u5C0F\u4E8E{{minProperties}}",uniqueItems:"\u6570\u7EC4\u5143\u7D20\u4E0D\u552F\u4E00"},"en-US":{pattern:"This field is invalid",invalid:"This field is invalid",required:"The field value is required",number:"The field value is not a number",integer:"The field value is not an integer number",url:"The field value is a invalid url",email:"The field value is not a email format",ipv6:"The field value is not a ipv6 format",ipv4:"The field value is not a ipv4 format",idcard:"The field value is not an idcard format",qq:"The field value is not a qq number format",phone:"The field value is not a phone number format",money:"The field value is not a currency format",zh:"The field value is not a chinese string",date:"The field value is not a valid date format",zip:"The field value is not a zip format",len:"The length or number of entries must be {{len}}",min:"The length or number of entries must be at least {{min}}",minLength:"The length or number of entries must be at least {{minLength}}",minItems:"The length or number of entries must be at least {{minItems}}",maximum:"The field value cannot be greater than {{maximum}}",exclusiveMaximum:"The field value must be less than {{exclusiveMaximum}}",minimum:"The field value cannot be less than {{minimum}}",exclusiveMinimum:"The field value must be greater than {{exclusiveMinimum}}",max:"The field length or number of entries must be at most {{max}}",maxLength:"The field length or number of entries must be at most {{maxLength}}",maxItems:"The field length or number of entries must be at most {{maxItems}}",whitespace:"This field value cannot be blank string.",enum:"The field value must be one of {{enum}}",const:"The field value must be equal to {{const}}",multipleOf:"The field value must be divisible by {{multipleOf}}",maxProperties:"The number of field properties cannot be greater than {{maxProperties}}",minProperties:"The number of field properties cannot be less than {{maxProperties}}",uniqueItems:"Array elements are not unique"},"zh-CN":{pattern:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u4E00\u4E2A\u5408\u6CD5\u7684\u5B57\u6BB5",invalid:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u4E00\u4E2A\u5408\u6CD5\u7684\u5B57\u6BB5",required:"\u8BE5\u5B57\u6BB5\u662F\u5FC5\u586B\u5B57\u6BB5",number:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6570\u5B57",integer:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6574\u578B\u6570\u5B57",url:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684url",email:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90AE\u7BB1\u683C\u5F0F",ipv6:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv6\u683C\u5F0F",ipv4:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv4\u683C\u5F0F",idcard:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u8EAB\u4EFD\u8BC1\u683C\u5F0F",qq:"\u8BE5\u5B57\u6BB5\u4E0D\u7B26\u5408QQ\u53F7\u683C\u5F0F",phone:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u7684\u624B\u673A\u53F7",money:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u8D27\u5E01\u683C\u5F0F",zh:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u4E2D\u6587\u5B57\u7B26\u4E32",date:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u65E5\u671F\u683C\u5F0F",zip:"\u8BE5\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90AE\u7F16\u683C\u5F0F",len:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u5FC5\u987B\u4E3A{{len}}",min:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{min}}",minLength:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{minLength}}",minItems:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5C0F\u4E8E{{minItems}}",maxLength:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{maxLength}}",maxItems:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{maxItems}}",max:"\u957F\u5EA6\u6216\u6761\u76EE\u6570\u4E0D\u80FD\u5927\u4E8E{{max}}",maximum:"\u6570\u503C\u4E0D\u80FD\u5927\u4E8E{{maximum}}",exclusiveMaximum:"\u6570\u503C\u5FC5\u987B\u5C0F\u4E8E{{exclusiveMaximum}}",minimum:"\u6570\u503C\u4E0D\u80FD\u5C0F\u4E8E{{minimum}}",exclusiveMinimum:"\u6570\u503C\u5FC5\u987B\u5927\u4E8E{{exclusiveMinimum}}",whitespace:"\u4E0D\u80FD\u4E3A\u7EAF\u7A7A\u767D\u5B57\u7B26\u4E32",enum:"\u5B57\u6BB5\u503C\u5FC5\u987B\u4E3A{{enum}}\u5176\u4E2D\u4E00\u4E2A",const:"\u5B57\u6BB5\u503C\u5FC5\u987B\u7B49\u4E8E{{const}}",multipleOf:"\u5B57\u6BB5\u503C\u4E0D\u80FD\u88AB{{multipleOf}}\u6574\u9664",maxProperties:"\u5B57\u6BB5\u5C5E\u6027\u6570\u91CF\u4E0D\u80FD\u5927\u4E8E{{maxProperties}}",minProperties:"\u5B57\u6BB5\u5C5E\u6027\u6570\u91CF\u4E0D\u80FD\u5C0F\u4E8E{{minProperties}}",uniqueItems:"\u6570\u7EC4\u5143\u7D20\u4E0D\u552F\u4E00"},"zh-TW":{pattern:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u4E00\u500B\u5408\u6CD5\u7684\u5B57\u6BB5",invalid:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u4E00\u500B\u5408\u6CD5\u7684\u5B57\u6BB5",required:"\u8A72\u5B57\u6BB5\u662F\u5FC5\u586B\u5B57\u6BB5",number:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6578\u5B57",integer:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u6574\u578B\u6578\u5B57",url:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684url",email:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90F5\u7BB1\u683C\u5F0F",ipv6:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv6\u683C\u5F0F",ipv4:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684ipv4\u683C\u5F0F",idcard:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u8EAB\u4EFD\u8B49\u683C\u5F0F",qq:"\u8A72\u5B57\u6BB5\u4E0D\u7B26\u5408QQ\u865F\u683C\u5F0F",phone:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u7684\u624B\u6A5F\u865F",money:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u6709\u6548\u8CA8\u5E63\u683C\u5F0F",zh:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u4E2D\u6587\u5B57\u7B26\u4E32",date:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u65E5\u671F\u683C\u5F0F",zip:"\u8A72\u5B57\u6BB5\u4E0D\u662F\u5408\u6CD5\u7684\u90F5\u7DE8\u683C\u5F0F",len:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u5FC5\u9808\u70BA{{len}}",min:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5C0F\u65BC{{min}}",minItems:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5C0F\u65BC{{minItems}}",minLength:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5C0F\u65BC{{minLength}}",max:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5927\u65BC{{max}}",maxItems:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5927\u65BC{{maxItems}}",maxLength:"\u9577\u5EA6\u6216\u689D\u76EE\u6578\u4E0D\u80FD\u5927\u65BC{{maxLength}}",maximum:"\u6578\u503C\u4E0D\u80FD\u5927\u65BC{{maximum}}",exclusiveMaximum:"\u6578\u503C\u5FC5\u9808\u5C0F\u65BC{{exclusiveMaximum}}",minimum:"\u6578\u503C\u4E0D\u80FD\u5C0F\u65BC{{minimum}}",exclusiveMinimum:"\u6578\u503C\u5FC5\u9808\u5927\u65BC{{exclusiveMinimum}}",whitespace:"\u4E0D\u80FD\u70BA\u7D14\u7A7A\u767D\u5B57\u7B26\u4E32",enum:"\u5B57\u6BB5\u503C\u5FC5\u9808\u70BA{{enum}}\u5176\u4E2D\u4E00\u500B",const:"\u5B57\u6BB5\u503C\u5FC5\u9808\u7B49\u65BC{{const}}",multipleOf:"\u5B57\u6BB5\u503C\u4E0D\u80FD\u88AB{{multipleOf}}\u6574\u9664",maxProperties:"\u5B57\u6BB5\u5C6C\u6027\u6578\u91CF\u4E0D\u80FD\u5927\u65BC{{maxProperties}}",minProperties:"\u5B57\u6BB5\u5C6C\u6027\u6578\u91CF\u4E0D\u80FD\u5C0F\u65BC{{minProperties}}",uniqueItems:"\u6578\u7D44\u5143\u7D20\u4E0D\u552F\u4E00"},ja:{url:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7121\u52B9\u306AURL\u3067\u3059",whitespace:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u3092\u7A7A\u306E\u6587\u5B57\u5217\u306B\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002",zh:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u4E2D\u56FD\u8A9E\u306E\u6587\u5B57\u5217\u3067\u306F\u3042\u308A\u307E\u305B\u3093",zip:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306Fzip\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",date:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u6709\u52B9\u306A\u65E5\u4ED8\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",email:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u30E1\u30FC\u30EB\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",exclusiveMaximum:"\u5024\u306F{{exclusiveMaximum}}\u672A\u6E80\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",exclusiveMinimum:"\u5024\u306F{{exclusiveMinimum}}\u3088\u308A\u5927\u304D\u3044\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",idcard:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306FID\u30AB\u30FC\u30C9\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",integer:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u6574\u6570\u3067\u306F\u3042\u308A\u307E\u305B\u3093",ipv4:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306FIPv4\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",ipv6:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306FIPv6\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",len:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F{{len}}\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093",max:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u6700\u5927{{max}}\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093",maxItems:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u6700\u5927{{maxItems}}\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093",maxLength:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u6700\u5927{{maxLength}}\u3067\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093",maximum:"\u5024\u306F{{\u6700\u5927}}\u3092\u8D85\u3048\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093",min:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u3001\u5C11\u306A\u304F\u3068\u3082{{min}}\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",minItems:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u3001\u5C11\u306A\u304F\u3068\u3082{{minItems}}\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",minLength:"\u30A8\u30F3\u30C8\u30EA\u306E\u9577\u3055\u307E\u305F\u306F\u6570\u306F\u3001\u5C11\u306A\u304F\u3068\u3082{{minLength}}\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",minimum:"\u5024\u306F{{minimum}}\u4EE5\u4E0A\u306B\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",money:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u901A\u8CA8\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",number:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u6570\u5024\u3067\u306F\u3042\u308A\u307E\u305B\u3093",pattern:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u3069\u306E\u30D1\u30BF\u30FC\u30F3\u3068\u3082\u4E00\u81F4\u3057\u307E\u305B\u3093",invalid:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u3069\u306E\u30D1\u30BF\u30FC\u30F3\u3068\u3082\u4E00\u81F4\u3057\u307E\u305B\u3093",phone:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u96FB\u8A71\u756A\u53F7\u306E\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",qq:"\u3053\u306E\u30D5\u30A3\u30FC\u30EB\u30C9\u306Fqq\u6570\u5024\u5F62\u5F0F\u3067\u306F\u3042\u308A\u307E\u305B\u3093",required:"\u3053\u306E\u9805\u76EE\u306F\u5FC5\u9808\u3067\u3059",enum:"\u30D5\u30A3\u30FC\u30EB\u30C9\u5024\u306F{{enum}}\u306E\u3044\u305A\u308C\u304B\u3067\u3042\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059",cons:"\u30D5\u30A3\u30FC\u30EB\u30C9\u5024\u306F{{const}}\u3068\u7B49\u3057\u304F\u306A\u3051\u308C\u3070\u306A\u308A\u307E\u305B\u3093",multipleOf:"\u30D5\u30A3\u30FC\u30EB\u30C9\u5024\u3092{{multipleOf}}\u3067\u5272\u308A\u5207\u308C\u306A\u3044",maxProperties:"\u30D5\u30A3\u30FC\u30EB\u30C9\u30D7\u30ED\u30D1\u30C6\u30A3\u306E\u6570\u306F{{maxProperties}}\u3092\u8D85\u3048\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093",minProperties:"\u30D5\u30A3\u30FC\u30EB\u30C9\u30D7\u30ED\u30D1\u30C6\u30A3\u306E\u6570\u306F{{minProperties}}\u672A\u6E80\u306B\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093",uniqueItems:"\u914D\u5217\u8981\u7D20\u306F\u4E00\u610F\u3067\u306F\u3042\u308A\u307E\u305B\u3093"}},pf={url:new RegExp("^(?:(?:(?:https?|ftp|rtmp):)?//)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:22[0-3]|2[01]\\d|[1-9]\\d?|1\\d\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1?\\d{1,2})){2}(?:\\.(?:25[0-4]|2[0-4]\\d|1\\d\\d|[1-9]\\d?))|(?:(?:[a-z\\u00a1-\\uffff0-9_]-*)*[a-z\\u00a1-\\uffff0-9_]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9_]-*)*[a-z\\u00a1-\\uffff0-9_]+)*(?:\\.(?:[a-z\\u00a1-\\uffff_]{2,})))(?::\\d{2,5})?(?:/?\\S*)?$"),email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ipv4:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/,number:/^[+-]?\d+(\.\d+)?$/,integer:/^[+-]?\d+$/,qq:/^(\+?[1-9]\d*|0)$/,phone:/^\d{3}-\d{8}$|^\d{4}-\d{7}$|^\d{11}$/,idcard:/^\d{15}$|^\d{17}(\d|x|X)$/,money:/^([\u0024\u00A2\u00A3\u00A4\u20AC\u00A5\u20B1\u20B9\uFFE5]\s*)(\d+,?)+\.?\d*\s*$/,zh:/^[\u4e00-\u9fa5]+$/,date:/^[0-9]+[./-][0-9]+[./-][0-9]+\s*(?:[0-9]+\s*:\s*[0-9]+\s*:\s*[0-9]+)?$/,zip:/^[0-9]{6}$/},Vr=globalThis&&globalThis.__assign||function(){return Vr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vr.apply(this,arguments)},vf=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},mf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gf=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},yf=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},fe=function(e){var t;if(D(e)){for(var r=0;r<e.length;r++)if($(e[r]))return!1;return!0}else return e!=null&&e.getCurrentContent?!(!((t=e.getCurrentContent())===null||t===void 0)&&t.hasText()):ct(e)},Ut=function(e){return J(e)?Al(e):e?e.length:0},bf=function(e,t){j(t,function(r,n){e[n]=function(i,a){for(var o,s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];return e[r].apply(e,yf([i,Vr(Vr({},a),(o={},o[r]=a[n],o))],gf(s),!1))}})},ds={format:function(e,t){if(fe(e))return"";if(t.format){var r=rf(t.format);if(r)return new RegExp(r).test(e)?"":t.message}return""},required:function(e,t){return t.required===!1?"":fe(e)?t.message:""},max:function(e,t){if(fe(e))return"";var r=at(e)?e:Ut(e),n=Number(t.max);return r>n?t.message:""},min:function(e,t){if(fe(e))return"";var r=at(e)?e:Ut(e),n=Number(t.min);return r<n?t.message:""},exclusiveMaximum:function(e,t){if(fe(e))return"";var r=at(e)?e:Ut(e),n=Number(t.exclusiveMaximum);return r>=n?t.message:""},exclusiveMinimum:function(e,t){if(fe(e))return"";var r=at(e)?e:Ut(e),n=Number(t.exclusiveMinimum);return r<=n?t.message:""},len:function(e,t){if(fe(e))return"";var r=Ut(e),n=Number(t.len);return r!==n?t.message:""},pattern:function(e,t){return fe(e)||new RegExp(t.pattern).test(e)?"":t.message},validator:function(e,t,r,n){return vf(this,void 0,void 0,function(){var i;return mf(this,function(a){switch(a.label){case 0:return P(t.validator)?[4,Promise.resolve(t.validator(e,t,r,n))]:[3,2];case 1:return i=a.sent(),sn(i)?[2,i?"":t.message]:[2,i];case 2:throw new Error("The rule's validator property must be a function.")}})})},whitespace:function(e,t){if(fe(e))return"";if(t.whitespace)return/^\s+$/.test(e)?t.message:""},enum:function(e,t){if(fe(e))return"";var r=ye(t.enum);return r.indexOf(e)===-1?t.message:""},const:function(e,t){return fe(e)?"":t.const!==e?t.message:""},multipleOf:function(e,t){return fe(e)?"":Number(e)%Number(t.multipleOf)!==0?t.message:""},uniqueItems:function(e,t){return fe(e)?"":(e=ye(e),e.some(function(r,n){for(var i=0;i<e.length;i++)if(i!==n&&!ml(e[i],r))return!1;return!0})?"":t.message)},maxProperties:function(e,t){return fe(e)||Object.keys(e||{}).length<=Number(t.maxProperties)?"":t.message},minProperties:function(e,t){return fe(e)||Object.keys(e||{}).length>=Number(t.minProperties)?"":t.message}};bf(ds,{maximum:"max",minimum:"min",maxItems:"max",minItems:"min",maxLength:"max",minLength:"min"});var _f=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},xf=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};of(ds);af(hf);sf(pf);var wf=function(e,t,r){return _f(void 0,void 0,void 0,function(){var n,i,a,o,s,l;return xf(this,function(u){switch(u.label){case 0:n=df(t,r),i={error:[],success:[],warning:[]},a=0,u.label=1;case 1:return a<n.length?[4,n[a](e,r==null?void 0:r.context)]:[3,4];case 2:if(o=u.sent(),s=o.type,l=o.message,i[s]=i[s]||[],l&&(i[s].push(l),r!=null&&r.validateFirst))return[3,4];u.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})},_;(function(e){e.ON_FORM_INIT="onFormInit",e.ON_FORM_MOUNT="onFormMount",e.ON_FORM_UNMOUNT="onFormUnmount",e.ON_FORM_INPUT_CHANGE="onFormInputChange",e.ON_FORM_VALUES_CHANGE="onFormValuesChange",e.ON_FORM_INITIAL_VALUES_CHANGE="onFormInitialValuesChange",e.ON_FORM_SUBMIT="onFormSubmit",e.ON_FORM_RESET="onFormReset",e.ON_FORM_SUBMIT_START="onFormSubmitStart",e.ON_FORM_SUBMITTING="onFormSubmitting",e.ON_FORM_SUBMIT_END="onFormSubmitEnd",e.ON_FORM_SUBMIT_VALIDATE_START="onFormSubmitValidateStart",e.ON_FORM_SUBMIT_VALIDATE_SUCCESS="onFormSubmitValidateSuccess",e.ON_FORM_SUBMIT_VALIDATE_FAILED="onFormSubmitValidateFailed",e.ON_FORM_SUBMIT_VALIDATE_END="onFormSubmitValidateEnd",e.ON_FORM_SUBMIT_SUCCESS="onFormSubmitSuccess",e.ON_FORM_SUBMIT_FAILED="onFormSubmitFailed",e.ON_FORM_VALIDATE_START="onFormValidateStart",e.ON_FORM_VALIDATING="onFormValidating",e.ON_FORM_VALIDATE_SUCCESS="onFormValidateSuccess",e.ON_FORM_VALIDATE_FAILED="onFormValidateFailed",e.ON_FORM_VALIDATE_END="onFormValidateEnd",e.ON_FORM_GRAPH_CHANGE="onFormGraphChange",e.ON_FORM_LOADING="onFormLoading",e.ON_FIELD_INIT="onFieldInit",e.ON_FIELD_INPUT_VALUE_CHANGE="onFieldInputValueChange",e.ON_FIELD_VALUE_CHANGE="onFieldValueChange",e.ON_FIELD_INITIAL_VALUE_CHANGE="onFieldInitialValueChange",e.ON_FIELD_SUBMIT="onFieldSubmit",e.ON_FIELD_SUBMIT_START="onFieldSubmitStart",e.ON_FIELD_SUBMITTING="onFieldSubmitting",e.ON_FIELD_SUBMIT_END="onFieldSubmitEnd",e.ON_FIELD_SUBMIT_VALIDATE_START="onFieldSubmitValidateStart",e.ON_FIELD_SUBMIT_VALIDATE_SUCCESS="onFieldSubmitValidateSuccess",e.ON_FIELD_SUBMIT_VALIDATE_FAILED="onFieldSubmitValidateFailed",e.ON_FIELD_SUBMIT_VALIDATE_END="onFieldSubmitValidateEnd",e.ON_FIELD_SUBMIT_SUCCESS="onFieldSubmitSuccess",e.ON_FIELD_SUBMIT_FAILED="onFieldSubmitFailed",e.ON_FIELD_VALIDATE_START="onFieldValidateStart",e.ON_FIELD_VALIDATING="onFieldValidating",e.ON_FIELD_VALIDATE_SUCCESS="onFieldValidateSuccess",e.ON_FIELD_VALIDATE_FAILED="onFieldValidateFailed",e.ON_FIELD_VALIDATE_END="onFieldValidateEnd",e.ON_FIELD_LOADING="onFieldLoading",e.ON_FIELD_RESET="onFieldReset",e.ON_FIELD_MOUNT="onFieldMount",e.ON_FIELD_UNMOUNT="onFieldUnmount"})(_||(_={}));var hs={form:!0,parent:!0,props:!0,caches:!0,requests:!0,disposers:!0,heart:!0,graph:!0,indexes:!0,fields:!0,lifecycles:!0,componentType:!0,componentProps:!0,decoratorType:!0,decoratorProps:!0},Of={address:!0,path:!0,valid:!0,invalid:!0,selfValid:!0,selfInvalid:!0,errors:!0,successes:!0,warnings:!0,validateStatus:!0},Nn="selfDisplay",Gt="selfPattern",Sf={pattern:Gt,editable:Gt,readOnly:Gt,readPretty:Gt,disabled:Gt,display:Nn,hidden:Nn,visible:Nn},ji=100,Z={lifecycles:[],context:[],effectStart:!1,effectEnd:!1,initializing:!1},Ke=/^\.(\d+)/,It=globalThis&&globalThis.__assign||function(){return It=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},It.apply(this,arguments)},Rt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},kt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Br=Object.prototype.hasOwnProperty,ee=function(e,t,r){Tt(e)?e.notify(t):e.notify(r)},Mn=function(e,t){var r;return t===void 0&&(t=!0),e!=null&&e.target?$(e.target.value)||$(e.target.checked)?!0:e.target.tagName&&e.target.tagName!=="INPUT"&&e.target.tagName!=="TEXTAREA"&&e.target.tagName!=="SELECT"?!1:(t&&((r=e.stopPropagation)===null||r===void 0||r.call(e)),!0):!1},Tf=function(e){return e.map(function(t){return t!=null&&t.target?$(t.target.value)?t.target.value:$(t.target.checked)?t.target.checked:void 0:t})},If=function(e){if(Ri(e))return[];if(ki(e))return{}},Pf=function(e){return ps(e.form.fields,e.address)},ps=function(e,t){var r=!1,n=t.segments,i=n.reduce(function(a,o,s){var l=a.concat(o),u=n.slice(0,s+1),c=e[u.join(".")];if(r)return q(c)||(r=!1),a;if(s>=n.length-1)return l;if(q(c)){var f=n.slice(0,s),p=e[f.join(".")];return Ri(p)&&dl(o)?(r=!0,l):a}else r=!1;return l},[]);return new E(i)},vs=function(e,t){return e.address=E.parse(t),e.path=Pf(e),e.form.indexes[e.path.toString()]=e.address.toString(),e},ms=function(e,t){t.forEach(function(r){var n=r.type,i=r.address,a=r.oldAddress,o=r.payload;n==="remove"?gs(e,i,!1):n==="update"&&(o&&(e[i]=o,e[a]===o&&delete e[a]),i&&o&&vs(o,i))})},gs=function(e,t,r){r===void 0&&(r=!0);var n=e[t];if(n==null||n.dispose(),$i(n)&&r){var i=n.form,a=n.path;i.deleteValuesIn(a),i.deleteInitialValuesIn(a)}delete e[t]},Af=function(e,t,r){var n=function(a,o){a.length?e.setValuesIn(a,lt(o)):Object.assign(e.values,lt(o))},i=function(a,o){o===void 0&&(o=[]);var s=e.getValuesIn(o),l=e.query(o).take();if(Wr(s,a))n(o,a);else{if(ct(a)||Z.initializing)return;Ie(s)&&Ie(a)?j(a,function(u,c){i(u,o.concat(c))}):l?!q(l)&&!l.selfModified&&n(o,a):e.initialized&&n(o,a)}};i(r,t)},Ef=function(e,t){return!(!e||!t||e.type&&e.type!==t.type||e.code&&e.code!==t.code||e.path&&t.path&&!E.parse(e.path).match(t.path)||e.address&&t.address&&!E.parse(e.address).match(t.address)||e.triggerType&&e.triggerType!==t.triggerType)},Li=function(e,t){return e.feedbacks.filter(function(r){var n,i,a;return!((n=r.messages)===null||n===void 0)&&n.length?Ef(t,It(It({},r),{address:(i=e.address)===null||i===void 0?void 0:i.toString(),path:(a=e.path)===null||a===void 0?void 0:a.toString()})):!1})},Rn=function(e,t){return e.feedbacks.length?Li(e,t).reduce(function(r,n){return ct(n.messages)?r:r.concat(n.messages)},[]):[]},Cf=function(e,t){if(!!t)return F(function(){var r,n;if(e.feedbacks.length){var i=Li(e,t);if(i.length){e.feedbacks=e.feedbacks.reduce(function(a,o){var s;return i.includes(o)?!((s=t.messages)===null||s===void 0)&&s.length?(o.messages=t.messages,a.concat(o)):a:a.concat(o)},[]);return}else!((n=t.messages)===null||n===void 0)&&n.length&&(e.feedbacks=e.feedbacks.concat(t))}else{if(!(!((r=t.messages)===null||r===void 0)&&r.length))return;e.feedbacks=[t]}})},Fa=function(e,t){return t===void 0&&(t="onInput"),Rt(void 0,void 0,void 0,function(){var r;return kt(this,function(n){switch(n.label){case 0:return[4,wf(e.value,e.validator,{triggerType:t,validateFirst:e.props.validateFirst||e.form.props.validateFirst,context:{field:e,form:e.form}})];case 1:return r=n.sent(),F(function(){j(r,function(i,a){e.setFeedback({triggerType:t,type:a,code:wl("validate-".concat(a)),messages:i})})}),[2,r]}})})},Ff=function(e,t,r){var n;if(!!$(r)){var i=Di(e.validator),a=i.some(function(s){return t in s}),o=(n={},n[t]=r,n);a?e.validator=i.map(function(s){return Ie(s)&&Br.call(s,t)&&(s[t]=r),s}):t==="required"?e.validator=[o].concat(i):e.validator=i.concat(o)}},_r=function(e,t){var r=It({startIndex:0,deleteCount:0,insertCount:0},t),n=r.startIndex,i=r.deleteCount,a=r.insertCount,o=e.address.toString(),s=o.length,l=e.form,u=l.fields,c=[],f=a-i,p=function(g){return g.indexOf(o)===0&&g.length>s},h=function(g){var x,w=g.substring(s),A=(x=w.match(Ke))===null||x===void 0?void 0:x[1];if(A===void 0)return!1;var k=Number(A);return k>n+i-1},d=function(g){var x,w=g.substring(s),A=(x=w.match(Ke))===null||x===void 0?void 0:x[1];if(A===void 0)return!1;var k=Number(A);return k>=n&&k<n+a},y=function(g){var x,w=g.substring(0,s),A=g.substring(s),k=(x=A.match(Ke))===null||x===void 0?void 0:x[1];if(k===void 0)return!1;var V=Number(k);return V>n&&!u["".concat(w).concat(A.replace(/^\.\d+/,".".concat(V+i)))]||V===n},b=function(g){var x;if(f===0)return g;var w=g.substring(0,s),A=g.substring(s),k=(x=A.match(Ke))===null||x===void 0?void 0:x[1];if(k===void 0)return g;var V=Number(k)+f;return"".concat(w).concat(A.replace(/^\.\d+/,".".concat(V)))};F(function(){j(u,function(g,x){if(p(x)){if(h(x)){var w=b(x);c.push({type:"update",address:w,oldAddress:x,payload:g})}(d(x)||y(x))&&($i(g)&&l.deleteInitialValuesIn(g.path),c.push({type:"remove",address:x}))}}),ms(u,c)}),e.form.notify(_.ON_FORM_GRAPH_CHANGE)},Nf=function(e,t){var r=It({fromIndex:0,toIndex:0},t),n=r.fromIndex,i=r.toIndex,a=e.address.toString(),o=e.form.fields,s=a.length,l=[],u=function(d){return d.indexOf(a)===0&&d.length>s},c=n<i,f=function(d){var y,b=d.slice(a.length),g=(y=b.match(Ke))===null||y===void 0?void 0:y[1];if(g===void 0)return!1;var x=Number(g);return c?x>n&&x<=i:x<n&&x>=i},p=function(d){var y,b=d.substring(s),g=(y=b.match(Ke))===null||y===void 0?void 0:y[1];if(g===void 0)return!1;var x=Number(g);return x===n},h=function(d){var y=d.substring(0,s),b=d.substring(s),g=b.match(Ke)[1],x=Number(g),w=x;return w===n?w=i:w+=c?-1:1,"".concat(y).concat(b.replace(/^\.\d+/,".".concat(w)))};F(function(){j(o,function(d,y){if(u(y)&&(f(y)||p(y))){var b=h(y);l.push({type:"update",address:b,oldAddress:y,payload:d}),o[b]||l.push({type:"remove",address:y})}}),ms(o,l)}),e.form.notify(_.ON_FORM_GRAPH_CHANGE)},Na=function(e,t){var r=e.address.toString(),n=e.form.fields,i=function(o){return o.indexOf(r)===0&&o.length>r.length},a=function(o){var s,l=o.slice(r.length),u=(s=l.match(Ke))===null||s===void 0?void 0:s[1];if(u===void 0)return!1;var c=Number(u);return c>=t};F(function(){j(n,function(o,s){i(s)&&a(s)&&o.destroy()})})},Mf=function(e,t){if(t.length!==0){var r=e.address.toString(),n=e.form.fields,i=function(o){return o.indexOf(r)===0&&o.length>r.length},a=function(o){var s,l=o.slice(r.length),u=(s=l.match(/^\.([^.]+)/))===null||s===void 0?void 0:s[1];return u===void 0?!1:t.includes(u)};F(function(){j(n,function(o,s){i(s)&&a(s)&&o.destroy()})})}},Rf=F.scope.bound(function(e){for(var t=e.form,r=E.ensureIn(t,"requests.updates",[]),n=E.ensureIn(t,"requests.updateIndexes",{}),i=0;i<r.length;i++){var a=r[i],o=a.pattern,s=a.callbacks,l=!1;e.match(o)&&(s.forEach(function(u){e.setState(u)}),!o.isWildMatchPattern&&!o.isMatchPattern&&(r.splice(i--,1),l=!0)),l?delete n[o.toString()]:n[o.toString()]=i}}),kf=function(e,t,r){var n=E.ensureIn(e,"requests.updates",[]),i=E.ensureIn(e,"requests.updateIndexes",{}),a=t.toString(),o=i[a];$(o)?n[o]&&!n[o].callbacks.some(function(s){return s.toString()===r.toString()?s===r:!1})&&n[o].callbacks.push(r):(i[a]=n.length,n.push({pattern:t,callbacks:[r]}))},$f=function(e,t){if(!!e){if(P(t))t(e);else for(var r in t)if(!!Br.call(t,r)&&!(Of[r]||hs[r])){var n=Sf[r];if(!(n&&Br.call(t,n)&&!$(t[n]))){var i=t[r];P(i)||(e[r]=i)}}return e}},Df=function(e,t){if(P(t))return t(e);var r={};for(var n in e)if(!!Br.call(e,n)&&!hs[n]){if(n==="address"||n==="path"){r[n]=e[n].toString();continue}var i=e[n];P(i)||(r[n]=Ne(i))}return r},kn=function(e){var t,r=(t=e.address)===null||t===void 0?void 0:t.toString();return function(n){var i=n.address;return i.indexOf(r)===0}},Ur=function(e){return F.bound(function(t){return $f(e,t)})},Gr=function(e){return function(t){return Df(e,t)}},jf=function(e){return F.bound(function(t,r){if(cs(t))t.forEach(function(a){a.setState(r)});else if(ls(t))t.setState(r);else{var n=0,i=E.parse(t);e.query(i).forEach(function(a){a.setState(r),n++}),(n===0||i.isWildMatchPattern)&&kf(e,i,r)}})},Lf=function(e){return function(t,r){return cs(t)?t.take(r):ls(t)?t.getState(r):e.query(t).take(function(n){return n.getState(r)})}},Vf=function(e,t){var r=t.path;Array.isArray(t.object)&&t.key==="length"||(jr(e.initialValues,t.object)||jr(e.initialValues,t.value))&&((t.type==="add"||t.type==="set")&&Af(e,r.slice(1),t.value),e.initialized&&e.notify(_.ON_FORM_INITIAL_VALUES_CHANGE))},Bf=function(e,t){Array.isArray(t.object)&&t.key==="length"||(jr(e.values,t.object)||jr(e.values,t.value))&&e.initialized&&e.notify(_.ON_FORM_VALUES_CHANGE)},qr=function(e,t){clearTimeout(e.requests.validate),t?(e.requests.validate=setTimeout(function(){F(function(){e.validating=t,ee(e,_.ON_FORM_VALIDATING,_.ON_FIELD_VALIDATING)})},ji),ee(e,_.ON_FORM_VALIDATE_START,_.ON_FIELD_VALIDATE_START)):(e.validating!==t&&(e.validating=t),ee(e,_.ON_FORM_VALIDATE_END,_.ON_FIELD_VALIDATE_END))},ys=function(e,t){clearTimeout(e.requests.submit),t?(e.requests.submit=setTimeout(function(){F(function(){e.submitting=t,ee(e,_.ON_FORM_SUBMITTING,_.ON_FIELD_SUBMITTING)})},ji),ee(e,_.ON_FORM_SUBMIT_START,_.ON_FIELD_SUBMIT_START)):(e.submitting!==t&&(e.submitting=t),ee(e,_.ON_FORM_SUBMIT_END,_.ON_FIELD_SUBMIT_END))},bs=function(e,t){clearTimeout(e.requests.loading),t?e.requests.loading=setTimeout(function(){F(function(){e.loading=t,ee(e,_.ON_FORM_LOADING,_.ON_FIELD_LOADING)})},ji):e.loading!==t&&(e.loading=t)},_s=function(e,t){return Rt(void 0,void 0,void 0,function(){var r,n,i;return kt(this,function(a){switch(a.label){case 0:r=function(o){return Tt(o)?Ne(o.values):Ne(o.value)},e.setSubmitting(!0),a.label=1;case 1:return a.trys.push([1,3,,4]),ee(e,_.ON_FORM_SUBMIT_VALIDATE_START,_.ON_FIELD_SUBMIT_VALIDATE_START),[4,e.validate()];case 2:return a.sent(),ee(e,_.ON_FORM_SUBMIT_VALIDATE_SUCCESS,_.ON_FIELD_SUBMIT_VALIDATE_SUCCESS),[3,4];case 3:return a.sent(),ee(e,_.ON_FORM_SUBMIT_VALIDATE_FAILED,_.ON_FIELD_SUBMIT_VALIDATE_FAILED),[3,4];case 4:ee(e,_.ON_FORM_SUBMIT_VALIDATE_END,_.ON_FIELD_SUBMIT_VALIDATE_END),a.label=5;case 5:if(a.trys.push([5,9,,10]),e.invalid)throw e.errors;return P(t)?[4,t(r(e))]:[3,7];case 6:return n=a.sent(),[3,8];case 7:n=r(e),a.label=8;case 8:return ee(e,_.ON_FORM_SUBMIT_SUCCESS,_.ON_FIELD_SUBMIT_SUCCESS),[3,10];case 9:throw i=a.sent(),e.setSubmitting(!1),ee(e,_.ON_FORM_SUBMIT_FAILED,_.ON_FIELD_SUBMIT_FAILED),ee(e,_.ON_FORM_SUBMIT,_.ON_FIELD_SUBMIT),i;case 10:return e.setSubmitting(!1),ee(e,_.ON_FORM_SUBMIT,_.ON_FIELD_SUBMIT),[2,n]}})})},xs=function(e,t,r){return Rt(void 0,void 0,void 0,function(){var n;return kt(this,function(i){switch(i.label){case 0:if(Tt(e))e.setValidating(!0);else if(e.pattern!=="editable"||e.display!=="visible")return[2];return n=[],e.query(t).forEach(function(a){q(a)||n.push(bt(a,r,a===e))}),[4,Promise.all(n)];case 1:if(i.sent(),Tt(e)&&e.setValidating(!1),e.invalid)throw ee(e,_.ON_FORM_VALIDATE_FAILED,_.ON_FIELD_VALIDATE_FAILED),e.errors;return ee(e,_.ON_FORM_VALIDATE_SUCCESS,_.ON_FIELD_VALIDATE_SUCCESS),[2]}})})},ws=function(e,t,r){return Rt(void 0,void 0,void 0,function(){var n;return kt(this,function(i){switch(i.label){case 0:return n=[],e.query(t).forEach(function(a){q(a)||n.push(Uf(a,r,e===a))}),Tt(e)&&(e.modified=!1),ee(e,_.ON_FORM_RESET,_.ON_FIELD_RESET),[4,Promise.all(n)];case 1:return i.sent(),[2]}})})},bt=F.bound(function(e,t,r){return r===void 0&&(r=!1),Rt(void 0,void 0,void 0,function(){var n,i,a,o,s,l,u;return kt(this,function(c){switch(c.label){case 0:if(n=function(){qr(e,!0)},i=function(){qr(e,!1),!r&&(e.selfValid?e.notify(_.ON_FIELD_VALIDATE_SUCCESS):e.notify(_.ON_FIELD_VALIDATE_FAILED))},e.pattern!=="editable"||e.display!=="visible")return[2,{}];if(n(),t)return[3,5];a=Di(e.validator).reduce(function(f,p){return f.indexOf(p.triggerType)>-1?f:f.concat(p.triggerType)},[]),o={},s=0,c.label=1;case 1:return s<a.length?[4,Fa(e,a[s])]:[3,4];case 2:l=c.sent(),j(l,function(f,p){o[p]=o[p]||[],o[p]=o[p].concat(f)}),c.label=3;case 3:return s++,[3,1];case 4:return i(),[2,o];case 5:return[4,Fa(e,t)];case 6:return u=c.sent(),i(),[2,u]}})})}),Uf=F.bound(function(e,t,r){return r===void 0&&(r=!1),Rt(void 0,void 0,void 0,function(){var n;return kt(this,function(i){switch(i.label){case 0:return n=If(e),e.modified=!1,e.selfModified=!1,e.visited=!1,e.feedbacks=[],e.inputValue=n,e.inputValues=[],e.caches={},Nr(e.value)||(t!=null&&t.forceClear?e.value=n:e.value=Ne(Nr(e.initialValue)?n:e.initialValue)),r||e.notify(_.ON_FIELD_RESET),t!=null&&t.validate?[4,bt(e)]:[3,2];case 1:return[2,i.sent()];case 2:return[2]}})})}),Gf=function(e){if(!e.selfModified){e.selfModified=!0,e.modified=!0;for(var t=e.parent;t;){if($i(t)){if(t.modified)return;t.modified=!0}t=t.parent}e.form.modified=!0}},Ma=function(e){return dt(e)?e:lt(e||{})},qf=function(e,t){return Wr(e,t)?lt(t):e},Wr=function(e,t){var r=e!==null&&ct(e),n=t!==null&&ct(t),i=!Nr(e),a=!Nr(t);return i?typeof e==typeof t&&(e===""||e===0)?!1:r?!n:!1:!!a},Os=function(e){var t=ye(e.props.reactions);e.form.addEffects(e,function(){t.forEach(function(r){P(r)&&e.disposers.push(Je(F.scope.bound(function(){return r(e)})))})})},xr=function(e,t){return Mt(e,mn.bound(t))},Ss=function(){Z.initializing=!0},Ts=function(){F.endpoint(function(){Z.initializing=!1})},wr=function(e,t){if(!!e)return P(t)?t(e,e.address):e},Wf=function(e,t){var r=t.toString(),n=e.indexes[r],i=e.fields[r],a=e.fields[n];if(i)return r;if(a)return n},Vi=function(){function e(t){var r=this;if(this.addresses=[],this.pattern=E.parse(t.pattern,t.base),this.form=t.form,this.pattern.isMatchPattern)j(this.form.fields,function(i,a){i.match(r.pattern)&&r.addresses.push(a)});else{var n=Wf(this.form,this.pattern.haveRelativePattern?ps(t.form.fields,this.pattern):this.pattern);n&&(this.addresses=[n])}}return e.prototype.take=function(t){return wr(this.form.fields[this.addresses[0]],t)},e.prototype.map=function(t){var r=this;return this.addresses.map(function(n){return wr(r.form.fields[n],t)})},e.prototype.forEach=function(t){var r=this;return this.addresses.forEach(function(n){return wr(r.form.fields[n],t)})},e.prototype.reduce=function(t,r){var n=this;return this.addresses.reduce(function(i,a){return wr(n.form.fields[a],function(o,s){return t(i,o,s)})},r)},e.prototype.get=function(t){var r=this.take();if(r)return r[t]},e.prototype.getIn=function(t){return E.getIn(this.take(),t)},e.prototype.value=function(){return this.get("value")},e.prototype.initialValue=function(){return this.get("initialValue")},e}(),Is=function(){function e(){var t=this;this.disposers=[],this.setTitle=function(r){t.title=r},this.setDescription=function(r){t.description=r},this.setDisplay=function(r){t.display=r},this.setPattern=function(r){t.pattern=r},this.setComponent=function(r,n){r&&(t.componentType=r),n&&(t.componentProps=t.componentProps||{},Object.assign(t.componentProps,n))},this.setComponentProps=function(r){r&&(t.componentProps=t.componentProps||{},Object.assign(t.componentProps,r))},this.setDecorator=function(r,n){r&&(t.decoratorType=r),n&&(t.decoratorProps=t.decoratorProps||{},Object.assign(t.decoratorProps,n))},this.setDecoratorProps=function(r){r&&(t.decoratorProps=t.decoratorProps||{},Object.assign(t.decoratorProps,r))},this.setData=function(r){t.data=r},this.setContent=function(r){t.content=r},this.onInit=function(){t.initialized=!0,Rf(t),t.notify(_.ON_FIELD_INIT)},this.onMount=function(){t.mounted=!0,t.unmounted=!1,t.notify(_.ON_FIELD_MOUNT)},this.onUnmount=function(){t.mounted=!1,t.unmounted=!0,t.notify(_.ON_FIELD_UNMOUNT)},this.query=function(r){return new Vi({pattern:r,base:t.address,form:t.form})},this.notify=function(r,n){return t.form.notify(r,n!=null?n:t)},this.dispose=function(){t.disposers.forEach(function(r){r()}),t.form.removeEffects(t)},this.destroy=function(r){r===void 0&&(r=!0),gs(t.form.fields,t.address.toString(),r)},this.match=function(r){return E.parse(r).matchAliasGroup(t.address,t.path)}}return e.prototype.locate=function(t){this.form.fields[t.toString()]=this,vs(this,t)},Object.defineProperty(e.prototype,"indexes",{get:function(){return this.path.transform(/\d/,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.map(function(n){return Number(n)})})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.indexes[this.indexes.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return[this.componentType,this.componentProps]},set:function(t){var r=ye(t);this.componentType=r[0],this.componentProps=r[1]||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decorator",{get:function(){return[this.decoratorType,this.decoratorProps]},set:function(t){var r=ye(t);this.decoratorType=r[0],this.decoratorProps=r[1]||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){for(var t=this.address.parent(),r=t.toString();!this.form.fields[r];)if(t=t.parent(),r=t.toString(),!r)return;return this.form.fields[r]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){var t,r=(t=this.parent)===null||t===void 0?void 0:t.display;return r&&r!=="visible"?this.selfDisplay&&this.selfDisplay!=="visible"?this.selfDisplay:r:$(this.selfDisplay)?this.selfDisplay:r||this.form.display||"visible"},set:function(t){this.selfDisplay=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){var t,r=(t=this.parent)===null||t===void 0?void 0:t.pattern;return $(this.selfPattern)?this.selfPattern:r||this.form.pattern||"editable"},set:function(t){this.selfPattern=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.pattern==="editable"},set:function(t){!$(t)||(t?this.pattern="editable":this.pattern="readPretty")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.pattern==="disabled"},set:function(t){!$(t)||(t?this.pattern="disabled":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.pattern==="readOnly"},set:function(t){!$(t)||(t?this.pattern="readOnly":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readPretty",{get:function(){return this.pattern==="readPretty"},set:function(t){!$(t)||(t?this.pattern="readPretty":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.display==="hidden"},set:function(t){!$(t)||(t?this.display="hidden":this.display="visible")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.display==="visible"},set:function(t){!$(t)||(t?this.display="visible":this.display="none")},enumerable:!1,configurable:!0}),e}(),zf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$n=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,t||[])).next())})},Dn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ur=function(e){zf(t,e);function t(r,n,i,a){var o=e.call(this)||this;return o.displayName="Field",o.caches={},o.requests={},o.setDataSource=function(s){o.dataSource=s},o.setFeedback=function(s){Cf(o,s)},o.setSelfErrors=function(s){o.selfErrors=s},o.setSelfWarnings=function(s){o.selfWarnings=s},o.setSelfSuccesses=function(s){o.selfSuccesses=s},o.setValidator=function(s){o.validator=s},o.setValidatorRule=function(s,l){Ff(o,s,l)},o.setRequired=function(s){o.required=s},o.setValue=function(s){o.value=s},o.setInitialValue=function(s){o.initialValue=s},o.setLoading=function(s){bs(o,s)},o.setValidating=function(s){qr(o,s)},o.setSubmitting=function(s){ys(o,s)},o.setState=Ur(o),o.getState=Gr(o),o.onInput=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return $n(o,void 0,void 0,function(){var u,c,f;return Dn(this,function(p){switch(p.label){case 0:return!((f=s[0])===null||f===void 0)&&f.target&&!Mn(s[0])?[2]:(u=Tf(s),c=u[0],this.caches.inputting=!0,this.inputValue=c,this.inputValues=u,this.value=c,this.modify(),this.notify(_.ON_FIELD_INPUT_VALUE_CHANGE),this.notify(_.ON_FORM_INPUT_CHANGE,this.form),[4,bt(this,"onInput")]);case 1:return p.sent(),this.caches.inputting=!1,[2]}})})},o.onFocus=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return $n(o,void 0,void 0,function(){var u;return Dn(this,function(c){switch(c.label){case 0:return!((u=s[0])===null||u===void 0)&&u.target&&!Mn(s[0],!1)?[2]:(this.active=!0,this.visited=!0,[4,bt(this,"onFocus")]);case 1:return c.sent(),[2]}})})},o.onBlur=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return $n(o,void 0,void 0,function(){var u;return Dn(this,function(c){switch(c.label){case 0:return!((u=s[0])===null||u===void 0)&&u.target&&!Mn(s[0],!1)?[2]:(this.active=!1,[4,bt(this,"onBlur")]);case 1:return c.sent(),[2]}})})},o.validate=function(s){return xs(o,"".concat(o.address,".**"),s)},o.submit=function(s){return _s(o,s)},o.reset=function(s){return ws(o,"".concat(o.address,".**"),s)},o.queryFeedbacks=function(s){return Li(o,s)},o.modify=function(){return Gf(o)},o.form=i,o.props=n,o.designable=a,Ss(),o.locate(r),o.initialize(),o.makeObservable(),o.makeReactive(),o.onInit(),Ts(),o}return t.prototype.initialize=function(){this.initialized=!1,this.loading=!1,this.validating=!1,this.submitting=!1,this.selfModified=!1,this.active=!1,this.visited=!1,this.mounted=!1,this.unmounted=!1,this.inputValues=[],this.inputValue=null,this.feedbacks=[],this.title=this.props.title,this.description=this.props.description,this.display=this.props.display,this.pattern=this.props.pattern,this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.hidden=this.props.hidden,this.dataSource=this.props.dataSource,this.validator=this.props.validator,this.required=this.props.required,this.content=this.props.content,this.value=qf(this.props.value,this.props.initialValue),this.initialValue=this.props.initialValue,this.data=this.props.data,this.decorator=ye(this.props.decorator),this.component=ye(this.props.component)},t.prototype.makeObservable=function(){this.designable||Nt(this,{path:m.ref,title:m.ref,description:m.ref,dataSource:m.ref,selfDisplay:m.ref,selfPattern:m.ref,loading:m.ref,validating:m.ref,submitting:m.ref,selfModified:m.ref,modified:m.ref,active:m.ref,visited:m.ref,initialized:m.ref,mounted:m.ref,unmounted:m.ref,inputValue:m.ref,inputValues:m.ref,decoratorType:m.ref,componentType:m.ref,content:m.ref,decoratorProps:m,componentProps:m,validator:m.shallow,feedbacks:m.shallow,data:m.shallow,component:m.computed,decorator:m.computed,errors:m.computed,warnings:m.computed,successes:m.computed,valid:m.computed,invalid:m.computed,selfErrors:m.computed,selfWarnings:m.computed,selfSuccesses:m.computed,selfValid:m.computed,selfInvalid:m.computed,validateStatus:m.computed,value:m.computed,initialValue:m.computed,display:m.computed,pattern:m.computed,required:m.computed,hidden:m.computed,visible:m.computed,disabled:m.computed,readOnly:m.computed,readPretty:m.computed,editable:m.computed,indexes:m.computed,setDisplay:T,setTitle:T,setDescription:T,setDataSource:T,setValue:T,setPattern:T,setInitialValue:T,setLoading:T,setValidating:T,setFeedback:T,setSelfErrors:T,setSelfWarnings:T,setSelfSuccesses:T,setValidator:T,setRequired:T,setComponent:T,setComponentProps:T,setDecorator:T,setDecoratorProps:T,setData:T,setContent:T,validate:T,reset:T,onInit:F,onInput:F,onMount:F,onUnmount:F,onFocus:F,onBlur:F})},t.prototype.makeReactive=function(){var r=this;this.designable||(this.disposers.push(xr(function(){return r.value},function(n){r.notify(_.ON_FIELD_VALUE_CHANGE),$(n)&&r.selfModified&&!r.caches.inputting&&bt(r)}),xr(function(){return r.initialValue},function(){r.notify(_.ON_FIELD_INITIAL_VALUE_CHANGE)}),xr(function(){return r.display},function(n){var i,a=r.value;n==="visible"?ct(a)&&(r.setValue(r.caches.value),r.caches.value=void 0):(r.caches.value=(i=Ne(a))!==null&&i!==void 0?i:Ne(r.initialValue),n==="none"&&r.form.deleteValuesIn(r.path)),(n==="none"||n==="hidden")&&r.setFeedback({type:"error",messages:[]})}),xr(function(){return r.pattern},function(n){n!=="editable"&&r.setFeedback({type:"error",messages:[]})})),Os(this))},Object.defineProperty(t.prototype,"selfErrors",{get:function(){return Rn(this,{type:"error"})},set:function(r){this.setFeedback({type:"error",code:"EffectError",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.form.errors.filter(kn(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfWarnings",{get:function(){return Rn(this,{type:"warning"})},set:function(r){this.setFeedback({type:"warning",code:"EffectWarning",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"warnings",{get:function(){return this.form.warnings.filter(kn(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfSuccesses",{get:function(){return Rn(this,{type:"success"})},set:function(r){this.setFeedback({type:"success",code:"EffectSuccess",messages:r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successes",{get:function(){return this.form.successes.filter(kn(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfValid",{get:function(){return!this.selfErrors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return!this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selfInvalid",{get:function(){return!this.selfValid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return!this.valid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.form.getValuesIn(this.path)},set:function(r){if(!this.initialized){if(this.display==="none"){this.caches.value=r;return}if(!Wr(this.value,r)&&!this.designable)return}this.form.setValuesIn(this.path,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{get:function(){return this.form.getInitialValuesIn(this.path)},set:function(r){!this.initialized&&!Wr(this.initialValue,r)&&!this.designable||this.form.setInitialValuesIn(this.path,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){var r=D(this.validator)?this.validator:Di(this.validator);return r.some(function(n){return!!(n!=null&&n.required)})},set:function(r){this.required!==r&&this.setValidatorRule("required",r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateStatus",{get:function(){if(this.validating)return"validating";if(this.selfInvalid)return"error";if(this.selfWarnings.length)return"warning";if(this.selfSuccesses.length)return"success"},enumerable:!1,configurable:!0}),t}(Is),Ra=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},ka=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},Ps=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(Z.effectStart)Z.lifecycles.push(new Lo(e,function(i,a){P(t)&&t.apply(void 0,ka([i,a],Ra(Z.context),!1)).apply(void 0,ka([],Ra(r),!1))}));else throw new Error("Effect hooks cannot be used in asynchronous function body")}},Hf=function(e){var t;return{provide:function(r){if(Z.effectStart)t=Z.context.length,Z.context[t]=$(r)?r:e;else throw new Error("Provide method cannot be used in asynchronous function body")},consume:function(){if(!Z.effectStart)throw new Error("Consume method cannot be used in asynchronous function body");return Z.context[t]}}},As=Hf(),Kf=As.consume,jn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Z.lifecycles=[],Z.context=[],Z.effectStart=!0,Z.effectEnd=!1,Tt(e)&&As.provide(e),t.forEach(function(n){P(n)&&n(e)}),Z.context=[],Z.effectStart=!1,Z.effectEnd=!0,Z.lifecycles},Jf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ln=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Vn=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},Es=function(e){Jf(t,e);function t(r,n,i,a){var o=e.call(this,r,n,i,a)||this;return o.displayName="ArrayField",o.push=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return T(function(){var u;return D(o.value)||(o.value=[]),(u=o.value).push.apply(u,Vn([],Ln(s),!1)),o.onInput(o.value)})},o.pop=function(){if(!!D(o.value))return T(function(){var s=o.value.length-1;return _r(o,{startIndex:s,deleteCount:1}),o.value.pop(),o.onInput(o.value)})},o.insert=function(s){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];return T(function(){var c;return D(o.value)||(o.value=[]),_r(o,{startIndex:s,insertCount:l.length}),(c=o.value).splice.apply(c,Vn([s,0],Ln(l),!1)),o.onInput(o.value)})},o.remove=function(s){if(!!D(o.value))return T(function(){return _r(o,{startIndex:s,deleteCount:1}),o.value.splice(s,1),o.onInput(o.value)})},o.shift=function(){if(!!D(o.value))return T(function(){return o.value.shift(),o.onInput(o.value)})},o.unshift=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return T(function(){var u;return D(o.value)||(o.value=[]),_r(o,{startIndex:0,insertCount:s.length}),(u=o.value).unshift.apply(u,Vn([],Ln(s),!1)),o.onInput(o.value)})},o.move=function(s,l){if(!!D(o.value)&&s!==l)return T(function(){var u=o.value[s];return o.value.splice(s,1),o.value.splice(l,0,u),Nf(o,{fromIndex:s,toIndex:l}),o.onInput(o.value)})},o.moveUp=function(s){if(!!D(o.value))return o.move(s,s-1<0?o.value.length-1:s-1)},o.moveDown=function(s){if(!!D(o.value))return o.move(s,s+1>=o.value.length?0:s+1)},o.makeAutoCleanable(),o}return t.prototype.makeAutoCleanable=function(){var r=this;this.disposers.push(Mt(function(){var n;return(n=r.value)===null||n===void 0?void 0:n.length},function(n,i){i&&!n?Na(r,0):n<i&&Na(r,n)}))},t}(ur),Yf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cs=function(e){Yf(t,e);function t(r,n,i,a){var o=e.call(this,r,n,i,a)||this;return o.displayName="ObjectField",o.additionalProperties=[],o.addProperty=function(s,l){return o.form.setValuesIn(o.path.concat(s),l),o.additionalProperties.push(s),o.onInput(o.value)},o.removeProperty=function(s){return o.form.deleteValuesIn(o.path.concat(s)),o.additionalProperties.splice(o.additionalProperties.indexOf(s),1),o.onInput(o.value)},o.existProperty=function(s){return o.form.existValuesIn(o.path.concat(s))},o.makeAutoCleanable(),o}return t.prototype.makeAutoCleanable=function(){var r=this;this.disposers.push(Mt(function(){return Object.keys(r.value||{})},function(n){var i=r.additionalProperties.filter(function(a){return!n.includes(a)});Mf(r,i)}))},t}(ur),Xf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bi=function(e){Xf(t,e);function t(r,n,i,a){var o=e.call(this)||this;return o.displayName="VoidField",o.setState=Ur(o),o.getState=Gr(o),o.form=i,o.props=n,o.designable=a,Ss(),o.locate(r),o.initialize(),o.makeObservable(),o.makeReactive(),o.onInit(),Ts(),o}return t.prototype.initialize=function(){this.mounted=!1,this.unmounted=!1,this.initialized=!1,this.title=this.props.title,this.description=this.props.description,this.pattern=this.props.pattern,this.display=this.props.display,this.hidden=this.props.hidden,this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.content=this.props.content,this.data=this.props.data,this.decorator=ye(this.props.decorator),this.component=ye(this.props.component)},t.prototype.makeObservable=function(){this.designable||Nt(this,{path:m.ref,title:m.ref,description:m.ref,selfDisplay:m.ref,selfPattern:m.ref,initialized:m.ref,mounted:m.ref,unmounted:m.ref,decoratorType:m.ref,componentType:m.ref,content:m.ref,data:m.shallow,decoratorProps:m,componentProps:m,display:m.computed,pattern:m.computed,hidden:m.computed,visible:m.computed,disabled:m.computed,readOnly:m.computed,readPretty:m.computed,editable:m.computed,component:m.computed,decorator:m.computed,indexes:m.computed,setTitle:T,setDescription:T,setDisplay:T,setPattern:T,setComponent:T,setComponentProps:T,setDecorator:T,setDecoratorProps:T,setData:T,setContent:T,onInit:F,onMount:F,onUnmount:F})},t.prototype.makeReactive=function(){this.designable||Os(this)},t}(Is),je=globalThis&&globalThis.__assign||function(){return je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},je.apply(this,arguments)},Or="__FORMILY_DEV_TOOLS_HOOK__",Fs=function(){function e(t){var r=this;this.displayName="Form",this.fields={},this.requests={},this.indexes={},this.disposers=[],this.createField=function(n){var i=E.parse(n.basePath).concat(n.name),a=i.toString();if(!!a)return(!r.fields[a]||r.props.designable)&&(F(function(){new ur(i,n,r,r.props.designable)}),r.notify(_.ON_FORM_GRAPH_CHANGE)),r.fields[a]},this.createArrayField=function(n){var i=E.parse(n.basePath).concat(n.name),a=i.toString();if(!!a)return(!r.fields[a]||r.props.designable)&&(F(function(){new Es(i,je(je({},n),{value:D(n.value)?n.value:[]}),r,r.props.designable)}),r.notify(_.ON_FORM_GRAPH_CHANGE)),r.fields[a]},this.createObjectField=function(n){var i=E.parse(n.basePath).concat(n.name),a=i.toString();if(!!a)return(!r.fields[a]||r.props.designable)&&(F(function(){new Cs(i,je(je({},n),{value:To(n.value)?n.value:{}}),r,r.props.designable)}),r.notify(_.ON_FORM_GRAPH_CHANGE)),r.fields[a]},this.createVoidField=function(n){var i=E.parse(n.basePath).concat(n.name),a=i.toString();if(!!a)return(!r.fields[a]||r.props.designable)&&(F(function(){new Bi(i,n,r,r.props.designable)}),r.notify(_.ON_FORM_GRAPH_CHANGE)),r.fields[a]},this.setValues=function(n,i){i===void 0&&(i="merge"),Ie(n)&&(i==="merge"||i==="deepMerge"?r.values=$r(r.values,n,{arrayMerge:function(a,o){return o}}):i==="shallowMerge"?r.values=Object.assign(r.values,n):r.values=n)},this.setInitialValues=function(n,i){i===void 0&&(i="merge"),Ie(n)&&(i==="merge"||i==="deepMerge"?r.initialValues=$r(r.initialValues,n,{arrayMerge:function(a,o){return o}}):i==="shallowMerge"?r.initialValues=Object.assign(r.initialValues,n):r.initialValues=n)},this.setValuesIn=function(n,i){E.setIn(r.values,n,i)},this.deleteValuesIn=function(n){E.deleteIn(r.values,n)},this.existValuesIn=function(n){return E.existIn(r.values,n)},this.getValuesIn=function(n){return E.getIn(r.values,n)},this.setInitialValuesIn=function(n,i){E.setIn(r.initialValues,n,i)},this.deleteInitialValuesIn=function(n){E.deleteIn(r.initialValues,n)},this.existInitialValuesIn=function(n){return E.existIn(r.initialValues,n)},this.getInitialValuesIn=function(n){return E.getIn(r.initialValues,n)},this.setLoading=function(n){bs(r,n)},this.setSubmitting=function(n){ys(r,n)},this.setValidating=function(n){qr(r,n)},this.setDisplay=function(n){r.display=n},this.setPattern=function(n){r.pattern=n},this.addEffects=function(n,i){r.heart.hasLifeCycles(n)||r.heart.addLifeCycles(n,jn(r,i))},this.removeEffects=function(n){r.heart.removeLifeCycles(n)},this.setEffects=function(n){r.heart.setLifeCycles(jn(r,n))},this.clearErrors=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(i){q(i)||i.setFeedback({type:"error",messages:[]})})},this.clearWarnings=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(i){q(i)||i.setFeedback({type:"warning",messages:[]})})},this.clearSuccesses=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(i){q(i)||i.setFeedback({type:"success",messages:[]})})},this.query=function(n){return new Vi({pattern:n,base:"",form:r})},this.queryFeedbacks=function(n){return r.query(n.address||n.path||"*").reduce(function(i,a){return q(a)?i:i.concat(a.queryFeedbacks(n).map(function(o){return je(je({},o),{address:a.address.toString(),path:a.path.toString()})}).filter(function(o){return o.messages.length>0}))},[])},this.notify=function(n,i){r.heart.publish(n,i!=null?i:r)},this.subscribe=function(n){return r.heart.subscribe(n)},this.unsubscribe=function(n){r.heart.unsubscribe(n)},this.onInit=function(){r.initialized=!0,r.notify(_.ON_FORM_INIT)},this.onMount=function(){r.mounted=!0,r.notify(_.ON_FORM_MOUNT),ot[Or]&&!r.props.designable&&ot[Or].inject(r.id,r)},this.onUnmount=function(){r.notify(_.ON_FORM_UNMOUNT),r.query("*").forEach(function(n){return n.destroy(!1)}),r.disposers.forEach(function(n){return n()}),r.unmounted=!0,r.indexes={},r.heart.clear(),ot[Or]&&!r.props.designable&&ot[Or].unmount(r.id)},this.setState=Ur(this),this.getState=Gr(this),this.setFormState=Ur(this),this.getFormState=Gr(this),this.setFieldState=jf(this),this.getFieldState=Lf(this),this.getFormGraph=function(){return r.graph.getGraph()},this.setFormGraph=function(n){r.graph.setGraph(n)},this.clearFormGraph=function(n){n===void 0&&(n="*"),r.query(n).forEach(function(i){i.destroy()})},this.validate=function(n){return n===void 0&&(n="*"),xs(r,n)},this.submit=function(n){return _s(r,n)},this.reset=function(n,i){return n===void 0&&(n="*"),ws(r,n,i)},this.initialize(t),this.makeObservable(),this.makeReactive(),this.makeValues(),this.onInit()}return e.prototype.initialize=function(t){this.id=ti(),this.props=je({},t),this.initialized=!1,this.submitting=!1,this.validating=!1,this.loading=!1,this.modified=!1,this.mounted=!1,this.unmounted=!1,this.display=this.props.display||"visible",this.pattern=this.props.pattern||"editable",this.editable=this.props.editable,this.disabled=this.props.disabled,this.readOnly=this.props.readOnly,this.readPretty=this.props.readPretty,this.visible=this.props.visible,this.hidden=this.props.hidden,this.graph=new Yc(this),this.heart=new fc({lifecycles:this.lifecycles,context:this})},e.prototype.makeValues=function(){this.values=Ma(this.props.values),this.initialValues=Ma(this.props.initialValues)},e.prototype.makeObservable=function(){Nt(this,{fields:m.shallow,initialized:m.ref,validating:m.ref,submitting:m.ref,loading:m.ref,modified:m.ref,pattern:m.ref,display:m.ref,mounted:m.ref,unmounted:m.ref,values:m,initialValues:m,valid:m.computed,invalid:m.computed,errors:m.computed,warnings:m.computed,successes:m.computed,hidden:m.computed,visible:m.computed,editable:m.computed,readOnly:m.computed,readPretty:m.computed,disabled:m.computed,setValues:T,setValuesIn:T,setInitialValues:T,setInitialValuesIn:T,setPattern:T,setDisplay:T,setState:T,deleteInitialValuesIn:T,deleteValuesIn:T,setSubmitting:T,setValidating:T,setFormGraph:T,clearFormGraph:T,reset:T,submit:T,validate:T,onMount:F,onUnmount:F,onInit:F})},e.prototype.makeReactive=function(){var t=this;this.disposers.push(qc(this,function(r){Vf(t,r),Bf(t,r)},!0))},Object.defineProperty(e.prototype,"valid",{get:function(){return!this.invalid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.queryFeedbacks({type:"error"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"warnings",{get:function(){return this.queryFeedbacks({type:"warning"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successes",{get:function(){return this.queryFeedbacks({type:"success"})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lifecycles",{get:function(){return jn(this,this.props.effects)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.display==="hidden"},set:function(t){!$(t)||(t?this.display="hidden":this.display="visible")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.display==="visible"},set:function(t){!$(t)||(t?this.display="visible":this.display="none")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editable",{get:function(){return this.pattern==="editable"},set:function(t){!$(t)||(t?this.pattern="editable":this.pattern="readPretty")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this.pattern==="readOnly"},set:function(t){!$(t)||(t?this.pattern="readOnly":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.pattern==="disabled"},set:function(t){!$(t)||(t?this.pattern="disabled":this.pattern="editable")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readPretty",{get:function(){return this.pattern==="readPretty"},set:function(t){!$(t)||(t?this.pattern="readPretty":this.pattern="editable")},enumerable:!1,configurable:!0}),e}(),Ns=function(e){return new Fs(e)};function W(e){return Ps(e,function(t){return function(r){F(function(){r(t)})}})}W(_.ON_FORM_INIT);W(_.ON_FORM_MOUNT);var Ms=W(_.ON_FORM_UNMOUNT);W(_.ON_FORM_VALUES_CHANGE);W(_.ON_FORM_INITIAL_VALUES_CHANGE);W(_.ON_FORM_INPUT_CHANGE);W(_.ON_FORM_SUBMIT);W(_.ON_FORM_RESET);W(_.ON_FORM_SUBMIT_START);W(_.ON_FORM_SUBMIT_END);W(_.ON_FORM_SUBMIT_SUCCESS);W(_.ON_FORM_SUBMIT_FAILED);W(_.ON_FORM_SUBMIT_VALIDATE_START);W(_.ON_FORM_SUBMIT_VALIDATE_SUCCESS);W(_.ON_FORM_SUBMIT_VALIDATE_FAILED);W(_.ON_FORM_SUBMIT_VALIDATE_END);W(_.ON_FORM_VALIDATE_START);W(_.ON_FORM_VALIDATE_SUCCESS);W(_.ON_FORM_VALIDATE_FAILED);W(_.ON_FORM_VALIDATE_END);W(_.ON_FORM_GRAPH_CHANGE);W(_.ON_FORM_LOADING);function z(e){return Ps(e,function(t,r){return function(n,i){E.parse(n).matchAliasGroup(t.address,t.path)&&F(function(){i(t,r)})}})}var Qf=z(_.ON_FIELD_INIT),Zf=z(_.ON_FIELD_MOUNT),ed=z(_.ON_FIELD_UNMOUNT),td=z(_.ON_FIELD_VALUE_CHANGE),rd=z(_.ON_FIELD_INITIAL_VALUE_CHANGE),nd=z(_.ON_FIELD_INPUT_VALUE_CHANGE),id=z(_.ON_FIELD_VALIDATE_START),ad=z(_.ON_FIELD_VALIDATE_END);z(_.ON_FIELD_VALIDATING);var od=z(_.ON_FIELD_VALIDATE_FAILED),sd=z(_.ON_FIELD_VALIDATE_SUCCESS);z(_.ON_FIELD_SUBMIT);z(_.ON_FIELD_SUBMIT_START);z(_.ON_FIELD_SUBMIT_END);z(_.ON_FIELD_SUBMIT_VALIDATE_START);z(_.ON_FIELD_SUBMIT_VALIDATE_END);z(_.ON_FIELD_SUBMIT_SUCCESS);z(_.ON_FIELD_SUBMIT_FAILED);z(_.ON_FIELD_SUBMIT_VALIDATE_SUCCESS);z(_.ON_FIELD_SUBMIT_VALIDATE_FAILED);z(_.ON_FIELD_RESET);z(_.ON_FIELD_LOADING);function Ui(e,t){var r=Kf(),n=r.query(e).reduce(function(i,a){return t(a,r),i+1},0);n===0&&Qf(e,t)}function mm(e,t){var r=[];Ui(e,function(n,i){r.push(Je(function(){P(t)&&t(n,i)}))}),Ms(function(){r.forEach(function(n){n()})})}function gm(e,t,r){P(t)?(r=t,t=["value"]):t=t||["value"];var n=[];Ui(e,function(i,a){P(r)&&r(i,a),n.push(Mt(function(){return ye(t).map(function(o){return i[o]})},function(){P(r)&&r(i,a)}))}),Ms(function(){n.forEach(function(i){i()})})}var ud=Symbol.for("__REVA_ACTIONS"),Rs={parent:!0,root:!0,properties:!0,patternProperties:!0,additionalProperties:!0,items:!0,additionalItems:!0,"x-linkages":!0,"x-reactions":!0},ld={title:"title",description:"description",default:"initialValue",enum:"dataSource",readOnly:"readOnly",writeOnly:"editable","x-content":"content","x-data":"data","x-value":"value","x-editable":"editable","x-disabled":"disabled","x-read-pretty":"readPretty","x-read-only":"readOnly","x-visible":"visible","x-hidden":"hidden","x-display":"display","x-pattern":"pattern","x-validator":"validator","x-decorator":"decoratorType","x-component":"componentType","x-decorator-props":"decoratorProps","x-component-props":"componentProps"},cd={required:!0,format:!0,maxItems:!0,minItems:!0,maxLength:!0,minLength:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,pattern:!0,const:!0,multipleOf:!0,maxProperties:!0,minProperties:!0,uniqueItems:!0},fd=Object.prototype.hasOwnProperty,dd=function(e,t){var r=[],n=e,i=function(a,o){if(o===void 0&&(o=[]),Ie(a)){var s=r.indexOf(a);if(s>-1)return;var l=r.length;if(r.push(a),Gi(a)&&n!==a){t(a,o);return}j(a,function(u,c){i(u,o.concat(c))}),r.splice(l,1)}else t(a,o)};i(e)},hd=function(e,t){e["x-validator"]!==void 0&&t(e["x-validator"],["x-validator"]);var r=[],n=e,i=function(a,o){if(o===void 0&&(o=[]),!(o[0]==="x-validator"||o[0]==="version"||o[0]==="_isJSONSchemaObject")&&!(String(o[0]).indexOf("x-")==-1&&P(a))&&!Rs[o[0]])if(Ie(a)){if(o[0]==="default"||o[0]==="x-value"){t(a,o);return}var s=r.indexOf(a);if(s>-1)return;var l=r.length;if(r.push(a),Gi(a)&&n!==a){t(a,o);return}j(a,function(u,c){i(u,o.concat(c))}),r.splice(l,1)}else t(a,o)};i(e)},Gi=function(e){return!!("$$typeof"in e&&"_owner"in e||e._isAMomentObject||Zt.isSchemaInstance(e)||e[ud]||P(e.toJS)||P(e.toJSON)||dt(e))},pd=function(e){return ye(e).map(function(t){return typeof t=="object"?t:{label:t,value:t}})},$a=function(e,t,r){mn(function(){var n,i=E.parse(t),a=i.segments,o=a[0],s=o==="enum"&&D(r),l=ld[o];if(l)E.setIn(e,[l].concat(a.slice(1)),s?pd(r):r);else{var u=cd[o];u&&((n=e.setValidatorRule)===null||n===void 0||n.call(e,o,r))}})},vd=/^\s*\{\{([\s\S]*)\}\}\s*$/,gn={silent:!1,compile:function(e,t){if(t===void 0&&(t={}),gn.silent)try{return new Function("$root","with($root) { return (".concat(e,"); }"))(t)}catch{}else return new Function("$root","with($root) { return (".concat(e,"); }"))(t)}},md=function(e){e===void 0&&(e=!0),gn.silent=!!e},gd=function(e){P(e)&&(gn.compile=e)},ht=function(e,t){if(J(e)){var r=e.match(vd);return r?gn.compile(r[1],t):e}return e},zr=function(e,t){var r=[],n=function(i){if(J(i))return ht(i,t);if(D(i))return i.map(function(l){return n(l)});if(Ie(i)){if(Gi(i))return i;var a=r.indexOf(i);if(a>-1)return i;var o=r.length;r.push(i);var s=Io(i,function(l,u,c){return l[c]=n(u),l},{});return r.splice(o,1),s}return i};return n(e)},Da=function(e,t,r){dd(t,function(n,i){var a=E.parse(i),o=zr(n,r),s=a.segments[0];o!==void 0&&fd.call(e,s)&&mn(function(){return E.setIn(e,a,o)})})},ja=function(e,t,r,n){n===void 0&&(n=!1),hd(t,function(i,a){var o=i,s=Cc(function(){o=zr(i,r)});o!==void 0&&(n?(s||!e.initialized)&&$a(e,a,o):$a(e,a,o))})},we=globalThis&&globalThis.__assign||function(){return we=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},we.apply(this,arguments)},yd=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},La={onFieldInit:Ui,onFieldMount:Zf,onFieldUnmount:ed,onFieldValueChange:td,onFieldInputValueChange:nd,onFieldInitialValueChange:rd,onFieldValidateStart:id,onFieldValidateEnd:ad,onFieldValidateFailed:od,onFieldValidateSuccess:sd},bd=["onFieldInit","onFieldValueChange"],Bn=function(e,t,r){var n=yd(String(t).split(/\s*#\s*/),2),i=n[0],a=n[1];return e.query(i).getIn(a||r||"value")},_d=function(e,t){if(D(t)){var r=[];return t.forEach(function(n){J(n)?r.push(Bn(e,n)):Ie(n)&&n.name&&n.source&&(r[n.name]=Bn(e,n.source,n.property))}),r}else if(Ie(t))return Io(t,function(n,i,a){return n[a]=Bn(e,i),n},{});return[]},ks=function(e,t){t===void 0&&(t=!1);var r=e||{},n=r.request,i=r.target,a=r.runner,o=r.field,s=r.scope;!n||(i?(n.state&&o.form.setFieldState(i,function(l){return Da(l,n.state,we(we({},s),{$target:l}))}),n.schema&&o.form.setFieldState(i,function(l){return ja(l,n.schema,we(we({},s),{$target:l}),t)}),J(a)&&a&&o.form.setFieldState(i,function(l){ht("{{function(){".concat(a,"}}}"),we(we({},s),{$target:l}))()})):(n.state&&o.setState(function(l){return Da(l,n.state,s)}),n.schema&&o.setState(function(l){return ja(l,n.schema,s,t)}),J(a)&&a&&ht("{{function(){".concat(a,"}}}"),s)()))},$s=function(e,t){t===void 0&&(t={});var r=function(u,c){return Je.memo(function(){return m(u)},c)},n=function(u){return e.setComponentProps(u)},i=Je.effect,a=Je.memo,o=e,s=e.form,l=e.form.values;return we(we({},t.scope),{$form:s,$self:o,$observable:r,$effect:i,$memo:a,$props:n,$values:l})},xd=function(e,t){return function(r){ks({field:r,request:{schema:e},scope:$s(r,t)},!0)}},wd=function(e,t){var r=ye(e["x-reactions"]);return r.map(function(n){return function(i){var a=$s(i,t),o=ht(n,a);if(!!o){if(P(o))return o(i,a);var s=o.when,l=o.fulfill,u=o.otherwise,c=o.target,f=o.effects,p=function(){var h=_d(i,o.dependencies),d=h,y=we(we({},a),{$target:null,$deps:h,$dependencies:d}),b=ht(s,y),g=s?b:!0,x=g?l:u,w=g?l==null?void 0:l.run:u==null?void 0:u.run;ks({field:i,target:c,request:x,runner:w,scope:y})};c&&(o.effects=f!=null&&f.length?f:bd),o.effects?Je.memo(function(){mn(function(){j(o.effects,function(h){La[h]&&La[h](i.address,p)})})},[]):p()}}})},Od=function(e,t){return{name:e.name,reactions:[xd(e,t)].concat(wd(e,t))}},si=globalThis&&globalThis.__assign||function(){return si=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},si.apply(this,arguments)},Ds=[],zt={},Sd=function(e){return Ds.reduce(function(t,r){return r(t)},si({},e))},js=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach(function(r){P(r)&&Ds.push(r)})},Ls=function(e,t){e&&P(t)&&(zt[e]=zt[e]||[],zt[e].push(t))},Td=function(e){D(e)&&e.forEach(function(t){D(zt[t])&&zt[t].forEach(function(r){js(r)})})},Hr=globalThis&&globalThis.__assign||function(){return Hr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hr.apply(this,arguments)},Id=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Pd=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},ui=["card","block","grid-col","grid-row","grid","layout","step","tab","text-box"],li={},Un=function(e){if(J(e))return e.replace(/\$value/,"$self.value")},Ad=function(e){return D(e)?e.reduce(function(t,r){if(!r)return t;if(r.type==="value:visible")return t.concat({target:r.target,when:Un(r.condition),fulfill:{state:{visible:!0}},otherwise:{state:{visible:!1}}});if(r.type==="value:schema")return t.concat({target:r.target,when:Un(r.condition),fulfill:{schema:ci(Hr({version:"1.0"},r.schema))},otherwise:{schema:ci(Hr({version:"1.0"},r.otherwise))}});if(r.type==="value:state")return t.concat({target:r.target,when:Un(r.condition),fulfill:{state:r.state},otherwise:{state:r.otherwise}})},[]):[]},ci=function(e){return $(e.editable)&&(e["x-editable"]=e["x-editable"]||e.editable,delete e.editable),$(e.visible)&&(e["x-visible"]=e["x-visible"]||e.visible,delete e.visible),$(e.display)&&(e["x-display"]=e["x-display"]||(e.display?"visible":"hidden"),delete e.display),$(e["x-props"])&&(e["x-decorator-props"]=e["x-decorator-props"]||e["x-props"],delete e.display),e["x-linkages"]&&(e["x-reactions"]=ye(e["x-reactions"]).concat(Ad(e["x-linkages"])),delete e["x-linkages"]),e["x-component"]?ui.some(function(t){return Jt(t)===Jt(e["x-component"])})&&(e.type="void"):li[e.type]&&(e["x-component"]=li[e.type]),!e["x-decorator"]&&e.type!=="void"&&e.type!=="object"&&(e["x-decorator"]=e["x-decorator"]||"FormItem"),e["x-rules"]&&(e["x-validator"]=[].concat(e["x-validator"]||[]).concat(e["x-rules"])),e};Ls("1.0",ci);var Ed=function(e){ui.push.apply(ui,Pd([],Id(e),!1))},Cd=function(e){Object.assign(li,e)},Zt=function(){function e(t,r){var n=this;return this._isJSONSchemaObject=!0,this.version="2.0",this.addProperty=function(i,a){return n.properties=n.properties||{},n.properties[i]=new e(a,n),n.properties[i].name=i,n.properties[i]},this.removeProperty=function(i){var a=n.properties[i];return delete n.properties[i],a},this.setProperties=function(i){for(var a in i)n.addProperty(a,i[a]);return n},this.addPatternProperty=function(i,a){if(!!a)return n.patternProperties=n.patternProperties||{},n.patternProperties[i]=new e(a,n),n.patternProperties[i].name=i,n.patternProperties[i]},this.removePatternProperty=function(i){var a=n.patternProperties[i];return delete n.patternProperties[i],a},this.setPatternProperties=function(i){if(!i)return n;for(var a in i)n.addPatternProperty(a,i[a]);return n},this.setAdditionalProperties=function(i){if(!!i)return n.additionalProperties=new e(i),n.additionalProperties},this.setItems=function(i){if(!!i)return Array.isArray(i)?n.items=i.map(function(a){return new e(a,n)}):n.items=new e(i,n),n.items},this.setAdditionalItems=function(i){if(!!i)return n.additionalItems=new e(i,n),n.additionalItems},this.findDefinitions=function(i){if(!(!i||!n.root||!J(i))&&i.indexOf("#/")===0)return E.getIn(n.root,i.substring(2).split("/"))},this.mapProperties=function(i){return e.getOrderProperties(n).map(function(a,o){var s=a.schema,l=a.key;return i(s,l,o)})},this.mapPatternProperties=function(i){return e.getOrderProperties(n,"patternProperties").map(function(a,o){var s=a.schema,l=a.key;return i(s,l,o)})},this.reduceProperties=function(i,a){var o=a;return e.getOrderProperties(n,"properties").forEach(function(s,l){var u=s.schema,c=s.key;o=i(o,u,c,l)}),o},this.reducePatternProperties=function(i,a){var o=a;return e.getOrderProperties(n,"patternProperties").forEach(function(s,l){var u=s.schema,c=s.key;o=i(o,u,c,l)}),o},this.compile=function(i){var a=new e({},n.parent);return j(n,function(o,s){P(o)&&!s.includes("x-")||s==="parent"||s==="root"||(Rs[s]?a[s]=o&&ht(o,i):a[s]=o&&zr(o,i))}),a},this.fromJSON=function(i){return i?e.isSchemaInstance(i)?i:(j(Sd(i),function(a,o){P(a)&&!o.includes("x-")||(o==="properties"?n.setProperties(a):o==="patternProperties"?n.setPatternProperties(a):o==="additionalProperties"?n.setAdditionalProperties(a):o==="items"?n.setItems(a):o==="additionalItems"?n.setAdditionalItems(a):o==="$ref"?n.fromJSON(n.findDefinitions(a)):n[o]=a)}),n):n},this.toJSON=function(i){i===void 0&&(i=!0);var a={};return j(n,function(o,s){var l,u;if(!(P(o)&&!s.includes("x-")||s==="parent"||s==="root"))if(s==="properties"||s==="patternProperties"){if(!i)return;a[s]=hl(o,function(c){var f;return(f=c==null?void 0:c.toJSON)===null||f===void 0?void 0:f.call(c)})}else if(s==="additionalProperties"||s==="additionalItems"){if(!i)return;a[s]=(l=o==null?void 0:o.toJSON)===null||l===void 0?void 0:l.call(o)}else if(s==="items"){if(!i)return;Array.isArray(o)?a[s]=o.map(function(c){var f;return(f=c==null?void 0:c.toJSON)===null||f===void 0?void 0:f.call(c)}):a[s]=(u=o==null?void 0:o.toJSON)===null||u===void 0?void 0:u.call(o)}else a[s]=o}),a},this.toFieldProps=function(i){return Od(n,i)},r?(this.parent=r,this.root=r.root):this.root=this,this.fromJSON(t)}return e.getOrderProperties=function(t,r){t===void 0&&(t={}),r===void 0&&(r="properties");var n=[],i=[];for(var a in t[r]){var o=t[r][a],s=o["x-index"];isNaN(s)?i.push({schema:o,key:a}):n[s]={schema:o,key:a}}return n.concat(i).filter(function(l){return!!l})},e.compile=function(t,r){return zr(t,r)},e.shallowCompile=function(t,r){return ht(t,r)},e.isSchemaInstance=function(t){return He(t,e)},e.registerCompiler=gd,e.registerPatches=js,e.registerVoidComponents=Ed,e.registerTypeDefaultComponents=Cd,e.registerPolyfills=Ls,e.enablePolyfills=Td,e.silent=md,e}(),Vs=Symbol("form"),qi=Symbol("field"),Er=Symbol("schemaMarkup"),Wi=Symbol("schema"),er=Symbol("schemaExpression"),yn=Symbol("schemaOptions"),Bs=function(e){return pt(e,function(t,r,n){t&&t!==r&&(r==null||r.onUnmount(),ku(function(){return t.onMount()}),n(function(){return t.onUnmount()}))}),mi(function(){var t;(t=e.value)===null||t===void 0||t.onMount()}),$u(function(){var t;(t=e.value)===null||t===void 0||t.onUnmount()}),e},Fd=function(e){e.forEach(function(t){return ae(t,B())})},Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Va.apply(this,arguments)},Ee="#fragment",lr;lr=O({name:"Fragment",render:function(){return this.$slots.default()}});var Nd=function(e){var t={};return j(e,function(r,n){n==="on"||n==="nativeOn"?r&&j(r,function(i,a){var o="on".concat(n==="on"?a[0].toUpperCase():a[0]).concat(a.slice(1));t[o]=i}):n==="attrs"||n==="props"||n==="domProps"?Object.assign(t,r):t[n]=r}),t},Ba=globalThis&&globalThis.__assign||function(){return Ba=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ba.apply(this,arguments)},S=function(e,t,r){{e===Ee&&(e=lr);var n=v;return n(e,Nd(t),r)}},cr=S,zi=O({name:"FormProvider",inheritAttrs:!1,props:["form"],setup:function(e,t){var r=t.slots,n=Bs(gi(e,"form"));return ae(Vs,n),Fd([qi,Er,Wi,er,yn]),function(){return cr(Ee,{},r)}}}),Ua=globalThis&&globalThis.__assign||function(){return Ua=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ua.apply(this,arguments)},Md=function(e){{var t=yi(),r=null,n=function(){r&&(r.dispose(),r=null)},i=function(){var a;(a=t==null?void 0:t.proxy)===null||a===void 0||a.$forceUpdate()};rr(n),Object.defineProperty(t,"effect",{get:function(){return t._updateEffect||{}},set:function(a){t._updateEffectRun=a.run,n();var o=function(){r=new Gc(function(){(e==null?void 0:e.scheduler)&&typeof e.scheduler=="function"?e.scheduler(i):i()})},s=function(){var l=null;return r==null||r.track(function(){l=t._updateEffectRun.call(a)}),l};o(),a.run=s,t._updateEffect=a}})}},Kr=globalThis&&globalThis.__assign||function(){return Kr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kr.apply(this,arguments)},Rd=function(e,t){var r=(t==null?void 0:t.name)||e.name||"ObservableComponent";return Kr(Kr({name:r},e),{setup:function(n,i){var a;return Md(t),(a=e==null?void 0:e.setup)===null||a===void 0?void 0:a.call(e,n,i)}})};function H(e,t){return Rd(e,t)}var bn=function(){var e=le(Vs,B());return e},Q=function(){return le(qi,B())},et=function(){return le(Wi,B())},Us=function(){var e=Q(),t=bn(),r=function(n){return n?ki(n)?n:r(n==null?void 0:n.parent):t.value};return Fe(function(){return r(e.value)})},ym=H(O({name:"FormConsumer",inheritAttrs:!1,setup:function(e,t){var r=t.slots,n=bn();return function(){return cr("div",{style:{display:"contents"}},{default:function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r,{form:n.value})}})}}}),{scheduler:function(e){return Promise.resolve().then(e)}}),Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pt.apply(this,arguments)};function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=function(n,i){return e.reduce(function(a,o){return P(o)?a=Object.assign(a,o(a,i)):j(o,function(s,l){var u=E.getIn(i,l),c=J(s)?s:l;l==="value"&&s!==l&&delete a.value,E.setIn(a,c,u)}),a},n)};return function(n){return H(O({name:n.name?"Connected".concat(n.name):"ConnectedComponent",setup:function(i,a){var o=a.attrs,s=a.slots,l=Q();return function(){var u=l.value?r(Pt({},o),l.value):Pt({},o);return cr(n,{attrs:u},s)}}}))}}function tt(e,t){return function(r){return H(O({name:r.name?"Read".concat(r.name):"ReadComponent",setup:function(n,i){var a=i.attrs,o=i.slots,s=i.listeners,l=Q();return function(){var u=l.value;return cr(u&&!q(u)&&u.pattern==="readPretty"?e:r,{attrs:Pt(Pt({},t),a),on:s},o)}}}))}}function pe(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=t.reduce(function(a,o){return o(a)},e),i;{var i=O({name:e.name,setup:function(o,s){var l=s.attrs,u=s.slots;return function(){return cr(n,{props:o,attrs:l},u)}}});return co(i)}}globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var _t=globalThis&&globalThis.__assign||function(){return _t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_t.apply(this,arguments)},Le=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Oe=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};function Gs(e){return typeof e.template=="string"||typeof e.render=="function"||typeof e.setup=="function"}var Ga=function(e){return Array.isArray(e)?e.length>1?S(Ee,{},{default:function(){return e}}):e[0]:e},Gn=function(e,t){var r;return t==null?e:typeof t=="string"?function(){return Oe(Oe([],Le(e()),!1),[t],!1)}:!Gs(t)&&typeof t!="function"?e:t.length>1||((r=t==null?void 0:t.render)===null||r===void 0?void 0:r.length)>1?function(n){return Oe(Oe([],Le(e()),!1),[S(t,{props:n},{})],!1)}:function(){return Oe(Oe([],Le(e()),!1),[S(t,{},{})],!1)}},kd=function(e,t,r){var n,i=Object.keys(t);if(!i.length){if(!r)return{};if(typeof r=="string")return{default:Gn(function(){return[]},r)}}var a=function(s){return function(){var l,u;return(u=(l=t[s])===null||l===void 0?void 0:l.call(t,{field:e,form:e.form}))!==null&&u!==void 0?u:[]}},o={};return i.forEach(function(s){o[s]=a(s)}),r&&typeof r=="object"&&!Gs(r)?(Object.keys(r).forEach(function(s){var l,u=r[s],c=(l=o[s])!==null&&l!==void 0?l:function(){return[]};o[s]=Gn(c,u)}),o):(o.default=Gn((n=o.default)!==null&&n!==void 0?n:function(){return[]},r),o)},_n=H({name:"ReactiveField",props:{fieldType:{type:String,default:"Field"},fieldProps:{type:Object,default:function(){return{}}}},setup:function(e,t){var r=t.slots,n=bn(),i=Q(),a=le(yn,B(null)),o=function(){var l,u,c,f,p;return(u=(l=n==null?void 0:n.value)===null||l===void 0?void 0:l["create".concat(e.fieldType)])===null||u===void 0?void 0:u.call(l,_t(_t({},e.fieldProps),{basePath:(f=(c=e.fieldProps)===null||c===void 0?void 0:c.basePath)!==null&&f!==void 0?f:(p=i.value)===null||p===void 0?void 0:p.address}))},s=bi(o());return pt(function(){return e.fieldProps},function(){return s.value=o()}),Bs(s),ae(qi,s),function(){var l,u=s.value,c=a.value;if(!u)return(l=r.default)===null||l===void 0?void 0:l.call(r);if(u.display!=="visible")return S("template",{},{});var f=kd(u,r,u.content),p=function(d){var y;if(!u.decoratorType)return Ga(d);var b=(y=E.getIn(c==null?void 0:c.components,u.decoratorType))!==null&&y!==void 0?y:u.decoratorType,g=Ne(u.decorator[1])||{},x={attrs:g,style:g==null?void 0:g.style,class:g==null?void 0:g.class};return delete x.attrs.style,delete x.attrs.class,S(b,x,{default:function(){return d}})},h=function(){var d,y;if(!u.componentType)return Ga((d=f==null?void 0:f.default)===null||d===void 0?void 0:d.call(f));var b=(y=E.getIn(c==null?void 0:c.components,u.componentType))!==null&&y!==void 0?y:u.componentType,g=Ne(u.component[1])||{},x={},w=g["@change"]||g.onChange,A=g["@focus"]||g.onFocus,k=g["@blur"]||g.onBlur;Object.keys(g).filter(function(C){return C.startsWith("on")}).forEach(function(C){var M="".concat(C[2].toLowerCase()).concat(C.slice(3));x[M]=g[C]}),Object.keys(g).filter(function(C){return C.startsWith("@")}).forEach(function(C){x[C.slice(1)]=g[C],delete g[C]}),x.change=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];q(u)||u.onInput.apply(u,Oe([],Le(C),!1)),w==null||w.apply(void 0,Oe([],Le(C),!1))},x.focus=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];q(u)||u.onFocus.apply(u,Oe([],Le(C),!1)),A==null||A.apply(void 0,Oe([],Le(C),!1))},x.blur=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];q(u)||u.onBlur.apply(u,Oe([],Le(C),!1)),k==null||k.apply(void 0,Oe([],Le(C),!1))};var V={attrs:_t(_t({disabled:q(u)?void 0:u.pattern==="disabled"||u.pattern==="readPretty",readOnly:q(u)?void 0:u.pattern==="readOnly"},g),{value:q(u)?void 0:u.value}),style:g==null?void 0:g.style,class:g==null?void 0:g.class,on:x};return delete V.attrs.style,delete V.attrs.class,S(b,V,f)};return p([h()])}}}),xn=function(e){var t=e.component,r=e.decorator,n,i;return Array.isArray(t)&&(n=[Hn(t[0]),t[1]]),Array.isArray(r)&&(i=[Hn(r[0]),r[1]]),{component:n,decorator:i}},Hi=function(){return{name:{},title:{},description:{},value:{},initialValue:{},basePath:{},decorator:Array,component:Array,display:String,pattern:String,required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},hidden:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},editable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},readOnly:{type:Boolean,default:void 0},readPretty:{type:Boolean,default:void 0},dataSource:{},validator:{},reactions:[Array,Function]}},$d=function(){return{name:{},title:{},description:{},basePath:{},decorator:Array,component:Array,display:String,pattern:String,hidden:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},editable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},readOnly:{type:Boolean,default:void 0},readPretty:{type:Boolean,default:void 0},reactions:[Array,Function]}},Jr=globalThis&&globalThis.__assign||function(){return Jr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jr.apply(this,arguments)},qs;qs={name:"ArrayField",props:Hi(),setup:function(e,t){return function(){var r={fieldType:"ArrayField",fieldProps:Jr(Jr({},e),xn(e))};return v(_n,r,t.slots)}}};var Dd=qs,Yr=globalThis&&globalThis.__assign||function(){return Yr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yr.apply(this,arguments)},Ws;Ws={name:"ObjectField",props:Hi(),setup:function(e,t){return function(){var r={fieldType:"ObjectField",fieldProps:Yr(Yr({},e),xn(e))};return v(_n,r,t.slots)}}};var jd=Ws,Xr=globalThis&&globalThis.__assign||function(){return Xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xr.apply(this,arguments)},zs;zs={name:"VoidField",props:$d(),setup:function(e,t){return function(){var r={fieldType:"VoidField",fieldProps:Xr(Xr({},e),xn(e))};return v(_n,r,t.slots)}}};var Ld=zs,Qr=globalThis&&globalThis.__assign||function(){return Qr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qr.apply(this,arguments)},Hs;Hs={name:"Field",props:Hi(),setup:function(e,t){return function(){var r={fieldType:"Field",fieldProps:Qr(Qr({},e),xn(e))};return v(_n,r,t.slots)}}};var Vd=Hs,me=globalThis&&globalThis.__assign||function(){return me=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},me.apply(this,arguments)},qn=function(e){return Object.keys(e).length?S(Ee,{},e):void 0},se={name:"RecursionField",inheritAttrs:!1,props:{schema:{required:!0},name:[String,Number],basePath:{},onlyRenderProperties:{type:Boolean,default:void 0},onlyRenderSelf:{type:Boolean,default:void 0},mapProperties:{},filterProperties:{}},setup:function(e){var t=Q(),r=le(yn),n=le(er),i=function(u){return co(new Zt(u))},a=Fe(function(){return i(e.schema)}),o=function(u){var c;return(c=u==null?void 0:u.toFieldProps)===null||c===void 0?void 0:c.call(u,me(me({},r.value),{get scope(){return me(me({},r.value.scope),n.value)}}))},s=bi(o(a.value));pt([a,r],function(){s.value=o(a.value)});var l=function(){var u,c;return e.onlyRenderProperties?e.basePath||((u=t==null?void 0:t.value)===null||u===void 0?void 0:u.address.concat(e.name)):e.basePath||((c=t==null?void 0:t.value)===null||c===void 0?void 0:c.address)};return ae(Wi,a),function(){var u=l(),c=s.value,f=function(h){if(h===void 0&&(h=!1),e.onlyRenderSelf)return{};var d=Zt.getOrderProperties(a.value);if(!d.length)return{};var y={},b=function(x,w){y[x]||(y[x]=[]),y[x].push(w)};d.forEach(function(x,w){var A,k=x.schema,V=x.key,C=k;if(P(e.mapProperties)){var M=e.mapProperties(k,V);M&&(C=M)}if(P(e.filterProperties)&&e.filterProperties(C,V)===!1)return null;b((A=C["x-slot"])!==null&&A!==void 0?A:"default",function(ne){return S(se,{key:"".concat(w,"-").concat(V),attrs:{schema:C,name:V,basePath:(ne==null?void 0:ne.address)||u},slot:C["x-slot"]},{})})});var g={};return Object.keys(y).forEach(function(x){var w=y[x];g[x]=h?function(A){var k=A.field;return w.map(function(V){return V(k)})}:function(){return w.map(function(A){return A()})}}),g},p=function(){if(!$(e.name))return qn(f());if(a.value.type==="object")return e.onlyRenderProperties?qn(f()):S(jd,{attrs:me(me({},c),{name:e.name,basePath:u})},f(!0));if(a.value.type==="array")return S(Dd,{attrs:me(me({},c),{name:e.name,basePath:u})},{});if(a.value.type==="void"){if(e.onlyRenderProperties)return qn(f());var h=f(!0);return S(Ld,{attrs:me(me({},c),{name:e.name,basePath:u})},h)}return S(Vd,{attrs:me(me({},c),{name:e.name,basePath:u})},{})};if(!!a.value)return p()}}},Wn=function(e){var t={};return Object.keys(e).forEach(function(r){r.indexOf("x")===0&&r.indexOf("x-")===-1?t[Sl(r)]=e[r]:t[r]=e[r]}),t},de=globalThis&&globalThis.__assign||function(){return de=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},de.apply(this,arguments)},Ks={nonameId:0},Bd=function(){return"NO_NAME_FIELD_$".concat(Ks.nonameId++)},qa={version:String,name:[String,Number],title:{},description:{},default:{},readOnly:{type:Boolean,default:void 0},writeOnly:{type:Boolean,default:void 0},enum:{},const:{},multipleOf:Number,maximum:Number,exclusiveMaximum:Number,minimum:Number,exclusiveMinimum:Number,maxLength:Number,minLength:Number,pattern:{},maxItems:Number,minItems:Number,uniqueItems:{type:Boolean,default:void 0},maxProperties:Number,minProperties:Number,required:{type:[Boolean,Array,String],default:void 0},format:String,properties:{},items:{},additionalItems:{},patternProperties:{},additionalProperties:{},xIndex:Number,xPattern:{},xDisplay:{},xValidator:{},xDecorator:{},xDecoratorProps:{},xComponent:{},xComponentProps:{},xReactions:{},xContent:{},xVisible:{type:Boolean,default:void 0},xHidden:{type:Boolean,default:void 0},xDisabled:{type:Boolean,default:void 0},xEditable:{type:Boolean,default:void 0},xReadOnly:{type:Boolean,default:void 0},xReadPretty:{type:Boolean,default:void 0}};function bm(e){var t={name:"SchemaField",inheritAttrs:!1,props:{schema:{},scope:{},components:{},name:[String,Number],basePath:{},onlyRenderProperties:{type:Boolean,default:void 0},onlyRenderSelf:{type:Boolean,default:void 0},mapProperties:{},filterProperties:{}},setup:function(i,a){var o=a.slots,s=Fe(function(){return Zt.isSchemaInstance(i.schema)?i.schema:new Zt(de({type:"object"},i.schema))}),l=Fe(function(){return de(de({},e.scope),i.scope)}),u=Fe(function(){return de(de({},e),{components:de(de({},e.components),i.components)})});return ae(Er,s),ae(yn,u),ae(er,l),function(){return Ks.nonameId=0,S(Ee,{},{default:function(){var c=[];return o.default&&c.push(S("template",{},{default:function(){return o.default()}})),c.push(S(se,{attrs:de(de({},i),{schema:s.value})},{})),c}})}}},r={name:"MarkupField",props:de({type:String},qa),setup:function(i,a){var o=a.slots,s=le(Er,null);if(!s||!s.value)return function(){return S("template",{},{})};var l=i.name||Bd(),u=function(f){return s.value.items?s.value.addProperty(l,f):s.value.setItems(Wn(i))},c=bi(null);return pt(s,function(){if(s.value.type==="object"||s.value.type==="void")c.value=s.value.addProperty(l,Wn(i));else if(s.value.type==="array"){var f=u(Wn(i));c.value=Array.isArray(f)?f[0]:f}},{immediate:!0}),ae(Er,c),function(){return S("div",{style:"display: none;"},o)}}},n=function(i,a){return{name:a,props:de({},qa),setup:function(o,s){var l=s.slots;return function(){return S(r,{attrs:de(de({},o),{type:i})},l)}}}};return{SchemaField:t,SchemaMarkupField:r,SchemaStringField:n("string","SchemaStringField"),SchemaObjectField:n("object","SchemaObjectField"),SchemaArrayField:n("array","SchemaArrayField"),SchemaBooleanField:n("boolean","SchemaBooleanField"),SchemaDateField:n("date","SchemaDateField"),SchemaDateTimeField:n("datetime","SchemaDatetimeField"),SchemaVoidField:n("void","SchemaVoidField"),SchemaNumberField:n("number","SchemaNumberField")}}var Zr=globalThis&&globalThis.__assign||function(){return Zr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zr.apply(this,arguments)};O({name:"ExpressionScope",props:["value"],setup:function(e,t){var r=t.slots,n=le(er),i=Fe(function(){return Zr(Zr({},n.value),e.value)});return ae(er,i),function(){return S(Ee,{},r)}}});const G="formily-naive",Ud={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Gd=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),qd=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),Wd=[Gd,qd];var zd=O({name:"Add",render:function(t,r){return Pe(),Ae("svg",Ud,Wd)}});const Hd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kd=U("path",{d:"M408 64H104a56.16 56.16 0 0 0-56 56v192a56.16 56.16 0 0 0 56 56h40v80l93.72-78.14a8 8 0 0 1 5.13-1.86H408a56.16 56.16 0 0 0 56-56V120a56.16 56.16 0 0 0-56-56z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Jd=U("circle",{cx:"160",cy:"216",r:"32",fill:"currentColor"},null,-1),Yd=U("circle",{cx:"256",cy:"216",r:"32",fill:"currentColor"},null,-1),Xd=U("circle",{cx:"352",cy:"216",r:"32",fill:"currentColor"},null,-1),Qd=[Kd,Jd,Yd,Xd];var Js=O({name:"ChatboxEllipsesOutline",render:function(t,r){return Pe(),Ae("svg",Hd,Qd)}});const Zd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},eh=U("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),th=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176L217.6 336L160 272"},null,-1),rh=[eh,th];var nh=O({name:"CheckmarkCircleOutline",render:function(t,r){return Pe(),Ae("svg",Zd,rh)}});const ih={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ah=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 184l144 144l144-144"},null,-1),oh=[ah];var sh=O({name:"ChevronDown",render:function(t,r){return Pe(),Ae("svg",ih,oh)}});const uh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},lh=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 328l144-144l144 144"},null,-1),ch=[lh];var fh=O({name:"ChevronUp",render:function(t,r){return Pe(),Ae("svg",uh,ch)}});const dh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},hh=U("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1),ph=[hh];var vh=O({name:"Close",render:function(t,r){return Pe(),Ae("svg",dh,ph)}});const mh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gh=U("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),yh=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320L192 192"},null,-1),bh=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 320l128-128"},null,-1),_h=[gh,yh,bh];var xh=O({name:"CloseCircleOutline",render:function(t,r){return Pe(),Ae("svg",mh,_h)}});const wh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Oh=U("path",{d:"M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184s184-82.39 184-184S349.61 64 248 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Sh=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M220 220h32v116"},null,-1),Th=U("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M208 340h88"},null,-1),Ih=U("path",{d:"M248 130a26 26 0 1 0 26 26a26 26 0 0 0-26-26z",fill:"currentColor"},null,-1),Ph=[Oh,Sh,Th,Ih];var Ah=O({name:"InformationCircleOutline",render:function(t,r){return Pe(),Ae("svg",wh,Ph)}});const Eh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ch=fo('<path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M176 112l80-80l80 80"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M255.98 32l.02 448"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M176 400l80 80l80-80"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M400 176l80 80l-80 80"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M112 176l-80 80l80 80"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M32 256h448"></path>',6),Fh=[Ch];var Nh=O({name:"MoveSharp",render:function(t,r){return Pe(),Ae("svg",Eh,Fh)}});const Mh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Rh=fo('<path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352" fill="currentColor"></path><path d="M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M184 176l8 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M328 176l-8 224"></path>',6),kh=[Rh];var $h=O({name:"TrashOutline",render:function(t,r){return Pe(),Ae("svg",Mh,kh)}});const Dh={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jh=U("path",{d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Lh=U("path",{d:"M250.26 195.39l5.74 122l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Vh=U("path",{d:"M256 397.25a20 20 0 1 1 20-20a20 20 0 0 1-20 20z",fill:"currentColor"},null,-1),Bh=[jh,Lh,Vh];var Uh=O({name:"WarningOutline",render:function(t,r){return Pe(),Ae("svg",Dh,Bh)}});const Gh=O({inject:["manager"],props:{index:{type:Number,required:!0},disabled:{type:Boolean,default:!1}},data(){return{}},watch:{index(e){this.$el&&this.$el.sortableInfo&&(this.$el.sortableInfo.index=e)},disabled(e){e?this.removeDraggable():this.setDraggable(this.index)}},mounted(){const{disabled:e,index:t}=this.$props;e||this.setDraggable(t)},beforeUnmount(){this.disabled||this.removeDraggable()},methods:{setDraggable(e){const t=this.$el;t.sortableInfo={index:e,manager:this.manager},this.ref={node:t},this.manager.add(this.ref)},removeDraggable(){this.manager.remove(this.ref)}}});class qh{constructor(){this.refs=[],this.active=null}add(t){this.refs||(this.refs=[]),this.refs.push(t)}remove(t){const r=this.getIndex(t);r!==-1&&this.refs.splice(r,1)}isActive(){return!!this.active}getActive(){return this.refs.find(({node:t})=>{var r,n;return((r=t==null?void 0:t.sortableInfo)===null||r===void 0?void 0:r.index)==((n=this===null||this===void 0?void 0:this.active)===null||n===void 0?void 0:n.index)})||null}getIndex(t){return this.refs.indexOf(t)}getRefs(){return this.refs}getOrderedRefs(){return this.refs.sort((t,r)=>t.node.sortableInfo.index-r.node.sortableInfo.index)}}const Ht=e=>e.touches!=null;function fi(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)}function Wh(e,t,r){const n=e.slice(0);if(r>=n.length){let i=r-n.length;for(;i--+1;)n.push(void 0)}return n.splice(r,0,n.splice(t,1)[0]),n}function zh(e,t){const r=e.slice(0);return t>=r.length||r.splice(t,1),r}function Hh(e,t,r){const n=e.slice(0);return t===n.length?n.push(r):n.splice(t,0,r),n}const ze={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","mouseup"],cancel:["touchcancel","keyup"]};function Wa(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function za(e,t,r){return r<e?e:r>t?t:r}function Sr(e){return e.substr(-2)==="px"?parseFloat(e):0}function Ha(e){const t=window.getComputedStyle(e);return{top:Sr(t.marginTop),right:Sr(t.marginRight),bottom:Sr(t.marginBottom),left:Sr(t.marginLeft)}}function Tr(e,t="page"){const r=`${t}X`,n=`${t}Y`;return{x:Ht(e)?e.touches[0][r]:e[r],y:Ht(e)?e.touches[0][n]:e[n]}}function Ka(e){const t=[e];for(;e;e=e.offsetParent)t.unshift(e);return t}function Kh(e,t){const r=Ka(e),n=Ka(t);if(r[0]!=n[0])throw"No common ancestor!";for(let i=0;i<r.length;i++)if(r[i]!=n[i])return r[i-1]}function nt(e,t,r={top:0,left:0}){if(e){const n={top:r.top+e.offsetTop,left:r.left+e.offsetLeft};return e.offsetParent!==t.offsetParent?nt(e.offsetParent,t,n):n}return{top:0,left:0}}function Ja(e){const t=e.querySelectorAll("input, textarea, select"),r=e.cloneNode(!0);return[...r.querySelectorAll("input, textarea, select")].forEach((i,a)=>{i.type!=="file"&&t[a]&&(i.value=t[a].value)}),r}function Jh(e,t,r){if(typeof e=="string"&&(e=+e),Array.isArray(e)||(e=[e,e]),e.length!==2)throw new Error(`lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given ${e}`);const[n,i]=e;return[Ya(n,t,r),Ya(i,t,r)]}function Ya(e,t,r){let n=e,i=e,a="px";if(typeof e=="string"){const o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);if(o===null)throw new Error(`lockOffset value should be a number or a string of a number followed by "px" or "%". Given ${e}`);n=i=parseFloat(e),a=o[1]}if(!isFinite(n)||!isFinite(i))throw new Error(`lockOffset value should be a finite. Given ${e}`);return a==="%"&&(n=n*t/100,i=i*r/100),{x:n,y:i}}function Xa(e=[]){for(let t=0,r=e.length;t<r;t++){const n=e[t],i=n.node;if(!i)return;n.edgeOffset=null,di(i)}}function di(e,t="",r=""){!e||(e.style.transform=t,e.style.transitionDuration=r)}const zn=setTimeout,Yh=O({inject:{SlicksortHub:{from:"SlicksortHub",default:null}},provide(){return{manager:this.manager}},props:{list:{type:Array,required:!0},axis:{type:String,default:"y"},distance:{type:Number,default:0},pressDelay:{type:Number,default:0},pressThreshold:{type:Number,default:5},useDragHandle:{type:Boolean,default:!1},useWindowAsScrollContainer:{type:Boolean,default:!1},hideSortableGhost:{type:Boolean,default:!0},lockToContainerEdges:{type:Boolean,default:!1},lockOffset:{type:[String,Number,Array],default:"50%"},transitionDuration:{type:Number,default:300},appendTo:{type:String,default:"body"},draggedSettlingDuration:{type:Number,default:null},group:{type:String,default:""},accept:{type:[Boolean,Array,Function],default:null},cancelKey:{type:String,default:"Escape"},block:{type:Array,default:()=>[]},lockAxis:{type:String,default:""},helperClass:{type:String,default:""},contentWindow:{type:Object,default:null},shouldCancelStart:{type:Function,default:e=>["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())!==-1},getHelperDimensions:{type:Function,default:({node:e})=>({width:e.offsetWidth,height:e.offsetHeight})}},emits:["sort-start","sort-move","sort-end","sort-cancel","sort-insert","sort-remove","update:list"],data(){let e=!1;return this.group&&this.SlicksortHub&&(e=!0),{sorting:!1,hub:e?this.SlicksortHub:null,manager:new qh}},mounted(){this.hub&&(this.id=this.hub.getId()),this.container=this.$el,this.document=this.container.ownerDocument||document,this._window=this.contentWindow||window,this.scrollContainer=this.useWindowAsScrollContainer?{scrollLeft:0,scrollTop:0}:this.container,this.events={start:this.handleStart,move:this.handleMove,end:this.handleEnd};for(const e in this.events)fi(this.events,e)&&ze[e].forEach(t=>this.container.addEventListener(t,this.events[e]));this.hub&&this.hub.addContainer(this)},beforeUnmount(){for(const e in this.events)fi(this.events,e)&&ze[e].forEach(t=>this.container.removeEventListener(t,this.events[e]));this.hub&&this.hub.removeContainer(this),this.dragendTimer&&clearTimeout(this.dragendTimer),this.cancelTimer&&clearTimeout(this.cancelTimer),this.pressTimer&&clearTimeout(this.pressTimer),this.autoscrollInterval&&clearInterval(this.autoscrollInterval)},methods:{handleStart(e){const{distance:t,shouldCancelStart:r}=this.$props;if(!Ht(e)&&e.button===2||r(e))return!1;this._touched=!0,this._pos=Tr(e);const n=e.target,i=Wa(n,a=>a.sortableInfo!=null);if(i&&i.sortableInfo&&this.nodeIsChild(i)&&!this.sorting){const{useDragHandle:a}=this.$props,{index:o}=i.sortableInfo;if(a&&!Wa(n,s=>s.sortableHandle!=null))return;this.manager.active={index:o},n.tagName.toLowerCase()==="a"&&e.preventDefault(),t||(this.pressDelay===0?this.handlePress(e):this.pressTimer=zn(()=>this.handlePress(e),this.pressDelay))}},nodeIsChild(e){return e.sortableInfo.manager===this.manager},handleMove(e){const{distance:t,pressThreshold:r}=this.$props;if(!this.sorting&&this._touched){const n=Tr(e);this._delta={x:this._pos.x-n.x,y:this._pos.y-n.y};const i=Math.abs(this._delta.x)+Math.abs(this._delta.y);!t&&(!r||r&&i>=r)?(this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=zn(this.cancel,0)):t&&i>=t&&this.manager.isActive()&&this.handlePress(e)}},handleEnd(){if(!this._touched)return;const{distance:e}=this.$props;this._touched=!1,e||this.cancel()},cancel(){this.sorting||(this.pressTimer&&clearTimeout(this.pressTimer),this.manager.active=null,this.hub&&this.hub.cancel())},handleSortCancel(e){(Ht(e)||e.key===this.cancelKey)&&(this.newIndex=this.index,this.canceling=!0,this.translate={x:0,y:0},this.animateNodes(),this.handleSortEnd(e))},handlePress(e){e.stopPropagation();const t=this.manager.getActive();if(t){const{getHelperDimensions:r,helperClass:n,hideSortableGhost:i,appendTo:a}=this.$props,{node:o}=t,{index:s}=o.sortableInfo,l=Ha(o),u=this.container.getBoundingClientRect(),c=r({index:s,node:o});this.node=o,this.margin=l,this.width=c.width,this.height=c.height,this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this.boundingClientRect=o.getBoundingClientRect(),this.containerBoundingRect=u,this.index=s,this.newIndex=s;const f=Ja(o);this.helper=this.document.querySelector(a).appendChild(f),this.helper.style.position="fixed",this.helper.style.top=`${this.boundingClientRect.top-l.top}px`,this.helper.style.left=`${this.boundingClientRect.left-l.left}px`,this.helper.style.width=`${this.width}px`,this.helper.style.height=`${this.height}px`,this.helper.style.boxSizing="border-box",this.helper.style.pointerEvents="none",i&&(this.sortableGhost=o,o.style.visibility="hidden",o.style.opacity="0"),this.hub&&(this.hub.sortStart(this),this.hub.helper=this.helper,this.hub.ghost=this.sortableGhost),this.intializeOffsets(e,this.boundingClientRect),this.offsetEdge=nt(o,this.container),n&&this.helper.classList.add(...n.split(" ")),this.listenerNode=Ht(e)?o:this._window,ze.move.forEach(p=>this.listenerNode.addEventListener(p,this.handleSortMove)),ze.end.forEach(p=>this.listenerNode.addEventListener(p,this.handleSortEnd)),ze.cancel.forEach(p=>this.listenerNode.addEventListener(p,this.handleSortCancel)),this.sorting=!0,this.$emit("sort-start",{event:e,node:o,index:s})}},handleSortMove(e){if(e.preventDefault(),this.updatePosition(e),this.hub){const t=this.list[this.index];this.hub.handleSortMove(e,t)}(!this.hub||this.hub.isDest(this))&&(this.animateNodes(),this.autoscroll()),this.$emit("sort-move",{event:e})},handleDropOut(){const e=this.list[this.index],t=zh(this.list,this.index);return this.$emit("sort-remove",{oldIndex:this.index}),this.$emit("update:list",t),e},handleDropIn(e){const t=Hh(this.list,this.newIndex,e);this.$emit("sort-insert",{newIndex:this.newIndex,value:e}),this.$emit("update:list",t),this.handleDragEnd()},handleDragOut(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),this.hub.isSource(this)?(this.translate={x:1e4,y:1e4},this.animateNodes()):(this.manager.getRefs().forEach(e=>{e.node.style.transform=""}),this.dragendTimer=zn(this.handleDragEnd,this.transitionDuration||0))},handleDragEnd(){this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),Xa(this.manager.getRefs()),this.sortableGhost&&(this.sortableGhost.remove(),this.sortableGhost=null),this.dragendTimer&&(clearTimeout(this.dragendTimer),this.dragendTimer=null),this.manager.active=null,this._touched=!1,this.sorting=!1},intializeOffsets(e,t){const{useWindowAsScrollContainer:r,containerBoundingRect:n,_window:i}=this;this.marginOffset={x:this.margin.left+this.margin.right,y:Math.max(this.margin.top,this.margin.bottom)},this._axis={x:this.axis.indexOf("x")>=0,y:this.axis.indexOf("y")>=0},this.initialOffset=Tr(e),this.initialScroll={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset},this.translate={x:0,y:0},this.minTranslate={},this.maxTranslate={},this._axis.x&&(this.minTranslate.x=(r?0:n.left)-t.left-this.width/2,this.maxTranslate.x=(r?i.innerWidth:n.left+n.width)-t.left-this.width/2),this._axis.y&&(this.minTranslate.y=(r?0:n.top)-t.top-this.height/2,this.maxTranslate.y=(r?i.innerHeight:n.top+n.height)-t.top-this.height/2)},handleDragIn(e,t,r){if(this.hub.isSource(this))return;this.dragendTimer&&(this.handleDragEnd(),clearTimeout(this.dragendTimer),this.dragendTimer=null);const n=this.manager.getRefs();this.index=n.length,this.manager.active={index:this.index};const i=this.container.getBoundingClientRect(),a=r.getBoundingClientRect();this.containerBoundingRect=i,this.sortableGhost=Ja(t),this.container.appendChild(this.sortableGhost);const o=this.sortableGhost.getBoundingClientRect();this.boundingClientRect=o,this.margin=Ha(this.sortableGhost),this.width=o.width,this.height=o.height,this.offsetEdge=nt(this.sortableGhost,this.container),this.intializeOffsets(e,o),this.initialOffset.x+=o.x-a.x,this.initialOffset.y+=o.y-a.y,this.sorting=!0},handleSortEnd(e){this.listenerNode&&(ze.move.forEach(n=>this.listenerNode.removeEventListener(n,this.handleSortMove)),ze.end.forEach(n=>this.listenerNode.removeEventListener(n,this.handleSortEnd)),ze.cancel.forEach(n=>this.listenerNode.removeEventListener(n,this.handleSortCancel)));const t=this.manager.getRefs();this.helper&&this.helperClass&&this.helper.classList.remove(...this.helperClass.split(" ")),this.autoscrollInterval&&clearInterval(this.autoscrollInterval),this.autoscrollInterval=null;const r=()=>{this.helper&&(this.helper.remove(),this.helper=null),this.hideSortableGhost&&this.sortableGhost&&(this.sortableGhost.style.visibility="",this.sortableGhost.style.opacity=""),Xa(t),this.hub&&!this.hub.isDest(this)?this.canceling?this.hub.cancel():this.hub.handleSortEnd():this.canceling?this.$emit("sort-cancel",{event:e}):(this.$emit("sort-end",{event:e,oldIndex:this.index,newIndex:this.newIndex}),this.$emit("update:list",Wh(this.list,this.index,this.newIndex))),this.manager.active=null,this._touched=!1,this.canceling=!1,this.sorting=!1};this.transitionDuration||this.draggedSettlingDuration?this.transitionHelperIntoPlace(t,r):r()},transitionHelperIntoPlace(e,t){if(this.draggedSettlingDuration===0||e.length===0||!this.helper)return Promise.resolve();const r=e[this.index].node;let n=0,i=0;const a={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};if(this.hub&&!this.hub.isDest(this)&&!this.canceling){const u=this.hub.getDest();if(!u)return;const c=u.newIndex,f=u.manager.getOrderedRefs(),p=c<f.length?f[c].node:u.sortableGhost,h=Kh(r,p),d=nt(r,h),y=nt(p,h);n=y.left-d.left-a.left,i=y.top-d.top-a.top}else{const u=e[this.newIndex].node,c={left:this.scrollContainer.scrollLeft-this.initialScroll.left+a.left,top:this.scrollContainer.scrollTop-this.initialScroll.top+a.top};n=-c.left,this.translate&&this.translate.x>0?n+=u.offsetLeft+u.offsetWidth-(r.offsetLeft+r.offsetWidth):n+=u.offsetLeft-r.offsetLeft,i=-c.top,this.translate&&this.translate.y>0?i+=u.offsetTop+u.offsetHeight-(r.offsetTop+r.offsetHeight):i+=u.offsetTop-r.offsetTop}const o=this.draggedSettlingDuration!==null?this.draggedSettlingDuration:this.transitionDuration;di(this.helper,`translate3d(${n}px,${i}px, 0)`,`${o}ms`);const s=u=>{(!u||u.propertyName==="transform")&&(clearTimeout(l),di(this.helper),t())},l=setTimeout(s,o+10);this.helper.addEventListener("transitionend",s)},updatePosition(e){const{lockAxis:t,lockToContainerEdges:r}=this.$props,n=Tr(e),i={x:n.x-this.initialOffset.x,y:n.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,r){const[a,o]=Jh(this.lockOffset,this.height,this.width),s={x:this.width/2-a.x,y:this.height/2-a.y},l={x:this.width/2-o.x,y:this.height/2-o.y};this.minTranslate.x&&this.maxTranslate.x&&(i.x=za(this.minTranslate.x+s.x,this.maxTranslate.x-l.x,i.x)),this.minTranslate.y&&this.maxTranslate.y&&(i.y=za(this.minTranslate.y+s.y,this.maxTranslate.y-l.y,i.y))}t==="x"?i.y=0:t==="y"&&(i.x=0),this.helper&&(this.helper.style.transform=`translate3d(${i.x}px,${i.y}px, 0)`)},animateNodes(){const{transitionDuration:e,hideSortableGhost:t}=this.$props,r=this.manager.getOrderedRefs(),n={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+n.left,top:this.offsetEdge.top+this.translate.y+n.top},a={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(let o=0,s=r.length;o<s;o++){const{node:l}=r[o],u=l.sortableInfo.index,c=l.offsetWidth,f=l.offsetHeight,p={width:this.width>c?c/2:this.width/2,height:this.height>f?f/2:this.height/2},h={x:0,y:0};let{edgeOffset:d}=r[o];d||(r[o].edgeOffset=d=nt(l,this.container));const y=o<r.length-1&&r[o+1],b=o>0&&r[o-1];if(y&&!y.edgeOffset&&(y.edgeOffset=nt(y.node,this.container)),u===this.index){t&&(this.sortableGhost=l,l.style.visibility="hidden",l.style.opacity="0");continue}e&&(l.style.transitionDuration=`${e}ms`),this._axis.x?this._axis.y?u<this.index&&(i.left+a.left-p.width<=d.left&&i.top+a.top<=d.top+p.height||i.top+a.top+p.height<=d.top)?(h.x=this.width+this.marginOffset.x,d.left+h.x>this.containerBoundingRect.width-p.width&&y&&(h.x=y.edgeOffset.left-d.left,h.y=y.edgeOffset.top-d.top),this.newIndex===null&&(this.newIndex=u)):u>this.index&&(i.left+a.left+p.width>=d.left&&i.top+a.top+p.height>=d.top||i.top+a.top+p.height>=d.top+f)&&(h.x=-(this.width+this.marginOffset.x),d.left+h.x<this.containerBoundingRect.left+p.width&&b&&(h.x=b.edgeOffset.left-d.left,h.y=b.edgeOffset.top-d.top),this.newIndex=u):u>this.index&&i.left+a.left+p.width>=d.left?(h.x=-(this.width+this.marginOffset.x),this.newIndex=u):u<this.index&&i.left+a.left<=d.left+p.width&&(h.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=u)):this._axis.y&&(u>this.index&&i.top+a.top+p.height>=d.top?(h.y=-(this.height+this.marginOffset.y),this.newIndex=u):u<this.index&&i.top+a.top<=d.top+p.height&&(h.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=u))),l.style.transform=`translate3d(${h.x}px,${h.y}px,0)`}this.newIndex==null&&(this.newIndex=this.index)},autoscroll(){const e=this.translate,t={x:0,y:0},r={x:1,y:1},n={x:10,y:10};e.y>=this.maxTranslate.y-this.height/2?(t.y=1,r.y=n.y*Math.abs((this.maxTranslate.y-this.height/2-e.y)/this.height)):e.x>=this.maxTranslate.x-this.width/2?(t.x=1,r.x=n.x*Math.abs((this.maxTranslate.x-this.width/2-e.x)/this.width)):e.y<=this.minTranslate.y+this.height/2?(t.y=-1,r.y=n.y*Math.abs((e.y-this.height/2-this.minTranslate.y)/this.height)):e.x<=this.minTranslate.x+this.width/2&&(t.x=-1,r.x=n.x*Math.abs((e.x-this.width/2-this.minTranslate.x)/this.width)),this.autoscrollInterval&&(clearInterval(this.autoscrollInterval),this.autoscrollInterval=null),(t.x!==0||t.y!==0)&&(this.autoscrollInterval=window.setInterval(()=>{const i={left:1*r.x*t.x,top:1*r.y*t.y};this.useWindowAsScrollContainer?this._window.scrollBy(i.left,i.top):(this.scrollContainer.scrollTop+=i.top,this.scrollContainer.scrollLeft+=i.left),this.translate.x+=i.left,this.translate.y+=i.top,this.animateNodes()},5))}}}),Xh={beforeMount(e){e.sortableHandle=!0}},Ys=O({name:"SlickItem",mixins:[Gh],props:{tag:{type:String,default:"div"}},render(){var e,t;return v(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}}),Qh=O({name:"SlickList",mixins:[Yh],props:{tag:{type:String,default:"div"},itemKey:{type:[String,Function],default:"id"}},render(){var e,t;return this.$slots.item?v(this.tag,this.list.map((r,n)=>{let i;if(r!=null){if(typeof this.itemKey=="function")i=this.itemKey(r);else if(typeof r=="object"&&fi(r,this.itemKey)&&typeof r[this.itemKey]=="string")i=r[this.itemKey];else if(typeof r=="string")i=r;else throw new Error("Cannot find key for item, use the item-key prop and pass a function or string");return v(Ys,{key:i,index:n},{default:()=>{var a,o;return(o=(a=this.$slots).item)===null||o===void 0?void 0:o.call(a,{item:r,index:n})}})}})):v(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});O({props:{tag:{type:String,default:"span"}},mounted(){this.$el.sortableHandle=!0},render(){var e,t;return v(this.tag,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});const We=(e,t,r)=>O({setup(n,{attrs:i,slots:a}){return()=>{let o=I({},i);return t&&j(t,(l,u)=>{o[`on${l[0].toUpperCase()}${l.slice(1)}`]=i[`on${u[0].toUpperCase()}${u.slice(1)}`],delete o[`on${u[0].toUpperCase()}${u.slice(1)}`]}),r&&(o=$r(r,i)),S(e,o,a)}}});function wn(e){return ep(e)||e&&typeof e=="object"&&"componentOptions"in e&&"context"in e&&e.tag!==void 0}function Zh(e){return e&&typeof e=="object"&&"componentOptions"in e&&"context"in e&&e.tag!==void 0}function ep(e){return e&&(typeof e.template=="string"||typeof e.render=="function")}function ve(e,t){return Object.assign(e,t)}function Xs(e,t="default",r,n){return{[t]:()=>Du(e)?e:v(e,r,n)}}const K=(e,t)=>e?typeof e=="string"||typeof e=="number"?e:typeof e=="function"?e(t):Zh(e)?e:v(Hn(e),t):null,tp=e=>{const t=Symbol();return{Provider:O({name:"ContextProvider",props:{value:{type:null,default(){return e!=null?e:null}}},setup(r,{slots:n}){const i=gi(r,"value");return ae(t,ju(i)),()=>{var a;return(a=n==null?void 0:n.default)==null?void 0:a.call(n)}}}),Consumer:O({name:"ContextConsumer",setup(r,{slots:n}){const i=le(t);return()=>{var a;return(a=n==null?void 0:n.default)==null?void 0:a.call(n,i)}}}),injectKey:t}},rp=e=>{const t=e.injectKey;return le(t,B(null))},Wt=new Map,Qs=e=>O({name:"PortalProvider",props:{id:{type:[String,Symbol],default:e}},setup(r,{slots:n}){rr(()=>{const{id:i}=r;i&&Wt.has(i)&&Wt.delete(i)})},render(){const{id:r}=this;return r&&!Wt.has(r)&&Wt.set(r,this),S(Ee,{},this.$slots)}});function Zs(e){return Wt.get(e)}const en=async(e="Loading...",t)=>{const r=window.$message;let n=null,i=setTimeout(()=>{n=r.loading(e)},100);try{return await t()}finally{n==null||n.destroy(),clearTimeout(i)}},eu=Symbol("ArrayBaseContext"),Ki=Symbol("ItemContext"),$t=()=>le(eu,null),fr=e=>{const{index:t}=ho(le(Ki));return t!=null?t:B(e)},np=e=>{const{record:t}=ho(le(Ki));return t!=null?t:B(e)},tu=e=>{var t,r;return Array.isArray(e==null?void 0:e.items)?tu(e.items[0]):((t=e==null?void 0:e.items)==null?void 0:t.type)==="array"||((r=e==null?void 0:e.items)==null?void 0:r.type)==="object"},ip=e=>{const t=tu(e);let r=null;return t?r=new WeakMap:r=[],rr(()=>{r=null}),{keyMap:r,getKey:(n,i)=>r instanceof WeakMap?(r.has(n)||r.set(n,ti()),`${r.get(n)}-${i}`):(r&&!r[i]&&(r[i]=ti()),r?`${r[i]}-${i}`:void 0)}},ru=(e,t)=>{var r,n,i,a,o,s,l;return $(e)?lt(e):Array.isArray(t==null?void 0:t.items)?ru(e,t.items[0]):((r=t==null?void 0:t.items)==null?void 0:r.type)==="array"?[]:((n=t==null?void 0:t.items)==null?void 0:n.type)==="boolean"?!0:((i=t==null?void 0:t.items)==null?void 0:i.type)==="date"||((a=t==null?void 0:t.items)==null?void 0:a.type)==="datetime"?"":((o=t==null?void 0:t.items)==null?void 0:o.type)==="number"?0:((s=t==null?void 0:t.items)==null?void 0:s.type)==="object"?{}:((l=t==null?void 0:t.items)==null?void 0:l.type)==="string"?"":null},ap=O({name:"ArrayBase",props:{disabled:{type:Boolean,default:!1},keyMap:{type:[WeakMap,Array]}},setup(e,{slots:t,attrs:r}){const n=Q(),i=et();return ae(eu,{field:n,schema:i,props:e,attrs:r,keyMap:e.keyMap}),()=>v(lr,{},t)}}),op=O({name:"ArrayBaseItem",props:["index","record"],setup(e,{slots:t}){return ae(Ki,e),()=>v(lr,{},t)}}),sp=O({name:"ArrayBaseSortHandle",directives:{handle:Xh},props:["index"],setup(e,{attrs:t}){const r=$t(),n=`${G}-array-base`,i=Lu("handle");return()=>{var a;return!r||((a=r.field.value)==null?void 0:a.pattern)!=="editable"?null:Vu(v(Ve,R(I({directives:[{name:"handle"}]},t),{class:[`${n}-sort-handle`].concat(t.class)}),{default:()=>[v(Nh)]}),[[i]])}}}),up=O({name:"ArrayBaseIndex",setup(e,{attrs:t}){const r=fr(),n=`${G}-array-base`;return()=>v("span",I({class:`${n}-index`},t),{default:()=>[`#${r.value+1}.`]})}}),lp=O({name:"ArrayBaseAddition",props:["method","defaultValue","title"],setup(e,{attrs:t}){const r=Q(),n=$t(),i=`${G}-array-base`;return()=>!n||(n==null?void 0:n.field.value.pattern)!=="editable"?null:v(ut,R(I(I({},t),e),{class:`${i}-addition`,onClick:a=>{var s,l,u,c,f,p,h,d,y,b;if((s=n.props)!=null&&s.disabled)return;const o=ru(e.defaultValue,n==null?void 0:n.schema.value);e.method==="unshift"?((l=n==null?void 0:n.field)==null||l.value.unshift(o),(c=(u=n.attrs)==null?void 0:u.add)==null||c.call(u,0)):((f=n==null?void 0:n.field)==null||f.value.push(o),(b=(p=n.attrs)==null?void 0:p.add)==null||b.call(p,((y=(d=(h=n==null?void 0:n.field)==null?void 0:h.value)==null?void 0:d.value)==null?void 0:y.length)-1)),typeof t.onClick=="function"&&t.onClick(a)}}),{default:()=>[r.value.title||e.title],icon:()=>v(Ve,null,{default:()=>[v(zd)]})})}}),cp=O({name:"ArrayBaseRemove",setup(e,{attrs:t}){const r=fr(e.index),n=$t(),i=`${G}-array-base`;return()=>(n==null?void 0:n.field.value.pattern)!=="editable"?null:v(Ve,R(I({},t),{class:[`${i}-remove`].concat(t.class),onClick:a=>{var o,s,l;a.stopPropagation(),Array.isArray(n==null?void 0:n.keyMap)&&((o=n==null?void 0:n.keyMap)==null||o.splice(r.value,1)),n==null||n.field.value.remove(r.value),(l=(s=n==null?void 0:n.attrs)==null?void 0:s.remove)==null||l.call(s,r.value),typeof t.onClick=="function"&&t.onClick(a)}}),{default:()=>[v($h)]})}}),fp=O({name:"ArrayBaseMoveDown",setup(e,{attrs:t}){const r=fr(e.index),n=$t(),i=`${G}-array-base`;return()=>(n==null?void 0:n.field.value.pattern)!=="editable"?null:v(Ve,R(I({},t),{class:[`${i}-sort-handle`].concat(t.class),onClick:a=>{var o,s;a.stopPropagation(),Array.isArray(n==null?void 0:n.keyMap)&&n.keyMap.splice(r.value+1,0,n.keyMap.splice(r.value,1)[0]),n==null||n.field.value.moveDown(r.value),(s=(o=n==null?void 0:n.attrs)==null?void 0:o.moveDown)==null||s.call(o,r.value),typeof t.onClick=="function"&&t.onClick(a)}}),{default:()=>[v(sh)]})}}),dp=O({name:"ArrayBaseMoveUp",setup(e,{attrs:t}){const r=fr(e.index),n=$t(),i=`${G}-array-base`;return()=>(n==null?void 0:n.field.value.pattern)!=="editable"?null:v(Ve,R(I({},t),{class:[`${i}-sort-handle`].concat(t.class),onClick:a=>{var o,s;a.stopPropagation(),Array.isArray(n==null?void 0:n.keyMap)&&n.keyMap.splice(r.value-1,0,n.keyMap.splice(r.value,1)[0]),n==null||n.field.value.moveUp(r.value),(s=(o=n==null?void 0:n.attrs)==null?void 0:o.moveUp)==null||s.call(o,r.value),typeof t.onClick=="function"&&t.onClick(a)}}),{default:()=>[v(fh)]})}}),N=ve(ap,{Index:up,Item:op,SortHandle:sp,Addition:lp,Remove:cp,MoveDown:fp,MoveUp:dp,useArray:$t,useIndex:fr,useKey:ip,useRecord:np}),nu=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},Qa=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Index"))>-1},hp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Remove"))>-1},pp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("MoveUp"))>-1},vp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("MoveDown"))>-1},Za=e=>nu(e)||hp(e)||vp(e)||pp(e),mp=H(O({name:"FArrayCards",inheritAttrs:!1,props:["onChange"],setup(e,{attrs:t}){const r=Q(),n=et(),i=`${G}-array-cards`,{getKey:a,keyMap:o}=N.useKey(n.value);return()=>{const s=r.value,l=n.value,u=Array.isArray(s.value)?s.value:[];if(!l)throw new Error("can not found schema object");const c=()=>u==null?void 0:u.map((h,d)=>{const y=Array.isArray(l.items)?l.items[d]||l.items[0]:l.items,b=v("span",{},{default:()=>[v(se,{schema:y,name:d,filterProperties:w=>!!Qa(w),onlyRenderProperties:!0},{}),t.title||s.title]}),g=v("span",{class:[`${i}-item-action`]},{default:()=>[v(se,{schema:y,name:d,filterProperties:w=>!!Za(w),onlyRenderProperties:!0},{}),t.extra]}),x=v(se,{schema:y,name:d,filterProperties:w=>!(Qa(w)||Za(w))},{});return v(N.Item,{key:a(h,d),index:d,record:h},{default:()=>v(Kn,R(I({shadow:"never"},t),{class:[`${i}-item`].concat(t.class)}),{default:()=>[x],header:()=>v(po,{style:{justifyContent:"space-between"}},{default:()=>[b,g]})})})}),f=()=>l.reduceProperties((h,d)=>nu(d)?v(se,{schema:d,name:"addition"},{}):h,null),p=()=>{if(!(u!=null&&u.length))return v(Kn,R(I({},t),{class:[`${i}-item`].concat(t.class)}),Xs(vo))};return v("div",{class:[i]},v(N,{keyMap:o},{default:()=>[p(),c(),f()]}))}}})),_m=ve(mp,{Index:N.Index,SortHandle:N.SortHandle,Addition:N.Addition,Remove:N.Remove,MoveDown:N.MoveDown,MoveUp:N.MoveUp,useArray:N.useArray,useIndex:N.useIndex,useRecord:N.useRecord}),iu=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},eo=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Index"))>-1},gp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Remove"))>-1},yp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("MoveUp"))>-1},bp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("MoveDown"))>-1},to=e=>iu(e)||gp(e)||bp(e)||yp(e),ro=e=>Array.from({length:e}).map((t,r)=>r),_p=(e,t,r=!1)=>r?0:e<t?ro(e):ro(t),xp=(e,t,r=!1)=>r?t:e.length<=t?e.concat(t):e.reduce((n,i)=>i<t?n.concat(i):i===t?n.concat([i,i+1]):n.concat(i+1),[]),wp=H(O({name:"FArrayCollapse",props:{defaultOpenPanelCount:{type:Number,default:5},onChange:{type:Function}},setup(e,{attrs:t}){const r=Q(),n=et(),i=`${G}-array-collapse`,a=B([]);mo(()=>{const l=r.value,u=Array.isArray(l.value)?l.value.slice():[];!l.modified&&u.length&&(a.value=_p(u.length,e.defaultOpenPanelCount,t.accordion))});const{getKey:o,keyMap:s}=N.useKey(n.value);return()=>{const l=r.value,u=n.value,c=Array.isArray(l.value)?l.value.slice():[];if(!u)throw new Error("can not found schema object");const f=()=>{if(!c.length)return null;const d=c==null?void 0:c.map((y,b)=>{const g=Array.isArray(u.items)?u.items[b]||u.items[0]:u.items,x=o(y,b),w=l.query(`${l.address}.${b}`).get("componentProps"),A=g==null?void 0:g["x-component-props"],k=(w==null?void 0:w.title)||A.title||l.title,V=l.address.concat(b),C=l.form.queryFeedbacks({type:"error",address:`${V}.**`}),M=v(N.Item,{index:b,record:y},{default:()=>[v(se,{schema:g,name:b,filterProperties:ke=>!!eo(ke),onlyRenderProperties:!0},{}),C.length?v(an,{class:[`${i}-errors-badge`],value:C.length},{default:()=>k}):k]}),ne=v(N.Item,{index:b,record:y},{default:()=>[v(se,{schema:g,name:b,filterProperties:ke=>!!to(ke),onlyRenderProperties:!0},{})]}),dr=v(se,{schema:g,name:b,filterProperties:ke=>!(eo(ke)||to(ke))},{});return v(go,R(I(I({},A),w),{name:b,key:x}),{default:()=>[v(N.Item,{index:b,record:y},{default:()=>[dr]})],header:()=>v(po,{style:{flex:1,justifyContent:"space-between"}},{default:()=>[v("span",{},M),v("span",{class:[`${i}-item-action`]},ne)]})})});return v(yo,R(I({class:[`${i}-item`]},t),{expandedNames:a.value,onUpdateExpandedNames:y=>{a.value=y}}),{default:()=>[d]})},p=()=>u.reduceProperties((d,y)=>iu(y)?v(se,{schema:y,name:"addition"},{}):d,null),h=()=>{if(!(c!=null&&c.length))return v(Kn,R(I({shadow:"never"},t),{class:[`${i}-item`].concat(t.class),header:t.title||l.title}),Xs(vo))};return v("div",{class:[i]},v(N,{keyMap:s,add:d=>{a.value=xp(a.value,d,t.accordion)}},{default:()=>[h(),f(),p()]}))}}})),Op=O({name:"FArrayCollapseItem",setup(e,{slots:t}){return()=>v("div",{},t)}}),xm=ve(wp,{Item:Op,Index:N.Index,SortHandle:N.SortHandle,Addition:N.Addition,Remove:N.Remove,MoveDown:N.MoveDown,MoveUp:N.MoveUp,useArray:N.useArray,useIndex:N.useIndex,useRecord:N.useRecord}),Sp=e=>{var t;return((t=e["x-component"])==null?void 0:t.indexOf("Addition"))>-1},Tp=H(O({name:"FArrayItems",inheritAttrs:!1,setup(){const e=Q(),t=et(),r=`${G}-array-items`,{getKey:n,keyMap:i}=N.useKey(t.value);return()=>{const a=e.value,o=t.value,s=Array.isArray(a.value)?a.value.slice():[];if(!o)throw new Error("can not found schema object");const l=()=>{const c=s==null?void 0:s.map((f,p)=>{const h=Array.isArray(o.items)?o.items[p]||o.items[0]:o.items,d=n(f,p);return v(N.Item,{key:d,index:p,record:f},{default:()=>v(Ys,{class:[`${r}-item-inner`],index:p,key:d},{default:()=>v(se,{schema:h,name:p},{})})})});return v(Qh,{class:[`${r}-list`],lockAxis:"y",helperClass:`${r}-sort-helper`,list:[],useDragHandle:!0,onSortEnd({oldIndex:f,newIndex:p}){Array.isArray(i)&&i.splice(p,0,i.splice(f,1)[0]),a.move(f,p)}},{default:()=>c})},u=()=>o.reduceProperties((c,f)=>Sp(f)?v(se,{schema:f,name:"addition"}):c,null);return v(N,{keyMap:i},{default:()=>v("div",{class:[r],onChange:()=>{}},{default:()=>[l(),u()]})})}}})),Ip=O({name:"FArrayItemsItem",props:["type"],setup(e,{attrs:t,slots:r}){const n=`${G}-array-items`;return()=>v("div",R(I({class:[`${n}-${e.type||"card"}`]},t),{onChange:()=>{}}),r)}}),wm=ve(Tp,{Item:Ip,Index:N.Index,SortHandle:N.SortHandle,Addition:N.Addition,Remove:N.Remove,MoveDown:N.MoveDown,MoveUp:N.MoveUp,useArray:N.useArray,useIndex:N.useIndex,useRecord:N.useRecord}),tr=Bu,Dt=`${G}-preview-text`,au=tp("N/A"),gt=e=>{const t=rp(au);return Fe(()=>$(e==null?void 0:e.value)&&(e==null?void 0:e.value)!==""?e==null?void 0:e.value:K(t.value)||"N/A")},Pp=O({name:"FPreviewTextInput",props:["value"],setup(e,{attrs:t,slots:r}){const n=gi(e,"value"),i=gt(n);return()=>v(tr,{class:[Dt],style:t.style},{default:()=>{var a,o,s,l;return[(a=r==null?void 0:r.prepend)==null?void 0:a.call(r),(o=r==null?void 0:r.prefix)==null?void 0:o.call(r),i.value,(s=r==null?void 0:r.suffix)==null?void 0:s.call(r),(l=r==null?void 0:r.append)==null?void 0:l.call(r)].filter(u=>!!u)}})}}),Ap=H(O({name:"FPreviewTextSelect",setup(e,{attrs:t}){var u,c;const n=Q().value,i=t,a=(u=n==null?void 0:n.dataSource)!=null&&u.length?n.dataSource:(c=i==null?void 0:i.options)!=null&&c.length?i.options:[],o=gt(),s=()=>{const f=i.value;return i.multiple?D(f)?f.map(p=>({label:p,value:p})):[]:$(f)?[{label:f,value:f}]:[]},l=()=>{const f=s();return f.length?f.map(({value:p,label:h},d)=>{var b;const y=((b=a==null?void 0:a.find(g=>g.value==p))==null?void 0:b.label)||h;return v(Fr,{key:d,type:"info",effect:"light"},{default:()=>y||o.value})}):v(Fr,{},{default:()=>o.value})};return()=>v(tr,{class:[Dt],style:t.style},{default:()=>l()})}})),Ep=H(O({name:"FPreviewTextCascader",setup(e,{attrs:t}){var p,h,d,y;const n=Q().value,i=t,a=(p=n==null?void 0:n.dataSource)!=null&&p.length?n.dataSource:(h=i==null?void 0:i.options)!=null&&h.length?i.options:[],o=gt(),s=((d=i.props)==null?void 0:d.value)||"value",l=((y=i.props)==null?void 0:y.label)||"label",u=()=>D(i.value)?i.value:[],c=(b,g)=>{for(let x=0;x<(g==null?void 0:g.length);x++){const w=g[x];if((w==null?void 0:w[s])===b)return w==null?void 0:w[l];{const A=c(b,w==null?void 0:w.children);if(A)return A}}},f=()=>{const b=u();return b!=null&&b.length?b.map((g,x)=>{const w=c(g,a);return v(Fr,{key:x,type:"info",effect:"light"},{default:()=>w||o.value})}):v(Fr,{},{default:()=>o.value})};return()=>v(tr,{class:[Dt],style:t.style},{default:()=>f()})}})),Cp=O({name:"FPreviewTextDatePicker",setup(e,{attrs:t}){const r=t,n=gt(),i=()=>D(r.value)?r.value.map(o=>o||n.value).join("~"):r.value||n.value;return()=>v("div",{class:[Dt],style:t.style},{default:()=>i()})}}),Fp=O({name:"FPreviewTextTimePicker",setup(e,{attrs:t}){const r=t,n=gt(),i=()=>D(r.value)?r.value.map(o=>o||n.value).join("~"):r.value||n.value;return()=>v("div",{class:[Dt],style:t.style},{default:()=>i()})}}),Np=O({name:"FPreviewText",setup(e,{attrs:t}){const r=gt();return()=>v("div",{class:[Dt],style:t.style},{default:()=>r.value})}}),Re=ve(Np,{Input:Pp,Select:Ap,Cascader:Ep,DatePicker:Cp,TimePicker:Fp,Placeholder:au.Provider,usePlaceholder:gt}),Om=H(O({name:"FCascader",props:["onChange"],setup(e,{attrs:t,slots:r}){const n=Q();return()=>{const i=n.value,a=i&&!q(i)&&i.pattern==="readPretty"?Re.Cascader:Uu;return v(a,R(I({},t),{options:i==null?void 0:i.dataSource,value:i==null?void 0:i.value,"on-update:value":(...o)=>{e.onChange(...o)}}),r)}}})),Mp=We(bo,{change:"update:checked"}),Rp=O({name:"FCheckbox",inheritAttrs:!1,props:{option:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){return()=>{const n=t,i=e==null?void 0:e.option;if(i){const a={};return Object.assign(a,i),a.label=i.label,v(bo,I({},a),r)}return v(Mp,I({},n),r)}}}),kp=We(Gu,{change:"update:value"}),$p=O({name:"FCheckboxGroup",props:{options:{type:Array,default:()=>[]},optionType:{type:String,default:"default"}},setup(e,{attrs:t,slots:r}){return()=>{const n=e.options||[],i=n.length!==0?{default:()=>n.map(a=>typeof a=="string"?v(no,{option:{label:a,value:a},optionType:e.optionType},r!=null&&r.option?{default:()=>r.option({option:a})}:{}):v(no,{option:a,optionType:e.optionType},r!=null&&r.option?{default:()=>r.option({option:a})}:{}))}:r;return v(kp,I({},t),i)}}}),Dp=pe($p,_e({dataSource:"options",value:"value"}),tt(Re.Select,{multiple:!0})),jp=pe(Rp),no=ve(jp,{Group:Dp}),Sm=H(O({name:"ArrayTabs",props:["onChange"],setup(e,{attrs:t}){const r=Q(),n=et(),i=`${G}-array-tabs`,a=B("tab-0");return()=>{const o=r.value,s=n.value,l=Array.isArray(o.value)?o.value:[],u=l!=null&&l.length?l:[1],c=(h,d)=>{var y,b;if(d=="add"){const g=u.length;(y=o==null?void 0:o.value)!=null&&y.length?o.push(null):o.push(null,null),a.value=`tab-${g}`}else if(d=="remove"){const g=(b=h.match(/-(\d+)/))==null?void 0:b[1];o.remove(Number(g)),a.value===h&&(a.value=`tab-${g-1}`)}},f=h=>{const d=`${o.title||"Untitled"} ${h+1}`,y=o.address.concat(h),b=o.form.queryFeedbacks({type:"error",address:`${y}.**`});return b.length?v("span",{},{default:()=>[v(an,{class:[`${i}-errors-badge`],value:b.length},{default:()=>[d]})]}):v("span",{},{default:()=>[d]})},p=()=>u==null?void 0:u.map((h,d)=>{const y=Array.isArray(s.items)?s.items[d]:s.items,b=`tab-${d}`;return v(_o,{closable:d!==0,name:b,tab:h},{default:()=>v(se,{schema:y,name:d},{}),tab:()=>[f(d)]})});return v(xo,R(I({class:[i],type:"card",addable:!0,closable:!0,tabStyle:"min-width: 80px;"},t),{value:a.value,"onUpdate:value":h=>{a.value=h},onClose:h=>{var d;c(h,"remove"),(d=t==null?void 0:t["tab-remove"])!=null&&d.call(t,h)},onAdd:()=>{var h;c(null,"add"),(h=t==null?void 0:t["tab-add"])!=null&&h.call(t)}}),{default:()=>[p()]})}}})),Lp=We(qu,{change:"confirm"}),Tm=pe(Lp,_e({value:"value",readOnly:"readonly"}),tt(Re.DatePicker)),Vp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},Bp=U("g",{fill:"none"},[U("path",{d:"M13.416 2.584c.778.778.778 2.039 0 2.817L6.058 12.76c-.319.32-.719.546-1.156.655l-2.283.57a.498.498 0 0 1-.604-.603l.57-2.283a2.49 2.49 0 0 1 .656-1.156l7.358-7.358a1.992 1.992 0 0 1 2.817 0zM9.894 4.697l-5.949 5.949a1.495 1.495 0 0 0-.393.694l-.369 1.477l1.477-.37c.263-.065.503-.2.694-.392l5.949-5.95l-1.409-1.408zm1.41-1.41l-.705.705l1.408 1.409l.705-.704a.996.996 0 0 0-1.409-1.41z",fill:"currentColor"})],-1),Up=[Bp];var ou=O({name:"Edit16Regular",render:function(t,r){return Pe(),Ae("svg",Vp,Up)}});const Gp=(e,t)=>{for(let r=0;r<e.length;r++)if(t<=e[r])return r;return-1},qp=(e,t)=>{var r;return Array.isArray(e)?t===-1?e[0]:(r=e[t])!=null?r:e[e.length-1]:e},qt=(e,t)=>$(e)?qp(e,t):e,Wp=(e,t)=>{const{clientWidth:r}=e,f=t,{breakpoints:n,layout:i,labelAlign:a,wrapperAlign:o,labelCol:s,wrapperCol:l}=f,u=pr(f,["breakpoints","layout","labelAlign","wrapperAlign","labelCol","wrapperCol"]),c=Gp(n,r);return I({layout:qt(i,c),labelAlign:qt(a,c),wrapperAlign:qt(o,c),labelCol:qt(s,c),wrapperCol:qt(l,c)},u)},zp=()=>{const e=yi();return(e==null?void 0:e.refs)||{}},Hp=e=>{const{breakpoints:t}=e;if(!D(t))return{props:B(e)};const r=B({}),n=i=>{r.value=Wp(i,e)};return mi(()=>{const{root:i}=zp(),a=()=>{n(i)},o=new ResizeObserver(a);return i&&o.observe(i),n(i),()=>{o.disconnect()}}),{props:r}},su=Symbol("FormLayoutDeepContext"),Ji=Symbol("FormLayoutShallowContext"),uu=()=>le(su,B({})),Kp=()=>le(Ji,B({})),lu=()=>{const e=Kp(),t=uu(),r=B(I(I({},t.value),e.value));return pt([e,t],()=>{r.value=I(I({},t.value),e.value)},{deep:!0}),r},Jp=O({name:"FFormLayout",props:{className:{},colon:{default:!0},labelAlign:{},wrapperAlign:{},labelWrap:{default:!1},labelWidth:{},wrapperWidth:{},wrapperWrap:{default:!1},labelCol:{},wrapperCol:{},fullness:{default:!1},size:{default:"default"},layout:{default:"horizontal"},direction:{default:"ltr"},shallow:{default:!0},feedbackLayout:{},tooltipLayout:{},bordered:{default:!0},inset:{default:!1},breakpoints:{},spaceGap:{},gridColumnGap:{},gridRowGap:{}},setup(e,{slots:t}){const{props:r}=Hp(e),n=uu(),i=B(I({},n.value)),a=B({});pt([r,n],()=>{a.value=r.value.shallow?r.value:void 0,r.value.shallow?(r.value.size&&(i.value.size=r.value.size),r.value.colon&&(i.value.colon=r.value.colon)):Object.assign(i.value,r.value)},{deep:!0,immediate:!0}),ae(su,i),ae(Ji,a);const o=`${G}-form`;return()=>{const s={[`${o}-${r==null?void 0:r.value.layout}`]:!0,[`${o}-rtl`]:(r==null?void 0:r.value.direction)==="rtl",[`${o}-${r==null?void 0:r.value.size}`]:(r==null?void 0:r.value.size)!==void 0,[`${r==null?void 0:r.value.className}`]:(r==null?void 0:r.value.className)!==void 0};return S("div",{ref:"root",class:s},t)}}});var cu=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},t}()}(),hi=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,tn=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),Yp=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(tn):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Xp=2;function Qp(e,t){var r=!1,n=!1,i=0;function a(){r&&(r=!1,e()),n&&s()}function o(){Yp(a)}function s(){var l=Date.now();if(r){if(l-i<Xp)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=l}return s}var Zp=20,ev=["top","right","bottom","left","width","height","size","weight"],tv=typeof MutationObserver!="undefined",rv=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Qp(this.refresh.bind(this),Zp)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!hi||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),tv?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!hi||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=ev.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),fu=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},At=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||tn},du=On(0,0,0,0);function rn(e){return parseFloat(e)||0}function io(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var a=e["border-"+i+"-width"];return n+rn(a)},0)}function nv(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e["padding-"+a];r[a]=rn(o)}return r}function iv(e){var t=e.getBBox();return On(0,0,t.width,t.height)}function av(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return du;var n=At(e).getComputedStyle(e),i=nv(n),a=i.left+i.right,o=i.top+i.bottom,s=rn(n.width),l=rn(n.height);if(n.boxSizing==="border-box"&&(Math.round(s+a)!==t&&(s-=io(n,"left","right")+a),Math.round(l+o)!==r&&(l-=io(n,"top","bottom")+o)),!sv(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-r;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return On(i.left,i.top,s,l)}var ov=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof At(e).SVGGraphicsElement}:function(e){return e instanceof At(e).SVGElement&&typeof e.getBBox=="function"}}();function sv(e){return e===At(e).document.documentElement}function uv(e){return hi?ov(e)?iv(e):av(e):du}function lv(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return fu(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}function On(e,t,r,n){return{x:e,y:t,width:r,height:n}}var cv=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=On(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=uv(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),fv=function(){function e(t,r){var n=lv(r);fu(this,{target:t,contentRect:n})}return e}(),dv=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new cu,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof At(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new cv(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof At(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(t)||(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new fv(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),hu=typeof WeakMap!="undefined"?new WeakMap:new cu,pu=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=rv.getInstance(),n=new dv(t,r,this);hu.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){pu.prototype[e]=function(){var t;return(t=hu.get(this))[e].apply(t,arguments)}});var hv=function(){return typeof tn.ResizeObserver!="undefined"?tn.ResizeObserver:pu}(),xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xt.apply(this,arguments)},ao=function(e){return e.nodeType===1},pv=function(){function e(t){var r=this;this.childList=[],this.handler=function(n){n.forEach(function(i){i.type==="childList"&&(i.addedNodes.forEach(function(a){ao(a)&&r.addObserver(a)}),i.removedNodes.forEach(function(a){ao(a)&&r.removeObserver(a)}))}),r.callback(n,r.observer)},this.observe=function(n,i){r.init=i,r.observeChildList(n),r.observer.observe(n,xt(xt({},r.init),{subtree:!1,childList:!0,characterData:!1,characterDataOldValue:!1,attributeOldValue:!1}))},this.disconnect=function(){r.observer.disconnect()},this.callback=t,this.observer=new MutationObserver(this.handler)}return e.prototype.observeChildList=function(t){var r=this;Array.from(t.children).forEach(function(n){r.addObserver(n)})},e.prototype.addObserver=function(t){var r=this,n=this.childList.find(function(o){return o.element===t});if(!n){var i=this.childList.length,a={element:t,observer:new MutationObserver(this.callback),dispose:function(){a.observer&&(a.observer.disconnect(),delete a.observer,r.childList.splice(i,1))}};a.observer.observe(a.element,xt(xt({},this.init),{subtree:!1,childList:!1,characterData:!1,characterDataOldValue:!1,attributeOldValue:!1})),this.childList.push(a)}},e.prototype.removeObserver=function(t){var r,n=this.childList.find(function(i){return i.element===t});n&&((r=n.dispose)===null||r===void 0||r.call(n))},e}(),nn=globalThis&&globalThis.__assign||function(){return nn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nn.apply(this,arguments)},vv=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},mv=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},gv=/span\s*(\d+)/,yv=function(e){return e!=null},bv=function(e,t){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t<=e[r])return r}return-1},_v=function(e,t){var r;return Array.isArray(e)?t===-1?e[0]:(r=e[t])!==null&&r!==void 0?r:e[e.length-1]:e},xv=function(e){return Array.from(e).reduce(function(t,r,n){var i,a=getComputedStyle(r),o=a.display!=="none",s=r.getAttribute("data-grid-span"),l=(i=Ov(a.gridColumnStart))!==null&&i!==void 0?i:1,u=Number(s!=null?s:l),c={index:n,span:l,visible:o,originSpan:u,element:r};return s||r.setAttribute("data-grid-span",String(l)),t.concat(c)},[])},oo=function(e,t){return t===void 0&&(t=!1),e.reduce(function(r,n){var i;return!t&&!n.visible?r:n.originSpan===-1?r+((i=n.span)!==null&&i!==void 0?i:1):r+n.span},0)},so=function(e,t){return t===void 0&&(t=!1),e.reduce(function(r,n){var i;return!t&&!n.visible?r:n.originSpan===-1?r+((i=n.span)!==null&&i!==void 0?i:1):r+n.originSpan},0)},wv=function(e,t,r,n,i,a){for(var o=[],s=r;s<=t;s++){var l=e-(s-1)*a,u=l/s;u>=i&&u<=n?o.push(s):u<i?o.push(Math.min(Math.floor(l/i),t)):u>n&&o.push(Math.min(Math.floor(l/n),t))}return Math.max.apply(Math,mv([],vv(o),!1))},Ov=function(e){var t,r;return Number((r=(t=String(e).match(gv))===null||t===void 0?void 0:t[1])!==null&&r!==void 0?r:1)},rt=function(e,t){return yv(e)?_v(e,t.breakpoint):e},Sv=function(e){var t=0,r=0,n=0,i=0;!e.ready||(e.children=e.children.map(function(a){var o,s=t%e.columns,l=r%e.columns,u=e.columns-s,c=a.originSpan,f=c>e.columns?e.columns:c,p=e.options.strictAutoFit?f:f>u?u:f,h=c===-1?"span ".concat(u," / -1"):"span ".concat(p," / auto");return a.element.style.gridColumn!==h&&(a.element.style.gridColumn=h),a.visible&&(t+=p),r+=p,s===0&&n++,l==0&&i++,a.shadowRow=i,a.shadowColumn=l+1,a.visible&&(a.row=n,a.column=s+1),!((o=e.options)===null||o===void 0)&&o.shouldVisible&&(e.options.shouldVisible(a,e)?(a.visible||(a.element.style.display=""),a.visible=!0):(a.visible&&(a.element.style.display="none"),a.visible=!1)),a}))},uo=function(e){return Promise.resolve(0).then(e)},vu=function(){function e(t){var r=this;this.width=0,this.height=0,this.children=[],this.childTotalColumns=0,this.shadowChildTotalColumns=0,this.childOriginTotalColumns=0,this.shadowChildOriginTotalColumns=0,this.ready=!1,this.connect=function(n){if(n){r.container=n;var i=F.bound(function(){a(),r.ready=!0}),a=F.bound(function(){r.children=xv(r.container.children),r.childTotalColumns=oo(r.children),r.shadowChildTotalColumns=oo(r.children,!0),r.childOriginTotalColumns=so(r.children),r.shadowChildOriginTotalColumns=so(r.children,!0);var u=r.container.getBoundingClientRect();u.width&&u.height&&(r.width=u.width,r.height=u.height),Sv(r),uo(function(){var c,f;(f=(c=r.options)===null||c===void 0?void 0:c.onDigest)===null||f===void 0||f.call(c,r)}),r.ready||uo(function(){var c,f;(f=(c=r.options)===null||c===void 0?void 0:c.onInitialized)===null||f===void 0||f.call(c,r)})}),o=new pv(a),s=new Wu(a),l=Mt(function(){return nn({},r.options)},a);return s.observe(r.container),o.observe(r.container,{attributeFilter:["data-grid-span"],attributes:!0}),i(),function(){s.unobserve(r.container),s.disconnect(),o.disconnect(),l(),r.children=[]}}return function(){}},this.options=nn({breakpoints:[720,1280,1920],columnGap:8,rowGap:4,minWidth:100,colWrap:!0,strictAutoFit:!1},t),Nt(this,{options:m.shallow,width:m.ref,height:m.ref,ready:m.ref,children:m.ref,childOriginTotalColumns:m.ref,shadowChildOriginTotalColumns:m.ref,shadowChildTotalColumns:m.ref,childTotalColumns:m.ref,columns:m.computed,templateColumns:m.computed,gap:m.computed,maxColumns:m.computed,minColumns:m.computed,maxWidth:m.computed,minWidth:m.computed,breakpoints:m.computed,breakpoint:m.computed,rowGap:m.computed,columnGap:m.computed,colWrap:m.computed})}return Object.defineProperty(e.prototype,"breakpoints",{get:function(){return this.options.breakpoints},set:function(t){this.options.breakpoints=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakpoint",{get:function(){return bv(this.options.breakpoints,this.width)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){var t;return(t=rt(this.options.maxWidth,this))!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){var t;return(t=rt(this.options.minWidth,this))!==null&&t!==void 0?t:100},set:function(t){this.options.minWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxColumns",{get:function(){var t;return(t=rt(this.options.maxColumns,this))!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxRows",{get:function(){var t;return(t=this.options.maxRows)!==null&&t!==void 0?t:1/0},set:function(t){this.options.maxRows=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minColumns",{get:function(){var t;return(t=rt(this.options.minColumns,this))!==null&&t!==void 0?t:1},set:function(t){this.options.minColumns=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowGap",{get:function(){var t;return(t=rt(this.options.rowGap,this))!==null&&t!==void 0?t:5},set:function(t){this.options.rowGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnGap",{get:function(){var t;return(t=rt(this.options.columnGap,this))!==null&&t!==void 0?t:10},set:function(t){this.options.columnGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colWrap",{get:function(){var t;return(t=rt(this.options.colWrap,this))!==null&&t!==void 0?t:!0},set:function(t){this.options.colWrap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){if(!this.ready)return 0;var t=this.childOriginTotalColumns;if(this.colWrap===!1)return t;var r=this.childSize,n=Math.round(this.width/(this.maxWidth+this.columnGap)),i=Math.min(t,n),a=this.options.strictAutoFit?n:i,o=Math.round(this.width/(this.minWidth+this.columnGap)),s=Math.min(t,o),l=this.options.strictAutoFit?o:s,u=Math.min(r,t,a,l),c=Math.max(r,t,a,l),f=wv(this.width,c,u,this.maxWidth,this.minWidth,this.columnGap);return f>=this.maxColumns?this.maxColumns:f<=this.minColumns?this.minColumns:f},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return Math.ceil(this.childTotalColumns/this.columns)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowRows",{get:function(){return Math.ceil(this.shadowChildTotalColumns/this.columns)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateColumns",{get:function(){if(!this.width)return"";if(this.maxWidth===1/0)return"repeat(".concat(this.columns,",minmax(0,1fr))");if(this.options.strictAutoFit!==!0){var t=(this.width-(this.columns-1)*this.columnGap)/this.columns;if(t<this.minWidth||t>this.maxWidth)return"repeat(".concat(this.columns,",minmax(0,1fr))")}return"repeat(".concat(this.columns,",minmax(").concat(this.minWidth,"px,").concat(this.maxWidth,"px))")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return"".concat(this.rowGap,"px ").concat(this.columnGap,"px")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childSize",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullnessLastColumn",{get:function(){var t;return this.columns===((t=this.children[this.childSize-1])===null||t===void 0?void 0:t.span)},enumerable:!1,configurable:!0}),e.id=function(t){return t===void 0&&(t={}),JSON.stringify(["maxRows","maxColumns","minColumns","maxWidth","minWidth","breakpoints","columnGap","rowGap","colWrap","strictAutoFit"].map(function(r){return t[r]}))},e}();const mu=Symbol("FormGridContext"),Tv=e=>ts(new vu(e)),Iv=()=>le(mu),Pv=e=>e,Av=(e="span 1")=>e,Ev=()=>{const e=yi();return(e==null?void 0:e.refs)||{}},Cv=H(O({name:"FFormGrid",props:{columnGap:{type:Number},rowGap:{type:Number},minColumns:{type:[Number,Array]},minWidth:{type:[Number,Array]},maxColumns:{type:[Number,Array]},maxWidth:{type:[Number,Array]},breakpoints:{type:Array},colWrap:{type:Boolean,default:!0},strictAutoFit:{type:Boolean,default:!1},shouldVisible:{type:Function,default(){return()=>!0}},grid:{type:Object}},setup(e,{slots:t}){const r=lu(),n=Fe(()=>{var s,l,u,c;const a={};Object.keys(e).forEach(f=>{typeof e[f]!="undefined"&&(a[f]=e[f])});const o=I({columnGap:(l=(s=r.value)==null?void 0:s.gridColumnGap)!=null?l:8,rowGap:(c=(u=r.value)==null?void 0:u.gridRowGap)!=null?c:4},a);return ts(o!=null&&o.grid?o.grid:new vu(o))}),i=`${G}-form-grid`;return ae(mu,n),mi(()=>{const a=Ev();mo(o=>{const s=n.value.connect(a.root);o(()=>{s()})})}),()=>S("div",{class:`${i}`,style:{gridTemplateColumns:n.value.templateColumns,gap:n.value.gap},ref:"root"},t)}})),Fv=H(O({name:"FFormGridColumn",props:{gridSpan:{type:Number,default:1}},setup(e,{slots:t}){return()=>S("div",{"data-grid-span":e.gridSpan},t)}})),Im=ve(Cv,{GridColumn:Fv,useGridSpan:Pv,useFormGrid:Iv,createFormGrid:Tv}),Nv=e=>{const t=B(!1);let r;const n=()=>{r&&(r.unobserve(e.value),r=null)},i=()=>{const o=e.value,s=o.querySelector("label"),l=o.getBoundingClientRect().width,u=s.getBoundingClientRect().width;l!==0&&(u>l?t.value=!0:t.value=!1)},a=pt(()=>e.value,o=>{n(),o&&(r=new hv(i),r.observe(o))},{immediate:!0,flush:"post"});return rr(()=>{n(),a()}),t},lo={info:()=>v(Ve,{},{default:()=>v(Ah,{},{})}),error:()=>v(Ve,{},{default:()=>v(xh,{},{})}),success:()=>v(Ve,{},{default:()=>v(nh,{},{})}),warning:()=>v(Ve,{},{default:()=>v(Uh,{},{})})},st=O({name:"FormItem",props:{className:{},required:{},label:{},colon:{},layout:{},tooltip:{},labelStyle:{},labelAlign:{},labelWrap:{},labelWidth:{},wrapperWidth:{},labelCol:{},wrapperCol:{},wrapperAlign:{},wrapperWrap:{},wrapperStyle:{},fullness:{},addonBefore:{},addonAfter:{},size:{},extra:{},feedbackText:{},feedbackLayout:{},tooltipLayout:{},feedbackStatus:{},feedbackIcon:{},asterisk:{},gridSpan:{},bordered:{default:!0},inset:{default:!1}},setup(e,{slots:t}){const r=B(!1),n=lu(),i=`${G}-form-item`,a=B(null),o=Nv(a);return ae(Ji,B({})),()=>{var Yi,Xi,Qi,Zi,ea,ta,ra,na,ia,aa,oa;const s=Av(e.gridSpan),l={};s&&(l.gridColumn=s);const u=n.value,{label:c,colon:f=(Yi=u.colon)!=null?Yi:!0,layout:p=(Xi=u.layout)!=null?Xi:"horizontal",tooltip:h,labelStyle:d={},labelWrap:y=(Qi=u.labelWrap)!=null?Qi:!1,labelWidth:b=u.labelWidth,wrapperWidth:g=u.wrapperWidth,labelCol:x=u.labelCol,wrapperCol:w=u.wrapperCol,wrapperAlign:A=(Zi=u.wrapperAlign)!=null?Zi:"left",wrapperWrap:k=u.wrapperWrap,wrapperStyle:V={},fullness:C=u.fullness,addonBefore:M,addonAfter:ne,size:dr=u.size,extra:ke,feedbackText:jt,feedbackLayout:Lt=(ea=u.feedbackLayout)!=null?ea:"loose",tooltipLayout:Sn=(ta=u.tooltipLayout)!=null?ta:"icon",feedbackStatus:$e,feedbackIcon:De,asterisk:wu,bordered:Ou=u.bordered,inset:yt=u.inset}=e,Su=u.layout==="vertical"?(na=(ra=e.labelAlign)!=null?ra:u.labelAlign)!=null?na:"left":(aa=(ia=e.labelAlign)!=null?ia:u.labelAlign)!=null?aa:"right";let Tn=!1;b||g?(b&&(d.width=`${b}px`,d.maxWidth=`${b}px`),g&&(V.width=`${g}px`,V.maxWidth=`${g}px`)):(x||w)&&(Tn=!0);const Tu=Lt==="popover"?v("n-popover",{props:{disabled:!jt,placement:"top"}},{default:()=>v("div",{},{default:()=>{var Vt;return(Vt=t.default)==null?void 0:Vt.call(t)}}),trigger:()=>[v("div",{class:{[`${i}-${$e}-help`]:!!$e,[`${i}-help`]:!0}},{default:()=>[$e&&["error","success","warning"].includes($e)?lo[$e]():"",K(jt)]})]}):(oa=t.default)==null?void 0:oa.call(t),Iu=()=>{const Vt=v("div",{class:`${i}-label-content`,ref:"containerRef"},{default:()=>[wu&&v("span",{class:`${i}-asterisk`},{default:()=>["*"]}),v("label",{},{default:()=>[K(c)]})]}),sa=h&&Sn==="text";return sa||o.value?v(fa,{placement:"top",trigger:"hover"},{default:()=>[Vt],trigger:()=>v("div",{},{default:()=>[o.value&&K(c),sa&&K(h)]})}):Vt},Pu=()=>{if(h&&Sn==="icon")return v("span",{class:`${i}-label-tooltip`},{default:()=>[v(fa,{placement:"top",trigger:"hover"},{default:()=>[lo.info],trigger:()=>v("div",{class:`${i}-label-tooltip-content`},{default:()=>[K(h)]})})]})},Au=c&&v("div",{class:{[`${i}-label`]:!0,[`${i}-label-tooltip`]:h&&Sn==="text"||o.value,[`${i}-item-col-${x}`]:Tn&&!!x},style:d},{default:()=>[Iu(),Pu(),c&&v("span",{class:`${i}-colon`},{default:()=>[f?":":""]})]}),Eu=!!jt&&Lt!=="popover"&&Lt!=="none"&&v("div",{class:{[`${i}-${$e}-help`]:!!$e,[`${i}-help`]:!0,[`${i}-help-enter`]:!0,[`${i}-help-enter-active`]:!0}},{default:()=>[K(jt)]}),Cu=ke&&v("div",{class:`${i}-extra`},{default:()=>[ke]}),Fu=v("div",{class:{[`${i}-control`]:!0,[`${i}-item-col-${w}`]:Tn&&!!w}},{default:()=>[v("div",{class:`${i}-control-content`},{default:()=>[M&&v("div",{class:`${i}-addon-before`},{default:()=>[K(M)]}),v("div",{class:{[`${i}-control-content-component`]:!0,[`${i}-control-content-component-has-feedback-icon`]:!!De},style:V},{default:()=>[Tu,De&&v("div",{class:`${i}-feedback-icon`},{default:()=>[typeof De=="string"?v("i",{class:De},{}):K(De)]})]}),ne&&v("div",{class:`${i}-addon-after`},{default:()=>[K(ne)]})]}),Eu,Cu]});return v("div",{style:I({},l),class:{[`${i}`]:!0,[`${i}-layout-${p}`]:!0,[`${i}-${$e}`]:!!$e,[`${i}-feedback-has-text`]:!!jt,[`${i}-size-${dr}`]:!!dr,[`${i}-feedback-layout-${Lt}`]:!!Lt,[`${i}-fullness`]:!!C||!!yt||!!De,[`${i}-inset`]:!!yt,[`${i}-active`]:r.value,[`${i}-inset-active`]:!!yt&&r.value,[`${i}-label-align-${Su}`]:!0,[`${i}-control-align-${A}`]:!0,[`${i}-label-wrap`]:!!y,[`${i}-control-wrap`]:!!k,[`${i}-bordered-none`]:Ou===!1||!!yt||!!De,[`${e.className}`]:!!e.className},on:{"!focus":()=>{(De||yt)&&(r.value=!0)},"!blur":()=>{(De||yt)&&(r.value=!1)}}},{default:()=>[Au,Fu]})}}}),Mv=pe(st,_e({validateStatus:!0,title:"label",required:!0},(e,t)=>{if(q(t)||!t)return e;const n=(()=>{const i=a=>a.reduce((o,s,l)=>s?l<a.length-1?o.concat([s,", "]):o.concat([s]):o,[]);if(!t.validating){if(e.feedbackText)return e.feedbackText;if(t.selfErrors.length)return i(t.selfErrors);if(t.selfWarnings.length)return i(t.selfWarnings);if(t.selfSuccesses.length)return i(t.selfSuccesses)}})();return{feedbackText:Array.isArray(n)?n.join(", "):n,extra:e.extra||t.description}},(e,t)=>{var r;return q(t)||!t?e:{feedbackStatus:t.validateStatus==="validating"?"pending":Array.isArray(t.decorator)&&((r=t.decorator[1])==null?void 0:r.feedbackStatus)||t.validateStatus}},(e,t)=>{if(q(t)||!t)return e;let r=!1;return t.required&&t.pattern!=="readPretty"&&(r=!0),"asterisk"in e&&(r=e.asterisk),{asterisk:r}})),Pm=ve(Mv,{BaseItem:st}),Cr=e=>{var r,n;const t=e.value;return((r=t==null?void 0:t.parent)==null?void 0:r.pattern)||((n=t==null?void 0:t.form)==null?void 0:n.pattern)},Rv=e=>{const t=e.value;if(q(t))return{};if(!t)return{};const r=()=>{if(t.selfErrors.length)return t.selfErrors[0];if(t.selfWarnings.length)return t.selfWarnings[0];if(t.selfSuccesses.length)return t.selfSuccesses[0]};return{feedbackStatus:t.validateStatus==="validating"?"pending":t.validateStatus,feedbackText:r(),extra:t.description}},kv=H(O({name:"FEditable",setup(e,{attrs:t,slots:r}){const n=Q(),i=B(document.body),a=`${G}-editable`,o=l=>{Cr(n)==="editable"&&n.value.setPattern(l?"editable":"readPretty")},s=Mt(()=>Cr(n),l=>{l==="editable"&&n.value.setPattern("readPretty")},{fireImmediately:!0});return rr(s),()=>{const u=n.value.pattern==="editable",c=Cr(n),f=Rv(n),p=()=>{var b,g;u&&!((g=(b=n.value)==null?void 0:b.errors)!=null&&g.length)&&o(!1)},h=b=>{const g=b.target,x=i.value.querySelector(`.${a}-close-btn`);(g==null?void 0:g.contains(x))||(x==null?void 0:x.contains(g))?p():u||setTimeout(()=>{o(!0),setTimeout(()=>{var w;(w=i.value.querySelector("input"))==null||w.focus()})})},d=()=>u?null:v(st,I(I({},t),f),{default:()=>v(c==="editable"?ou:Js,{class:[`${a}-edit-btn`]},{})}),y=()=>u?v(st,I({},t),{default:()=>v(vh,{class:[`${a}-close-btn`]},{})}):null;return v("div",{class:a,ref:i,onClick:h},v("div",{class:`${a}-content`},[v(st,I(I({},t),f),r),d(),y()]))}}})),$v=H(O({name:"FEditablePopover",setup(e,{attrs:t,slots:r}){const n=Q(),i=`${G}-editable`,a=B(!1);return()=>{const o=n.value,s=Cr(n);return v(zu,R(I({},t),{class:[i].concat(t.class),title:t.title||o.title,value:a.value,trigger:"click",onInput:l=>{a.value=l}}),{default:r.default,trigger:()=>v("div",{class:i},v(st,{class:[`${i}-trigger`]},{default:()=>v("div",{class:[`${i}-content`]},[v("span",{class:[`${i}-preview`]},t.title||o.title),v(s==="editable"?ou:Js,{class:[`${i}-edit-btn`]},{})])}))})}}})),Am=ve(kv,{Popover:$v});pe(Hu,_e({title:"label",required:!0},(e,t)=>{var r;return{error:q(t)?void 0:(r=t.selfErrors[0])!=null?r:void 0}}));const Dv=zi,Em=O({name:"FForm",props:["form","component","previewTextPlaceholder","onAutoSubmit","onAutoSubmitFailed"],setup(e,{attrs:t,slots:r}){const n=bn();return()=>{const{form:i,component:a="form",onAutoSubmit:o=t.onAutoSubmit,onAutoSubmitFailed:s=t.autoSubmitFailed,previewTextPlaceholder:l=r==null?void 0:r.previewTextPlaceholder}=e,u=c=>S(Re.Placeholder,{value:l},{default:()=>[S(Jp,t,{default:()=>[S(a,{onSubmit:f=>{var p,h;(p=f==null?void 0:f.stopPropagation)==null||p.call(f),(h=f==null?void 0:f.preventDefault)==null||h.call(f),c.submit(o).catch(s)}},r)]})]});if(i)return S(Dv,{form:i},{default:()=>u(i)});if(!n.value)throw new Error("must pass form instance by createForm");return u(n.value)}}}),Cm=O({name:"FFormButtonGroup",props:{align:{type:String,default:"left"},gutter:{type:Number,default:8},alignFormItem:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){const n=`${G}-form-button-group`;return()=>e.alignFormItem?S(st,R(I({colon:!1,label:" "},r),{style:{margin:0,padding:0,width:"100%"}}),{default:()=>S(tr,{size:e.gutter},t)}):S(tr,R(I({},r),{class:[n],style:{justifyContent:e.align==="left"?"flex-start":e.align==="right"?"flex-end":"center",display:"flex"},size:e.gutter}),t)}}),jv=(e,t)=>{const r=[];return t.mapProperties((n,i)=>{var o,s;const a=e.query(e.address.concat(i)).take();(a==null?void 0:a.display)==="none"||(a==null?void 0:a.display)==="hidden"||((o=n["x-component"])==null?void 0:o.indexOf("FormCollapse.Item"))>-1&&r.push({name:i,props:R(I({},n==null?void 0:n["x-component-props"]),{key:((s=n==null?void 0:n["x-component-props"])==null?void 0:s.key)||i}),schema:n})}),r},gu=e=>{const t=Mi({activeKeys:e,setActiveKeys(r){t.activeKeys=r},hasActiveKey(r){if(Array.isArray(t.activeKeys)){if(t.activeKeys.includes(r))return!0}else if(t.activeKeys==r)return!0;return!1},addActiveKey(r){t.hasActiveKey(r)||(t.activeKeys=ye(t.activeKeys).concat(r))},removeActiveKey(r){Array.isArray(t.activeKeys)?t.activeKeys=t.activeKeys.filter(n=>n!=r):t.activeKeys=""},toggleActiveKey(r){t.hasActiveKey(r)?t.removeActiveKey(r):t.addActiveKey(r)}});return t},Lv=H(O({inheritAttrs:!1,props:{formCollapse:{type:Object},activeKey:{type:[String,Number]}},setup(e,{attrs:t,emit:r}){const n=Q(),i=et(),a=`${G}-form-collapse`,o=Fe(()=>{var u;return(u=e.formCollapse)!=null?u:gu()}),s=u=>{var c,f,p;return e.activeKey?e.activeKey:(c=o.value)!=null&&c.activeKeys?(f=o.value)==null?void 0:f.activeKeys:t.accordion?(p=u[0])==null?void 0:p.name:u.map(h=>h.name)},l=(u,c)=>{const f=n.value.form.queryFeedbacks({type:"error",address:`${n.value.address.concat(u)}.*`});return f.length>0?S(an,{class:[`${a}-errors-badge`],value:f.length},{default:()=>c.title}):c.title};return()=>{const u=jv(n.value,i.value),c=s(u);return S(yo,{class:a,expandedNames:c,onUpdateExpandedNames:f=>{r("input",f),o.value.setActiveKeys(f)}},{default:()=>u.map(({props:f,schema:p,name:h},d)=>S(go,R(I({key:d},f),{name:h}),{default:()=>S(se,{schema:p,name:h},{}),title:()=>S("span",{},{default:()=>[l(h,f)]})}))})}}})),Vv=O({name:"FFormCollapseItem",inheritAttrs:!1,setup(e,{slots:t}){return()=>S(Ee,{},t)}}),Fm=ve(Lv,{Item:Vv,createFormCollapse:gu}),Bv=()=>{const e=Q(),t=et(),r=Ku([]);return t.value.mapProperties((n,i)=>{var o,s;const a=e.value.query(e.value.address.concat(i)).take();(a==null?void 0:a.display)==="none"||(a==null?void 0:a.display)==="hidden"||((o=n["x-component"])==null?void 0:o.indexOf("TabPane"))>-1&&r.push({name:i,props:I({name:((s=n==null?void 0:n["x-component-props"])==null?void 0:s.name)||i},n==null?void 0:n["x-component-props"]),schema:n})}),r},yu=e=>{const t=Mi({activeKey:e,setActiveKey(r){t.activeKey=r}});return t},Uv=H(O({inheritAttrs:!1,props:{formTab:{type:Object},value:{type:String}},setup(e,{attrs:t,emit:r}){const n=Q(),i=`${G}-form-tab`,a=Fe(()=>{var l;return(l=e.formTab)!=null?l:yu()}),o=l=>{var u,c;return(e==null?void 0:e.value)||((u=a.value)==null?void 0:u.activeKey)||((c=l==null?void 0:l[0])==null?void 0:c.name)},s=(l,u)=>{const c=n.value.form.queryFeedbacks({type:"error",address:`${n.value.address.concat(l)}.*`});return c.length?S(an,{class:[`${i}-errors-badge`],value:c.length},{default:()=>u.label}):u.label};return()=>{const l=Bv(),u=o(l);return S(xo,R(I({},t),{class:[i],value:u,"on-update:value":c=>{var f,p;r("input",c),(p=(f=a.value).setActiveKey)==null||p.call(f,c)}}),{default:()=>l.map(({props:c,schema:f,name:p},h)=>S(_o,R(I({key:h},c),{tab:c.name}),{default:()=>S(se,{schema:f,name:p},{}),tab:()=>S("div",{},{default:()=>[s(p,c)]})}))})}}})),Gv=O({name:"FFormTabPane",inheritAttrs:!1,setup(e,{slots:t}){return()=>S(Ee,{},t)}}),Nm=ve(Uv,{TabPane:Gv,createFormTab:yu}),qv=e=>{const t=[];return e.mapProperties((r,n)=>{var i;((i=r["x-component"])==null?void 0:i.indexOf("StepPane"))>-1&&t.push({name:n,props:r["x-component-props"],schema:r})}),t},Wv=(e=0)=>{const t=m({form:null,field:null,steps:[]}),r=T.bound(o=>{const s=t.steps[o];t.steps.forEach(({name:l})=>{t.form.query(`${t.field.address}.${l}`).take(u=>{l===s.name?u.setDisplay("visible"):u.setDisplay("hidden")})})}),n=T.bound(()=>{a.allowNext&&(r(a.current+1),a.setCurrent(a.current+1))}),i=T.bound(()=>{a.allowBack&&(r(a.current-1),a.setCurrent(a.current-1))}),a=Mi({connect(o,s){t.steps=o,t.form=s==null?void 0:s.form,t.field=s},current:e,setCurrent(o){a.current=o},get allowNext(){return a.current<t.steps.length-1},get allowBack(){return a.current>0},async next(){try{await t.form.validate(),n()}catch{}},async back(){i()},async submit(o){var s,l;return(l=(s=t.form)==null?void 0:s.submit)==null?void 0:l.call(s,o)}});return a},zv=H(O({name:"FFormStep",props:{formStep:{type:Object,default(){return{current:0}}}},setup(e,{attrs:t}){var o,s;const r=Q().value,n=`${G}-form-step`,i=et(),a=qv(i.value);return(s=(o=e.formStep).connect)==null||s.call(o,a,r),()=>{var c;const l=e.active||((c=e.formStep)==null?void 0:c.current)||0,u=(f,p)=>f.map(p);return S("div",{class:[n]},{default:()=>[S(Ju,R(I({},t),{current:l+1,style:[{marginBottom:"10px"},t.style]}),{default:()=>u(a,({props:f},p)=>S(Yu,{props:f,key:p},{}))}),u(a,({name:f,schema:p},h)=>{if(h===l)return S(se,{props:{name:f,schema:p},key:h},{})})]})}}})),Hv=O({name:"FFormStepPane",inheritAttrs:!1,setup(e,{slots:t}){return()=>S(Ee,{},t)}}),Mm=ve(zv,{StepPane:Hv,createFormStep:Wv}),pi="FormDialogFooter",Kv=e=>at(e)||J(e)||sn(e)||wn(e),Jv=e=>Kv(e)?{title:e}:e;function bu(e,t,r){(P(t)||wn(t))&&(r=t,t="form-dialog");const n=`${G}-form-dialog`,i={root:document.createElement("div"),form:null,promise:null,app:null,instance:null,openMiddlewares:[],confirmMiddlewares:[],cancelMiddlewares:[]};document.body.appendChild(i.root);const a=Jv(e),o=R(I({},a),{onClosed:()=>{var c,f,p,h,d;(c=a.onClosed)==null||c.call(a),(p=(f=i.app)==null?void 0:f.unmount)==null||p.call(f),i.app=null,i.instance=null,(d=(h=i.root)==null?void 0:h.parentNode)==null||d.removeChild(i.root),i.root=void 0}}),s=H(O({setup(){return()=>v(lr,{},{default:()=>K(r,{form:i.form})})}})),l=(c=!0,f,p)=>{if(!i.instance){const h=O({props:{dialogProps:Object},data(){return{visible:!1}},render(){const C=this.dialogProps,{onNegativeClick:d,negativeText:y,title:b,footer:g,onPositiveClick:x,positiveText:w,okButtonProps:A,cancelButtonProps:k}=C,V=pr(C,["onNegativeClick","negativeText","title","footer","onPositiveClick","positiveText","okButtonProps","cancelButtonProps"]);return v(zi,{form:i.form},{default:()=>v(Xu,R(I({class:[`${n}`],preset:"card"},V),{show:this.visible,"onUpdate:show":M=>{this.visible=M}}),{default:()=>v(s,{},{}),header:()=>v("div",{},{default:()=>K(b)}),footer:()=>v("div",{},{default:()=>{const M=v("span",{id:pi},{});return g===null?[null,M]:g?[K(g),M]:[v(ut,R(I({},k),{onClick:ne=>{d==null||d(ne),p()}}),{default:()=>K(y||"\u53D6\u6D88")}),v(ut,R(I({type:"primary"},A),{loading:i.form.submitting,onClick:ne=>{x==null||x(ne),f()}}),{default:()=>K(w||"\u786E\u5B9A")}),M]}})})})}});i.app=Oo(h,{dialogProps:o,parent:Zs(t)}),i.instance=i.app.mount(i.root)}i.instance.visible=c},u={forOpen:c=>(P(c)&&i.openMiddlewares.push(c),u),forConfirm:c=>(P(c)&&i.confirmMiddlewares.push(c),u),forCancel:c=>(P(c)&&i.cancelMiddlewares.push(c),u),open:c=>(i.promise||(i.promise=new Promise(async(f,p)=>{try{c=await en(o.loadingText,()=>wt(c,i.openMiddlewares)),i.form=i.form||Ns(c)}catch(h){p(h)}l(!0,()=>{i.form.submit(async()=>{await wt(i.form,i.confirmMiddlewares),f(Ne(i.form.values)),u.close()}).catch(p)},async()=>{await en(o.loadingText,()=>wt(i.form,i.cancelMiddlewares)),u.close()})})),i.promise),close:()=>{!i.root||l(!1)}};return u}const Yv=O({name:"FFormDialogFooter",setup(e,{slots:t}){return()=>document.querySelector(`#${pi}`)?v(wo,{to:`#${pi}`},t):null}});bu.Footer=Yv;bu.Portal=Qs("form-dialog");const vi="FormDrawerFooter",Xv=e=>at(e)||J(e)||sn(e)||wn(e),Qv=e=>Xv(e)?{title:e}:e;function _u(e,t,r){(P(t)||wn(t))&&(r=t,t="form-drawer");const n=`${G}-form-drawer`,i={root:document.createElement("div"),form:null,promise:null,app:null,instance:null,openMiddlewares:[],confirmMiddlewares:[],cancelMiddlewares:[]};document.body.appendChild(i.root);const a=Qv(e),o=R(I({},a),{onClosed:()=>{var c,f,p;(c=a.onClosed)==null||c.call(a),i.app.unmount(),i.app=null,i.instance=null,(p=(f=i.root)==null?void 0:f.parentNode)==null||p.removeChild(i.root),i.root=void 0}}),s=H(O({setup(){return()=>S(Ee,{},{default:()=>K(r,{form:i.form})})}})),l=(c=!0,f,p)=>{if(!i.instance){const h=O({props:["drawerProps"],data(){return{visible:!1}},render(){const C=this.drawerProps,{onOK:d,onCancel:y,title:b,footer:g,okText:x,cancelText:w,okButtonProps:A,cancelButtonProps:k}=C,V=pr(C,["onOK","onCancel","title","footer","okText","cancelText","okButtonProps","cancelButtonProps"]);return S(zi,{form:i.form},{default:()=>S(Qu,R(I({class:`${n}`},V),{show:this.visible,"onUpdate:show":M=>{this.visible=M}}),{default:()=>[S(Zu,{class:[`${n}-body`]},{default:()=>[S(s,{},{})],header:()=>S("div",{},{default:()=>[b]}),footer:()=>S("div",{class:[`${n}-footer`]},{default:()=>{const M=S("span",{id:vi},{});return g===null?[null,M]:g?[K(g),M]:[S(ut,R(I({},k),{onClick:ne=>{y==null||y(ne),p()}}),{default:()=>K(w||"\u53D6\u6D88")}),S(ut,R(I({type:"primary"},A),{onClick:ne=>{d==null||d(ne),f()}}),{default:()=>K(x||"\u786E\u5B9A")}),M]}})})]})})}});i.app=Oo(h,{drawerProps:o,parent:Zs(t)}),i.instance=i.app.mount(i.root)}i.instance.visible=c},u={forOpen:c=>(P(c)&&i.openMiddlewares.push(c),u),forConfirm:c=>(P(c)&&i.confirmMiddlewares.push(c),u),forCancel:c=>(P(c)&&i.cancelMiddlewares.push(c),u),open:c=>(i.promise||(i.promise=new Promise(async(f,p)=>{try{c=await en(o.loadingText,()=>wt(c,i.openMiddlewares)),i.form=i.form||Ns(c)}catch(h){p(h)}l(!0,()=>{i.form.submit(async()=>{await wt(i.form,i.confirmMiddlewares),f(Ne(i.form.values)),o.beforeClose?setTimeout(()=>{o.beforeClose(()=>{u.close()})}):u.close()}).catch(p)},async()=>{await en(o.loadingText,()=>wt(i.form,i.cancelMiddlewares)),o.beforeClose?o.beforeClose(()=>{u.close()}):u.close()})})),i.promise),close:()=>{!i.root||l(!1)}};return u}const Zv=O({name:"FFormDrawerFooter",setup(e,{slots:t}){return()=>document.querySelector(`#${vi}`)?S(wo,{to:`#${vi}`},t):null}});_u.Footer=Zv;_u.Portal=Qs("form-drawer");const em=We(el,{change:"update:value"}),xu=pe(em,_e({readOnly:"readonly"}),tt(Re.Input)),tm=pe(xu,_e(e=>R(I({},e),{type:"textarea"})),tt(Re.Input)),Rm=ve(xu,{TextArea:tm}),rm=We(tl,{change:"update:value"}),km=pe(rm,_e({value:"value",readOnly:"readonly"},e=>{let t="right";return e.controlsPosition&&(t=e.controlsPosition),{controlsPosition:t,modelValue:e.modelValue}}),tt(Re.Input)),nm=We(rl,{change:"update:value"}),im=O({name:"FRadioGroup",props:{options:{type:Array,default:()=>[]},optionType:{type:String,default:"default"}},setup(e,{attrs:t,slots:r}){return()=>{const n=e.options||[],i=e.optionType==="button"?nl:So,a=n.length!==0?{default:()=>n.map(o=>typeof o=="string"?v(i,{label:o},{default:()=>{var s;return[K((s=r==null?void 0:r.option)!=null?s:o,{option:o})]}}):v(i,R(I({},o),{value:String(o.value),label:o.value}),{default:()=>{var s;return[K((s=r==null?void 0:r.option)!=null?s:o.label,{option:o})]}}))}:r;return v(nm,I({},t),a)}}}),am=pe(im,_e({dataSource:"options",value:"value"}),tt(Re.Select)),$m=ve(So,{Group:am}),Dm=H(O({name:"FReset",props:{forceClear:{type:Boolean,default:!1},validate:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:r}){const n=Us();return()=>{const i=n==null?void 0:n.value;return S(ut,R(I({},t),{onClick:a=>{t!=null&&t.click&&t.click(a)===!1||i==null||i.reset("*",{forceClear:e.forceClear,validate:e.validate}).then(t.resetValidateSuccess).catch(t.resetValidateFailed)}}),r)}}})),om=We(il,{change:"update:value"}),jm=pe(om,_e({readOnly:"readonly",value:"value",dataSource:"options",loading:!0}),tt(Re.Select)),Lm=H(O({name:"FSubmit",props:["onClick","onSubmit","onSubmitSuccess","onSubmitFailed"],setup(e,{attrs:t,slots:r}){const n=Us();return()=>{const{onClick:i=t==null?void 0:t.onClick,onSubmit:a=t==null?void 0:t.onSubmit,onSubmitSuccess:o=t==null?void 0:t.onSubmitSuccess,onSubmitFailed:s=t==null?void 0:t.onSubmitFailed}=e,l=n==null?void 0:n.value;return S(ut,R(I({nativeType:t!=null&&t.submit?"button":"submit",type:"primary"},t),{loading:t.loading!==void 0?t.loading:l==null?void 0:l.submitting,onClick:u=>{i&&i(u)===!1||a&&(l==null||l.submit(a).then(o).catch(s))}}),r)}}})),Vm=pe(al,_e({readOnly:"readonly"})),sm=We(ol,{change:"update:value"}),Bm=pe(sm,_e({readOnly:"readonly",value:"value"}),tt(Re.TimePicker)),um=We(sl,{change:"update:value"}),Um=pe(um,_e({dataSource:"options",value:"value"})),lm=O({name:"UploadWrapper",setup(e,{slots:t,attrs:r,emit:n}){return()=>v(ul,{attrs:r,change:({fileList:i})=>{var a;(a=r.onChange)==null||a.call(r,i),n("change",i)}},I({},t))}}),cm=O({name:"UploadDraggerWrapper",setup(e,{slots:t,attrs:r,emit:n}){return()=>v(hm,R(I({},r),{change:({fileList:i})=>{var a;(a=r.onChange)==null||a.call(r,i),n("change",i)}}),{default:()=>v(ll,{},I({},t))})}}),fm=pe(lm,_e({value:"fileList",onInput:"onChange"})),dm=pe(cm,_e({value:"fileList",onInput:"onChange"})),hm=ve(fm,{Dragger:dm});export{_m as A,Vm as B,Om as C,Tm as D,Am as E,Vd as F,$m as G,Mm as H,km as I,Nm as J,m as K,Ui as L,Um as M,jd as O,Re as P,Dm as R,tr as S,Bm as T,hm as U,Ld as V,Pm as a,ym as b,Ns as c,zi as d,bm as e,Rm as f,jm as g,Jp as h,Lm as i,Cm as j,Em as k,mm as l,xm as m,wm as n,gm as o,Sm as p,T as q,no as r,Dd as s,Fm as t,bu as u,_u as v,H as w,Im as x,Je as y,lr as z};
